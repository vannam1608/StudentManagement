<!-- Nút quay lại -->
<div class="mb-3">
  <a class="btn btn-secondary" routerLink="/admin/subjects">
    ← Quay lại danh sách môn học
  </a>
</div>

<!-- Ô tìm kiếm -->
<div class="mb-3">
  <h4>Tìm kiếm môn học</h4>
  <input
    type="text"
    class="form-control"
    placeholder="Nhập ID, mã môn hoặc tên môn"
    [(ngModel)]="searchText"
    (input)="search()"
  />
</div>

<!-- Dropdown chọn số dòng mỗi trang -->
<div class="mb-3 d-flex align-items-center">
  <label class="me-2">Số môn mỗi trang:</label>
  <select class="form-select w-auto" [(ngModel)]="pageSize" (change)="onPageSizeChange()">
    <option [value]="5">5</option>
    <option [value]="10">10</option>
    <option [value]="20">20</option>
    <option [value]="50">50</option>
  </select>
</div>

<!-- Bảng kết quả -->
<div class="table-responsive" *ngIf="filteredSubjects.length > 0">
  <table class="table table-bordered mt-3">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>Mã môn</th>
        <th>Tên môn</th>
        <th>Tín chỉ</th>
        <th>Mô tả</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let s of pagedSubjects; let i = index">
        <td>{{ (currentPage - 1) * pageSize + i + 1 }}</td>
        <td>{{ s.subjectCode }}</td>
        <td>{{ s.name }}</td>
        <td>{{ s.credit }}</td>
        <td>{{ s.description }}</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Không có kết quả -->
<div *ngIf="filteredSubjects.length === 0" class="alert alert-warning">
  Không tìm thấy môn học nào.
</div>

<!-- Phân trang -->
<nav *ngIf="totalPages > 1" class="mt-3">
  <ul class="pagination justify-content-center flex-wrap">
    <li class="page-item" [class.disabled]="currentPage === 1">
      <button class="page-link" (click)="changePage(currentPage - 1)">Trước</button>
    </li>

    <li
      class="page-item"
      *ngFor="let page of [].constructor(totalPages); let i = index"
      [class.active]="currentPage === i + 1"
    >
      <button class="page-link" (click)="changePage(i + 1)">{{ i + 1 }}</button>
    </li>

    <li class="page-item" [class.disabled]="currentPage === totalPages">
      <button class="page-link" (click)="changePage(currentPage + 1)">Sau</button>
    </li>
  </ul>
</nav>
