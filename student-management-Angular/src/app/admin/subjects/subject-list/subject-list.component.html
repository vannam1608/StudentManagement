<div class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
  <h4 class="mb-0">ğŸ“š Danh sÃ¡ch mÃ´n há»c</h4>
  <div>
    <a class="btn btn-success me-2 mb-1" routerLink="/admin/subjects/available">ğŸ“˜ MÃ´n há»c má»Ÿ</a>
    <a class="btn btn-info me-2 mb-1" routerLink="/admin/subjects/search">ğŸ” TÃ¬m kiáº¿m</a>
    <a class="btn btn-primary mb-1" routerLink="/admin/subjects/create">â• ThÃªm mÃ´n há»c</a>
  </div>
</div>

<!-- Loading -->
<div *ngIf="loading" class="alert alert-info">Äang táº£i dá»¯ liá»‡u...</div>

<!-- Table -->
<div class="table-responsive" *ngIf="!loading && subjects.length">
  <table class="table table-bordered table-hover">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>MÃ£ mÃ´n</th>
        <th>TÃªn mÃ´n</th>
        <th>Sá»‘ tÃ­n chá»‰</th>
        <th>MÃ´ táº£</th>
        <th class="text-center">Thao tÃ¡c</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let s of subjects; let i = index">
        <td>{{ (page - 1) * pageSize + i + 1 }}</td>
        <td>{{ s.subjectCode }}</td>
        <td>{{ s.name }}</td>
        <td>{{ s.credit }}</td>
        <td>{{ s.description }}</td>
        <td class="text-center">
          <a [routerLink]="['/admin/subjects', s.id]" class="btn btn-sm btn-secondary me-1">Xem</a>
          <a [routerLink]="['/admin/subjects/edit', s.id]" class="btn btn-sm btn-warning me-1">Sá»­a</a>
          <button class="btn btn-sm btn-danger" (click)="deleteSubject(s.id)">XoÃ¡</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- KhÃ´ng cÃ³ dá»¯ liá»‡u -->
<div *ngIf="!loading && !subjects.length" class="alert alert-warning">
  KhÃ´ng cÃ³ mÃ´n há»c nÃ o.
</div>

<!-- Pagination -->
<nav *ngIf="!loading && totalPages > 1" class="mt-3">
  <ul class="pagination justify-content-center flex-wrap">
    <li class="page-item" [class.disabled]="page === 1">
      <button class="page-link" (click)="changePage(page - 1)">TrÆ°á»›c</button>
    </li>

    <li 
      class="page-item"
      *ngFor="let p of [].constructor(totalPages); let i = index"
      [class.active]="page === (i + 1)">
      <button class="page-link" (click)="changePage(i + 1)">
        {{ i + 1 }}
      </button>
    </li>

    <li class="page-item" [class.disabled]="page === totalPages">
      <button class="page-link" (click)="changePage(page + 1)">Sau</button>
    </li>
  </ul>
</nav>
