<div class="container">
  <h3 class="mb-4">ğŸ“š Danh sÃ¡ch mÃ´n há»c Ä‘Ã£ Ä‘Äƒng kÃ½</h3>

  <!-- Bá»˜ Lá»ŒC -->
  <div class="row mb-4">
    <!-- CHá»ŒN SINH VIÃŠN -->
    <div class="col-md-6">
      <label class="form-label fw-semibold">ğŸ“ Chá»n sinh viÃªn:</label>
     <select
  class="form-select"
  [(ngModel)]="selectedStudentId"
  (change)="loadEnrollments()">
  <option [ngValue]="null">-- Táº¥t cáº£ sinh viÃªn --</option>
  <option *ngFor="let s of students" [ngValue]="s.id">
    {{ s.fullName }} ({{ s.studentCode }})
  </option>
</select>

    </div>

    <!-- CHá»ŒN Há»ŒC Ká»² -->
    <div class="col-md-6">
      <label class="form-label fw-semibold">ğŸ—“ï¸ Chá»n há»c ká»³:</label>
      <select
        class="form-select"
        [(ngModel)]="selectedSemesterId"
        (change)="loadEnrollments()">
        <option [ngValue]="null">-- Táº¥t cáº£ há»c ká»³ --</option>
        <option *ngFor="let s of semesters" [ngValue]="s.id">
          {{ s.name }}
        </option>
      </select>
    </div>
  </div>

  <!-- Báº¢NG DANH SÃCH ÄÄ‚NG KÃ -->
  <div class="table-responsive">
    <table class="table table-bordered table-striped align-middle">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Sinh viÃªn</th>
          <th>MÃ£ SV</th>
          <th>MÃ´n há»c</th>
          <th>MÃ£ mÃ´n</th>
          <th>Lá»›p há»c pháº§n</th>
          <th>Thá»i khoÃ¡ biá»ƒu</th>
          <th>Há»c ká»³</th>
          <th>NgÃ y Ä‘Äƒng kÃ½</th>
          <th>HÃ nh Ä‘á»™ng</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of enrollments; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ item.fullName }}</td>
          <td>{{ item.studentCode }}</td>
          <td>{{ item.subjectName }}</td>
          <td>{{ item.subjectCode }}</td>
          <td>{{ item.classCode }}</td>
          <td>{{ item.schedule }}</td>
          <td>{{ item.semesterName }}</td>
          <td>{{ item.enrollDate | date: 'shortDate' }}</td>
          <td>
            <button
              class="btn btn-danger btn-sm"
              (click)="delete(item.id)">
              <i class="bi bi-trash"></i> XoÃ¡
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- TRáº NG THÃI Rá»–NG -->
  <div *ngIf="enrollments.length === 0" class="text-center text-muted mt-4">
    ğŸ™ KhÃ´ng cÃ³ Ä‘Äƒng kÃ½ nÃ o Ä‘Æ°á»£c tÃ¬m tháº¥y.
  </div>
</div>
