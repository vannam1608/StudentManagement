2025-08-08 08:37:45.851 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-08 08:37:46.111 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-08 08:37:46.528 +07:00 [DBG] The index {'StudentId'} was not created on entity type 'Enrollment' as the properties are already covered by the index {'StudentId', 'CourseClassId'}.
2025-08-08 08:37:46.729 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:37:46.755 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:37:46.792 +07:00 [DBG] Created DbConnection. (36ms).
2025-08-08 08:37:46.801 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:37:47.123 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:37:47.131 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-08 08:37:47.141 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2025-08-08 08:37:47.148 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2025-08-08 08:37:47.156 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 08:37:47.182 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 08:37:47.186 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:37:47.195 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (6ms).
2025-08-08 08:37:47.199 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-08 08:37:47.201 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-08-08 08:37:47.202 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-08-08 08:37:47.204 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:37:47.206 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:37:47.208 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 08:37:47.228 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 08:37:47.231 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:37:47.233 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 08:37:47.235 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:37:47.238 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:37:47.240 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 08:37:47.246 +07:00 [DBG] Hosting starting
2025-08-08 08:37:47.271 +07:00 [INF] User profile is available. Using 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 08:37:47.287 +07:00 [DBG] Reading data from file 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys\key-0dd40cb8-c696-42e2-b5ed-86cb04ecae42.xml'.
2025-08-08 08:37:47.322 +07:00 [DBG] Found key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42}.
2025-08-08 08:37:47.334 +07:00 [DBG] Considering key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} with expiration date 2025-09-17 12:16:10Z as default key.
2025-08-08 08:37:47.339 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-08 08:37:47.340 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-08 08:37:47.343 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-08 08:37:47.347 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-08 08:37:47.350 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-08 08:37:47.354 +07:00 [DBG] Using key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} as the default key.
2025-08-08 08:37:47.356 +07:00 [DBG] Key ring with default key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} was loaded during application startup.
2025-08-08 08:37:47.561 +07:00 [INF] Now listening on: https://localhost:7172
2025-08-08 08:37:47.563 +07:00 [INF] Now listening on: http://localhost:5117
2025-08-08 08:37:47.564 +07:00 [DBG] Loaded hosting startup assembly StudentManagementAPI
2025-08-08 08:37:47.565 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-08 08:37:47.566 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-08 08:37:47.567 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-08 08:37:47.675 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 08:37:47.676 +07:00 [INF] Hosting environment: Development
2025-08-08 08:37:47.677 +07:00 [INF] Content root path: C:\Users\phamv\OneDrive\Desktop\test\StudentManagement\StudentManagementAPI\StudentManagementAPI
2025-08-08 08:37:47.678 +07:00 [DBG] Hosting started
2025-08-08 08:37:47.814 +07:00 [DBG] Connection id "0HNEM3GN2BODJ" received FIN.
2025-08-08 08:37:47.822 +07:00 [DBG] Connection id "0HNEM3GN2BODJ" accepted.
2025-08-08 08:37:47.825 +07:00 [DBG] Connection id "0HNEM3GN2BODJ" started.
2025-08-08 08:37:47.845 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-08 08:37:47.878 +07:00 [DBG] Connection id "0HNEM3GN2BODJ" stopped.
2025-08-08 08:37:47.881 +07:00 [DBG] Connection id "0HNEM3GN2BODJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 08:37:48.299 +07:00 [DBG] Connection id "0HNEM3GN2BODK" accepted.
2025-08-08 08:37:48.301 +07:00 [DBG] Connection id "0HNEM3GN2BODK" started.
2025-08-08 08:37:48.338 +07:00 [DBG] Connection 0HNEM3GN2BODK established using the following protocol: "Tls13"
2025-08-08 08:37:48.399 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger - null null
2025-08-08 08:37:48.528 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-08 08:37:48.556 +07:00 [DBG] No candidates found for the request path '/swagger'
2025-08-08 08:37:48.559 +07:00 [DBG] Request did not match any endpoints
2025-08-08 08:37:48.570 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger - 301 0 null 179.6752ms
2025-08-08 08:37:48.575 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/index.html - null null
2025-08-08 08:37:48.583 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-08 08:37:48.584 +07:00 [DBG] Request did not match any endpoints
2025-08-08 08:37:48.622 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-08 08:37:48.625 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-08 08:37:48.643 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-08 08:37:48.644 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-08 08:37:48.645 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/index.html - 200 null text/html;charset=utf-8 69.7675ms
2025-08-08 08:37:48.656 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/swagger-ui.css - null null
2025-08-08 08:37:48.657 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - null null
2025-08-08 08:37:48.657 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/swagger-ui-standalone-preset.js - null null
2025-08-08 08:37:48.656 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/swagger-ui-bundle.js - null null
2025-08-08 08:37:48.665 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-08-08 08:37:48.670 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-08-08 08:37:48.679 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-08-08 08:37:48.680 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 22.5073ms
2025-08-08 08:37:48.680 +07:00 [DBG] Request did not match any endpoints
2025-08-08 08:37:48.682 +07:00 [DBG] Request did not match any endpoints
2025-08-08 08:37:48.684 +07:00 [DBG] Request did not match any endpoints
2025-08-08 08:37:48.716 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_vs/browserLink - null null
2025-08-08 08:37:48.734 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-08-08 08:37:48.734 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-08-08 08:37:48.743 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/swagger-ui.css - 200 144929 text/css 86.6ms
2025-08-08 08:37:48.743 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 85.5981ms
2025-08-08 08:37:48.768 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-08-08 08:37:48.769 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 113.019ms
2025-08-08 08:37:48.804 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_vs/browserLink - 200 null text/javascript; charset=UTF-8 87.9693ms
2025-08-08 08:37:48.970 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - null null
2025-08-08 08:37:48.973 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-08 08:37:48.975 +07:00 [DBG] Request did not match any endpoints
2025-08-08 08:37:49.043 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.1479ms
2025-08-08 08:38:02.296 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/auth/login - application/json 53
2025-08-08 08:38:02.308 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-08-08 08:38:02.311 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-08-08 08:38:02.313 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 08:38:02.316 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:38:02.318 +07:00 [DBG] The request has an origin header: 'https://localhost:7172'.
2025-08-08 08:38:02.319 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:38:02.383 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 08:38:02.390 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 08:38:02.420 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 08:38:02.423 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:38:02.425 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:38:02.427 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:38:02.429 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:38:02.431 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:38:02.435 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 08:38:02.457 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 08:38:02.473 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 08:38:02.478 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 08:38:02.481 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 08:38:02.488 +07:00 [DBG] Connection id "0HNEM3GN2BODK", Request id "0HNEM3GN2BODK:00000011": started reading request body.
2025-08-08 08:38:02.491 +07:00 [DBG] Connection id "0HNEM3GN2BODK", Request id "0HNEM3GN2BODK:00000011": done reading request body.
2025-08-08 08:38:02.500 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 08:38:02.502 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 08:38:02.504 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 08:38:02.505 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 08:38:02.528 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 08:38:02.534 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: admin1
2025-08-08 08:38:02.578 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:38:02.620 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2025-08-08 08:38:02.867 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<FullName>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Role>k__BackingField = dataReader.GetString(5);
                                    instance.<Username>k__BackingField = dataReader.GetString(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 08:38:02.900 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:38:02.903 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 08:38:02.906 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:38:02.911 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:38:02.913 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:38:02.914 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 08:38:02.918 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 08:38:02.922 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 08:38:02.960 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 08:38:03.001 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:38:03.026 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:38:03.030 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 64ms reading results.
2025-08-08 08:38:03.034 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:38:03.036 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 08:38:03.038 +07:00 [INF] 🔓 Login successful for user: admin1
2025-08-08 08:38:03.067 +07:00 [INF] ✅ Đăng nhập thành công cho user: admin1
2025-08-08 08:38:03.073 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:38:03.077 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:38:03.078 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:38:03.080 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:38:03.081 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:38:03.084 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 08:38:03.092 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 656.7591ms
2025-08-08 08:38:03.094 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 08:38:03.098 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:38:03.101 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:38:03.104 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 08:38:03.106 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/auth/login - 200 null application/json; charset=utf-8 809.3998ms
2025-08-08 08:40:09.475 +07:00 [DBG] Connection id "0HNEM3GN2BODL" accepted.
2025-08-08 08:40:09.481 +07:00 [DBG] Connection id "0HNEM3GN2BODL" started.
2025-08-08 08:40:09.489 +07:00 [DBG] Connection 0HNEM3GN2BODL established using the following protocol: "Tls13"
2025-08-08 08:40:09.495 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-08 08:40:09.504 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 08:40:09.505 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 08:40:09.507 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:09.508 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:09.510 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:09.511 +07:00 [DBG] The request is a preflight request.
2025-08-08 08:40:09.513 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 18.7257ms
2025-08-08 08:40:09.516 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 44
2025-08-08 08:40:09.521 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 08:40:09.522 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-08 08:40:09.525 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 08:40:09.526 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:09.528 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:09.529 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:09.560 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/7/2025 10:18:26 AM', Current time (UTC): '8/8/2025 1:40:09 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-08 08:40:09.563 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/7/2025 10:18:26 AM', Current time (UTC): '8/8/2025 1:40:09 AM'.
2025-08-08 08:40:09.566 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 08:40:09.567 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 08:40:09.570 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:40:09.571 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:40:09.574 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:40:09.576 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:40:09.577 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:40:09.580 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 08:40:09.584 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 08:40:09.586 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 08:40:09.588 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 08:40:09.590 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 08:40:09.592 +07:00 [DBG] Connection id "0HNEM3GN2BODL", Request id "0HNEM3GN2BODL:00000003": started reading request body.
2025-08-08 08:40:09.594 +07:00 [DBG] Connection id "0HNEM3GN2BODL", Request id "0HNEM3GN2BODL:00000003": done reading request body.
2025-08-08 08:40:09.596 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 08:40:09.598 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 08:40:09.599 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 08:40:09.601 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 08:40:09.603 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 08:40:09.605 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: admin1
2025-08-08 08:40:09.658 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:40:09.665 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:40:09.666 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 08:40:09.668 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:09.669 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:09.670 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:09.671 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 08:40:09.673 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 08:40:09.675 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 08:40:09.683 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 08:40:09.686 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:09.688 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:09.689 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-08 08:40:09.691 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:09.692 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 08:40:09.694 +07:00 [INF] 🔓 Login successful for user: admin1
2025-08-08 08:40:09.695 +07:00 [INF] ✅ Đăng nhập thành công cho user: admin1
2025-08-08 08:40:09.696 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:40:09.699 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:40:09.699 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:40:09.700 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:40:09.701 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:40:09.702 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 08:40:09.704 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 124.4382ms
2025-08-08 08:40:09.706 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 08:40:09.707 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:40:09.709 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:09.710 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 08:40:09.712 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 196.517ms
2025-08-08 08:40:09.885 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - null null
2025-08-08 08:40:09.886 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - null null
2025-08-08 08:40:09.894 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-08 08:40:09.902 +07:00 [DBG] 1 candidate(s) found for the request path '/api/teachers/paged'
2025-08-08 08:40:09.885 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - null null
2025-08-08 08:40:09.886 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - null null
2025-08-08 08:40:09.912 +07:00 [DBG] 1 candidate(s) found for the request path '/api/subjects/paged'
2025-08-08 08:40:09.915 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 08:40:09.916 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 08:40:09.918 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 08:40:09.895 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/score/paged?page=1&pageSize=1 - null null
2025-08-08 08:40:09.921 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-08 08:40:09.922 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 08:40:09.924 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 08:40:09.925 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:09.926 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 08:40:09.929 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/paged'
2025-08-08 08:40:09.930 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 08:40:09.931 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:09.933 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:09.934 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:09.935 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:09.937 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 08:40:09.938 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:09.939 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:09.940 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:09.941 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:09.942 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:09.944 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:09.944 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:09.945 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:09.947 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:09.947 +07:00 [DBG] The request is a preflight request.
2025-08-08 08:40:09.948 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:09.952 +07:00 [DBG] The request is a preflight request.
2025-08-08 08:40:09.953 +07:00 [DBG] The request is a preflight request.
2025-08-08 08:40:09.962 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - 204 null null 76.8241ms
2025-08-08 08:40:09.967 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - 204 null null 72.6801ms
2025-08-08 08:40:09.954 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - 204 null null 69.6488ms
2025-08-08 08:40:09.956 +07:00 [DBG] The request is a preflight request.
2025-08-08 08:40:09.951 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:09.949 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:09.991 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - 204 null null 106.275ms
2025-08-08 08:40:09.992 +07:00 [DBG] The request is a preflight request.
2025-08-08 08:40:09.968 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - null null
2025-08-08 08:40:09.993 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - null null
2025-08-08 08:40:09.997 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - 204 null null 112.0819ms
2025-08-08 08:40:09.994 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:09.959 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - null null
2025-08-08 08:40:09.974 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-08 08:40:10.000 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - null null
2025-08-08 08:40:10.001 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/paged'
2025-08-08 08:40:10.004 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 08:40:10.007 +07:00 [DBG] The request is a preflight request.
2025-08-08 08:40:10.011 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/paged'
2025-08-08 08:40:10.013 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 08:40:10.018 +07:00 [DBG] 2 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-08 08:40:10.020 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-08 08:40:10.022 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/score/paged?page=1&pageSize=1 - 204 null null 127.3774ms
2025-08-08 08:40:10.019 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)' with route pattern 'api/subjects/paged' is valid for the request path '/api/subjects/paged'
2025-08-08 08:40:10.024 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)' with route pattern 'api/teachers/paged' is valid for the request path '/api/teachers/paged'
2025-08-08 08:40:10.026 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/score/paged?page=1&pageSize=1 - null null
2025-08-08 08:40:10.027 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 08:40:10.029 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)' with route pattern 'api/CourseClass/paged' is valid for the request path '/api/CourseClass/paged'
2025-08-08 08:40:10.031 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 08:40:10.036 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/paged'
2025-08-08 08:40:10.038 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/paged'
2025-08-08 08:40:10.041 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/paged'
2025-08-08 08:40:10.042 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 08:40:10.045 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetById (StudentManagementAPI)' with route pattern 'api/CourseClass/{id}' is valid for the request path '/api/CourseClass/paged'
2025-08-08 08:40:10.046 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:10.047 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-08 08:40:10.049 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 08:40:10.051 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)' with route pattern 'api/Score/paged' is valid for the request path '/api/score/paged'
2025-08-08 08:40:10.052 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:10.054 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-08 08:40:10.055 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:10.056 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:10.057 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:10.059 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-08 08:40:10.060 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:10.061 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:10.062 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:10.063 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:10.064 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:10.066 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:10.067 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:10.069 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:10.070 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:10.072 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:10.073 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:10.075 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:10.077 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:10.081 +07:00 [DBG] Successfully validated the token.
2025-08-08 08:40:10.081 +07:00 [DBG] Successfully validated the token.
2025-08-08 08:40:10.081 +07:00 [DBG] Successfully validated the token.
2025-08-08 08:40:10.081 +07:00 [DBG] Successfully validated the token.
2025-08-08 08:40:10.083 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 08:40:10.083 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 08:40:10.084 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 08:40:10.085 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 08:40:10.085 +07:00 [DBG] Successfully validated the token.
2025-08-08 08:40:10.085 +07:00 [DBG] Successfully validated the token.
2025-08-08 08:40:10.090 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 08:40:10.091 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 08:40:10.096 +07:00 [DBG] Authorization was successful.
2025-08-08 08:40:10.096 +07:00 [DBG] Authorization was successful.
2025-08-08 08:40:10.096 +07:00 [DBG] Authorization was successful.
2025-08-08 08:40:10.096 +07:00 [DBG] Authorization was successful.
2025-08-08 08:40:10.096 +07:00 [DBG] Authorization was successful.
2025-08-08 08:40:10.096 +07:00 [DBG] Authorization was successful.
2025-08-08 08:40:10.097 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-08 08:40:10.098 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-08 08:40:10.098 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 08:40:10.100 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 08:40:10.101 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-08 08:40:10.102 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 08:40:10.110 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.Nullable`1[System.Int32]) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-08 08:40:10.110 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 08:40:10.110 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.String) on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-08 08:40:10.112 +07:00 [INF] Route matched with {action = "GetPaged", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedAsync(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-08 08:40:10.112 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 08:40:10.112 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:40:10.112 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-08 08:40:10.114 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:40:10.116 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:40:10.118 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:40:10.122 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:40:10.124 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:40:10.126 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:40:10.128 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:40:10.130 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:40:10.132 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:40:10.134 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:40:10.136 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:40:10.137 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:40:10.139 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:40:10.141 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:40:10.143 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:40:10.145 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:40:10.147 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:40:10.149 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:40:10.151 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:40:10.153 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:40:10.156 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:40:10.158 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:40:10.160 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:40:10.163 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:40:10.164 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:40:10.166 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:40:10.168 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:40:10.170 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:40:10.171 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 08:40:10.173 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:40:10.175 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 08:40:10.177 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 08:40:10.178 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-08 08:40:10.181 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 08:40:10.184 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 08:40:10.294 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 08:40:10.294 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 08:40:10.294 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 08:40:10.294 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 08:40:10.294 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 08:40:10.295 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-08 08:40:10.301 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 08:40:10.301 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 08:40:10.301 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 08:40:10.301 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 08:40:10.303 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 08:40:10.304 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 08:40:10.306 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 08:40:10.308 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 08:40:10.309 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 08:40:10.311 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 08:40:10.312 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 08:40:10.313 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 08:40:10.316 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:10.318 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:10.320 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:10.321 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 08:40:10.321 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:10.323 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 08:40:10.325 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:10.326 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:10.327 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:10.330 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 08:40:10.332 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:10.334 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 08:40:10.335 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 08:40:10.337 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 08:40:10.338 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 08:40:10.341 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 08:40:10.342 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 08:40:10.343 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 08:40:10.346 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:10.346 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:10.348 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:10.350 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 08:40:10.352 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:10.354 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 08:40:10.356 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 08:40:10.357 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 08:40:10.359 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 08:40:10.361 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:40:10.362 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 08:40:10.364 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:40:10.365 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 08:40:10.367 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 08:40:10.369 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 08:40:10.370 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:40:10.372 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 08:40:10.373 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:40:10.376 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:10.378 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:10.380 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:10.381 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 08:40:10.383 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:10.385 +07:00 [DBG] Attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 08:40:10.386 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:10.388 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:10.390 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:10.393 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:40:10.393 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:10.395 +07:00 [DBG] Done attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:40:10.396 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 08:40:10.397 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 08:40:10.399 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 08:40:10.402 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 08:40:10.406 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:10.406 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:40:10.407 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:10.408 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:40:10.410 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:10.410 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:10.412 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' ...
2025-08-08 08:40:10.415 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-08 08:40:10.419 +07:00 [DBG] Compiling query expression: 
'DbSet<CourseClass>()
    .Count()'
2025-08-08 08:40:10.419 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .OrderByDescending(n => n.Id)
    .Count()'
2025-08-08 08:40:10.420 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-08 08:40:10.421 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2025-08-08 08:40:10.423 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' using the name '' in request data ...
2025-08-08 08:40:10.424 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-08 08:40:10.429 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-08 08:40:10.431 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name '' in request data ...
2025-08-08 08:40:10.434 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'teacherCode' of type 'System.String'.
2025-08-08 08:40:10.435 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-08 08:40:10.437 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-08 08:40:10.439 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'keyword' of type 'System.String'.
2025-08-08 08:40:10.441 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-08 08:40:10.443 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 08:40:10.444 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 08:40:10.446 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-08 08:40:10.448 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-08 08:40:10.449 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 08:40:10.450 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 08:40:10.452 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-08 08:40:10.453 +07:00 [DBG] Attempting to validate the bound parameter 'teacherCode' of type 'System.String' ...
2025-08-08 08:40:10.455 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-08 08:40:10.456 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-08 08:40:10.457 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2025-08-08 08:40:10.459 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherCode' of type 'System.String'.
2025-08-08 08:40:10.460 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-08 08:40:10.462 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-08 08:40:10.464 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2025-08-08 08:40:10.464 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM CourseClasses AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM CourseClasses AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 08:40:10.464 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 08:40:10.468 +07:00 [DBG] Attempting to bind parameter 'classCode' of type 'System.String' ...
2025-08-08 08:40:10.470 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:40:10.470 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-08 08:40:10.470 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:40:10.475 +07:00 [DBG] Attempting to bind parameter 'classCode' of type 'System.String' using the name '' in request data ...
2025-08-08 08:40:10.478 +07:00 [DBG] Compiling query expression: 
'DbSet<Teacher>()
    .Include(t => t.User)
    .AsNoTracking()
    .Count()'
2025-08-08 08:40:10.479 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-08-08 08:40:10.480 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:40:10.480 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:40:10.482 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .Include(s => s.User)
    .AsNoTracking()
    .Include(s => s.User)
    .Include(s => s.Department)
    .Include(s => s.Program)
    .Count()'
2025-08-08 08:40:10.483 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'classCode' of type 'System.String'.
2025-08-08 08:40:10.486 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 08:40:10.487 +07:00 [DBG] Created DbConnection. (6ms).
2025-08-08 08:40:10.487 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Teachers AS t) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Teachers AS t, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 08:40:10.488 +07:00 [DBG] Created DbConnection. (8ms).
2025-08-08 08:40:10.491 +07:00 [DBG] Done attempting to bind parameter 'classCode' of type 'System.String'.
2025-08-08 08:40:10.493 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 08:40:10.493 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Students AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Students AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 08:40:10.494 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.497 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:40:10.497 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.499 +07:00 [DBG] Done attempting to bind parameter 'classCode' of type 'System.String'.
2025-08-08 08:40:10.503 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:40:10.504 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.511 +07:00 [DBG] Created DbConnection. (8ms).
2025-08-08 08:40:10.513 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:10.514 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.517 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-08 08:40:10.519 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.527 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-08 08:40:10.500 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 08:40:10.532 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:10.533 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-08 08:40:10.535 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.538 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-08 08:40:10.542 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:10.535 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-08 08:40:10.504 +07:00 [DBG] Created DbConnection. (7ms).
2025-08-08 08:40:10.542 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-08 08:40:10.508 +07:00 [DBG] Attempting to validate the bound parameter 'classCode' of type 'System.String' ...
2025-08-08 08:40:10.546 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-08-08 08:40:10.547 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-08 08:40:10.548 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 08:40:10.550 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.554 +07:00 [DBG] Done attempting to validate the bound parameter 'classCode' of type 'System.String'.
2025-08-08 08:40:10.557 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-08 08:40:10.556 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-08 08:40:10.554 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.569 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 08:40:10.571 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:40:10.573 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.574 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-08 08:40:10.576 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:40:10.576 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 23ms reading results.
2025-08-08 08:40:10.580 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 08:40:10.582 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:10.583 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:40:10.584 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.588 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.588 +07:00 [DBG] Compiling query expression: 
'DbSet<Score>()
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.Student)
    .ThenInclude(u => u.User)
    .Include(s => s.Enrollment.CourseClass)
    .ThenInclude(cc => cc.Subject)
    .Count()'
2025-08-08 08:40:10.590 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.591 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-08-08 08:40:10.592 +07:00 [DBG] Created DbConnection. (9ms).
2025-08-08 08:40:10.594 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-08 08:40:10.596 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-08 08:40:10.598 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 8ms reading results.
2025-08-08 08:40:10.600 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-08-08 08:40:10.603 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.600 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Scores AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Scores AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 08:40:10.609 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.611 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-08 08:40:10.612 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (9ms).
2025-08-08 08:40:10.615 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:40:10.615 +07:00 [DBG] Compiling query expression: 
'DbSet<CourseClass>()
    .Include(c => c.Subject)
    .Include(c => c.Teacher)
    .ThenInclude(t => t.User)
    .Include(c => c.Semester)
    .Include(c => c.Enrollments)
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-08 08:40:10.616 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (6ms).
2025-08-08 08:40:10.618 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:40:10.619 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-08 08:40:10.621 +07:00 [DBG] Created DbConnection. (5ms).
2025-08-08 08:40:10.625 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .Include(s => s.User)
    .AsNoTracking()
    .Include(s => s.User)
    .Include(s => s.Department)
    .Include(s => s.Program)
    .OrderBy(s => s.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-08 08:40:10.627 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:40:10.629 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.630 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.632 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 08:40:10.633 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:40:10.634 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-08 08:40:10.635 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-08 08:40:10.636 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.638 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:40:10.638 +07:00 [DBG] Including navigation: 'CourseClass.Teacher'.
2025-08-08 08:40:10.640 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.643 +07:00 [DBG] Including navigation: 'Student.Department'.
2025-08-08 08:40:10.643 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:10.644 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:40:10.646 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-08 08:40:10.647 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-08 08:40:10.650 +07:00 [DBG] Including navigation: 'Student.Program'.
2025-08-08 08:40:10.650 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-08 08:40:10.651 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .OrderByDescending(n => n.Id)
    .Skip(__p_0)
    .Take(__p_1)
    .Select(dtoNotification => new NotificationDto{ 
        Id = dtoNotification.Id, 
        Title = dtoNotification.Title, 
        Content = dtoNotification.Content, 
        CreatorName = dtoNotification.Creator != null ? dtoNotification.Creator.FullName : "", 
        CreatedAt = dtoNotification.CreatedAt, 
        TargetRole = dtoNotification.TargetRole 
    }
    )'
2025-08-08 08:40:10.652 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 08:40:10.655 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-08 08:40:10.656 +07:00 [DBG] Compiling query expression: 
'DbSet<Teacher>()
    .Include(t => t.User)
    .AsNoTracking()
    .Include(t => t.User)
    .OrderBy(t => t.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-08 08:40:10.657 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-08 08:40:10.663 +07:00 [DBG] Including navigation: 'CourseClass.Enrollments'.
2025-08-08 08:40:10.665 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-08 08:40:10.665 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Scores] AS [s]
2025-08-08 08:40:10.666 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI) in 494.2576ms
2025-08-08 08:40:10.672 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-08 08:40:10.674 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Scores] AS [s]
2025-08-08 08:40:10.675 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:40:10.678 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.679 +07:00 [DBG] Disposing connection to database '' on server ''.
2025-08-08 08:40:10.680 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 08:40:10.681 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 08:40:10.683 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.685 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 716.8357ms
2025-08-08 08:40:10.686 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 08:40:10.693 +07:00 [DBG] Compiling query expression: 
'DbSet<Score>()
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.Student)
    .ThenInclude(u => u.User)
    .Include(s => s.Enrollment.CourseClass)
    .ThenInclude(cc => cc.Subject)
    .OrderBy(s => s.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-08 08:40:10.696 +07:00 [DBG] Including navigation: 'Score.Enrollment'.
2025-08-08 08:40:10.699 +07:00 [DBG] Including navigation: 'Enrollment.Student'.
2025-08-08 08:40:10.701 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-08 08:40:10.703 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-08 08:40:10.706 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 08:40:10.722 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Teacher>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Teacher.Degree (string) Required, 1], [Property: Teacher.TeacherCode (string) Required, 2] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: User.Email (string), 4], [Property: User.FullName (string) Required, 5], [Property: User.PasswordHash (string) Required, 6], [Property: User.Phone (string), 7], [Property: User.Role (string) Required, 8], [Property: User.Username (string) Required, 9] }
        SELECT t0.Id, t0.Degree, t0.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT t.Id, t.Degree, t.TeacherCode
            FROM Teachers AS t
            ORDER BY t.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t0
        INNER JOIN Users AS u ON t0.Id == u.Id
        ORDER BY t0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Teacher.Degree (string) Required, 1], [Property: Teacher.TeacherCode (string) Required, 2] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: User.Email (string), 4], [Property: User.FullName (string) Required, 5], [Property: User.PasswordHash (string) Required, 6], [Property: User.Phone (string), 7], [Property: User.Role (string) Required, 8], [Property: User.Username (string) Required, 9] }
        SELECT t0.Id, t0.Degree, t0.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT t.Id, t.Degree, t.TeacherCode
            FROM Teachers AS t
            ORDER BY t.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t0
        INNER JOIN Users AS u ON t0.Id == u.Id
        ORDER BY t0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Teacher entity;
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Teacher instance1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Teacher);
            (object)dataReader.GetInt32(0) != null ? 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                        {
                            return 
                            {
                                Teacher instance;
                                instance = new Teacher();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Degree>k__BackingField = dataReader.GetString(1);
                                instance.<TeacherCode>k__BackingField = dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Teacher)
                }
                ;
                return instance1;
            } : 
            {
                object[] keyValues1;
                keyValues1 = new object[]{ (object)dataReader.GetInt32(0) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Teacher.Id (int) Required PK FK AfterSave:Throw } | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey().Properties], 
                    keyValues: keyValues1);
            };
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            User instance2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(User);
            (object)dataReader.GetInt32(3) != null ? 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("User")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(3);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<FullName>k__BackingField = dataReader.GetString(5);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(6);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<Role>k__BackingField = dataReader.GetString(8);
                                instance.<Username>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                return instance2;
            } : 
            {
                object[] keyValues2;
                keyValues2 = new object[]{ (object)dataReader.GetInt32(3) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("User")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey().Properties], 
                    keyValues: keyValues2);
            };
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
            fixup: (namelessParameter{10}, namelessParameter{11}) => 
            {
                namelessParameter{10}.<User>k__BackingField = namelessParameter{11};
                return namelessParameter{11}.<Teacher>k__BackingField = namelessParameter{10};
            }, 
            trackingQuery: False);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 08:40:10.730 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<NotificationDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            ORDER BY n.Id DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            ORDER BY n.Id DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        DateTime? value5;
        string value6;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.GetString(2);
        value4 = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
        value5 = (DateTime?)dataReader.GetDateTime(4);
        value6 = dataReader.GetString(5);
        return new NotificationDto{ 
            Id = (int)value1, 
            Title = value2, 
            Content = value3, 
            CreatorName = value4, 
            CreatedAt = (DateTime)value5, 
            TargetRole = value6 
        }
        ;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 08:40:10.733 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.734 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Student>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
            3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
        SELECT s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
        FROM 
        (
            SELECT s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            ORDER BY s.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN Departments AS d ON s0.DepartmentId == d.Id
        INNER JOIN EducationPrograms AS e ON s0.ProgramId == e.Id
        ORDER BY s0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
            3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
        SELECT s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
        FROM 
        (
            SELECT s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            ORDER BY s.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN Departments AS d ON s0.DepartmentId == d.Id
        INNER JOIN EducationPrograms AS e ON s0.ProgramId == e.Id
        ORDER BY s0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Student entity;
        User entity;
        Department entity;
        EducationProgram entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Student instance1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Student);
            (object)dataReader.GetInt32(0) != null ? 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Student")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(2);
                                instance.<Gender>k__BackingField = dataReader.GetString(3);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(4);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                return instance1;
            } : 
            {
                object[] keyValues1;
                keyValues1 = new object[]{ (object)dataReader.GetInt32(0) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Student")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Student.Id (int) Required PK FK AfterSave:Throw } | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey().Properties], 
                    keyValues: keyValues1);
            };
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            User instance2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(User);
            (object)dataReader.GetInt32(6) != null ? 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("User")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<FullName>k__BackingField = dataReader.GetString(8);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(9);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                instance.<Role>k__BackingField = dataReader.GetString(11);
                                instance.<Username>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                return instance2;
            } : 
            {
                object[] keyValues2;
                keyValues2 = new object[]{ (object)dataReader.GetInt32(6) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("User")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey().Properties], 
                    keyValues: keyValues2);
            };
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Department instance3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Department);
            (object)dataReader.GetInt32(13) != null ? 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Department")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                instance.<Name>k__BackingField = dataReader.GetString(14);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                return instance3;
            } : 
            {
                object[] keyValues3;
                keyValues3 = new object[]{ (object)dataReader.GetInt32(13) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("Department")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Department").FindPrimaryKey().Properties], 
                    keyValues: keyValues3);
            };
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            EducationProgram instance4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(EducationProgram);
            (object)dataReader.GetInt32(15) != null ? 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("EducationProgram")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("EducationProgram")]: 
                        {
                            return 
                            {
                                EducationProgram instance;
                                instance = new EducationProgram();
                                instance.<Id>k__BackingField = dataReader.GetInt32(15);
                                instance.<Name>k__BackingField = dataReader.GetString(16);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("EducationProgram")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(EducationProgram)
                }
                ;
                return instance4;
            } : 
            {
                object[] keyValues4;
                keyValues4 = new object[]{ (object)dataReader.GetInt32(15) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("EducationProgram")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("EducationProgram").FindPrimaryKey().Properties], 
                    keyValues: keyValues4);
            };
            return instance4;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{18}, namelessParameter{19}) => 
            {
                namelessParameter{18}.<User>k__BackingField = namelessParameter{19};
                return namelessParameter{19}.<Student>k__BackingField = namelessParameter{18};
            }, 
            trackingQuery: False);
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, Department>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.Department (Department) ToPrincipal Department Inverse: Students | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Student").FindNavigation("Department")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Department.Students (ICollection<Student>) Collection ToDependent Student Inverse: Department | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students")], 
            fixup: (namelessParameter{22}, namelessParameter{23}) => 
            {
                namelessParameter{22}.<Department>k__BackingField = namelessParameter{23};
                return [LIFTABLE Constant: ClrICollectionAccessor<Department, ICollection<Student>, Student> | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students").GetCollectionAccessor()].Add(
                    entity: namelessParameter{23}, 
                    value: namelessParameter{22}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, EducationProgram>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.Program (EducationProgram) ToPrincipal EducationProgram Inverse: Students | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("Student").FindNavigation("Program")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: EducationProgram.Students (ICollection<Student>) Collection ToDependent Student Inverse: Program | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students")], 
            fixup: (namelessParameter{27}, namelessParameter{28}) => 
            {
                namelessParameter{27}.<Program>k__BackingField = namelessParameter{28};
                return [LIFTABLE Constant: ClrICollectionAccessor<EducationProgram, ICollection<Student>, Student> | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students").GetCollectionAccessor()].Add(
                    entity: namelessParameter{28}, 
                    value: namelessParameter{27}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 08:40:10.735 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.737 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.741 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:10.742 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Score>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
        SELECT s0.Id, s0.EnrollmentId, s0.Final, s0.Midterm, s0.Other, s0.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s1.Id, s1.DateOfBirth, s1.DepartmentId, s1.Gender, s1.ProgramId, s1.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s2.Id, s2.Credit, s2.Description, s2.Name, s2.SemesterId, s2.SubjectCode
        FROM 
        (
            SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total
            FROM Scores AS s
            ORDER BY s.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Enrollments AS e ON s0.EnrollmentId == e.Id
        INNER JOIN Students AS s1 ON e.StudentId == s1.Id
        INNER JOIN Users AS u ON s1.Id == u.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s2 ON c.SubjectId == s2.Id
        ORDER BY s0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
        SELECT s0.Id, s0.EnrollmentId, s0.Final, s0.Midterm, s0.Other, s0.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s1.Id, s1.DateOfBirth, s1.DepartmentId, s1.Gender, s1.ProgramId, s1.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s2.Id, s2.Credit, s2.Description, s2.Name, s2.SemesterId, s2.SubjectCode
        FROM 
        (
            SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total
            FROM Scores AS s
            ORDER BY s.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Enrollments AS e ON s0.EnrollmentId == e.Id
        INNER JOIN Students AS s1 ON e.StudentId == s1.Id
        INNER JOIN Users AS u ON s1.Id == u.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s2 ON c.SubjectId == s2.Id
        ORDER BY s0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Score entity;
        Enrollment entity;
        Student entity;
        User entity;
        CourseClass entity;
        Subject entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Score instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Score);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Score.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Score)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]: 
                        {
                            return 
                            {
                                Score instance;
                                instance = new Score();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EnrollmentId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Final>k__BackingField = dataReader.IsDBNull(2) ? default(double?) : (double?)dataReader.GetDouble(2);
                                instance.<Midterm>k__BackingField = dataReader.IsDBNull(3) ? default(double?) : (double?)dataReader.GetDouble(3);
                                instance.<Other>k__BackingField = dataReader.IsDBNull(4) ? default(double?) : (double?)dataReader.GetDouble(4);
                                instance.<Total>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Score)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Enrollment instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Enrollment);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Enrollment)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Enrollment")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(7);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(8);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Student instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Student);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(10) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Student)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(10);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(11);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(12);
                                instance.<Gender>k__BackingField = dataReader.GetString(13);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(14);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(15);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            User instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(User);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (User)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<FullName>k__BackingField = dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<Role>k__BackingField = dataReader.GetString(21);
                                instance.<Username>k__BackingField = dataReader.GetString(22);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            CourseClass instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(CourseClass);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (CourseClass)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CourseClass")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(24);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(27);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(28);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(29);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        entity = 
        {
            MaterializationContext materializationContext6;
            IEntityType entityType6;
            Subject instance6;
            InternalEntityEntry entry6;
            bool hasNullKey6;
            materializationContext6 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance6 = default(Subject);
            entry6 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(30) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey6);
            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
            {
                entityType6 = entry6.EntityType;
                return instance6 = (Subject)entry6.Entity;
            } : 
            {
                ISnapshot shadowSnapshot6;
                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType6 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance6 = switch (entityType6)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(30);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(31);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(32) ? default(string) : dataReader.GetString(32);
                                instance.<Name>k__BackingField = dataReader.GetString(33);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(34);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(35);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext6.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType6, 
                    entity: instance6, 
                    snapshot: shadowSnapshot6);
                return instance6;
            } : default(void);
            return instance6;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{20}, namelessParameter{21}) => 
            {
                namelessParameter{20}.<User>k__BackingField = namelessParameter{21};
                return namelessParameter{21}.<Student>k__BackingField = namelessParameter{20};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, Student>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.Student (Student) ToPrincipal Student Inverse: Enrollments | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Student")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: Student | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{24}, namelessParameter{25}) => 
            {
                namelessParameter{24}.<Student>k__BackingField = namelessParameter{25};
                return [LIFTABLE Constant: ClrICollectionAccessor<Student, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{25}, 
                    value: namelessParameter{24}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{27} => namelessParameter{27}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{29}, namelessParameter{30}) => 
            {
                namelessParameter{29}.<Subject>k__BackingField = namelessParameter{30};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{30}, 
                    value: namelessParameter{29}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{32} => namelessParameter{32}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{34}, namelessParameter{35}) => 
            {
                namelessParameter{34}.<CourseClass>k__BackingField = namelessParameter{35};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{35}, 
                    value: namelessParameter{34}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Score, Score, Enrollment>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Score.Enrollment (Enrollment) ToPrincipal Enrollment Inverse: Score | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindNavigation("Enrollment")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.Score (Score) ToDependent Score Inverse: Enrollment | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Score")], 
            fixup: (namelessParameter{39}, namelessParameter{40}) => 
            {
                namelessParameter{39}.<Enrollment>k__BackingField = namelessParameter{40};
                return namelessParameter{40}.<Score>k__BackingField = namelessParameter{39};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 08:40:10.743 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.743 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.744 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 08:40:10.752 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:10.754 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.756 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-08 08:40:10.757 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-08 08:40:10.757 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.758 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:10.760 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-08 08:40:10.761 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-08 08:40:10.763 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.765 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-08 08:40:10.763 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 13], [Property: Teacher.Degree (string) Required, 14], [Property: Teacher.TeacherCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: Semester.EndDate (DateTime) Required, 24], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 25], [Property: Semester.Name (string) Required, 26], [Property: Semester.StartDate (DateTime) Required, 27] }
            5 -> 0
            6 -> 7
            7 -> 13
            8 -> 16
            9 -> 23
            10 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: Enrollment.CourseClassId (int) Required FK Index, 29], [Property: Enrollment.EnrollDate (DateTime) Required, 30], [Property: Enrollment.StudentId (int) Required FK Index, 31] }
            11 -> 28
        SELECT c0.Id, c0.ClassCode, c0.MaxStudents, c0.Schedule, c0.SemesterId, c0.SubjectId, c0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
        FROM 
        (
            SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM CourseClasses AS c
            ORDER BY c.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS c0
        INNER JOIN Subjects AS s ON c0.SubjectId == s.Id
        INNER JOIN Teachers AS t ON c0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id
        INNER JOIN Semesters AS s0 ON c0.SemesterId == s0.Id
        LEFT JOIN Enrollments AS e ON c0.Id == e.CourseClassId
        ORDER BY c0.Id ASC, s.Id ASC, t.Id ASC, u.Id ASC, s0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 13], [Property: Teacher.Degree (string) Required, 14], [Property: Teacher.TeacherCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: Semester.EndDate (DateTime) Required, 24], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 25], [Property: Semester.Name (string) Required, 26], [Property: Semester.StartDate (DateTime) Required, 27] }
            5 -> 0
            6 -> 7
            7 -> 13
            8 -> 16
            9 -> 23
            10 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: Enrollment.CourseClassId (int) Required FK Index, 29], [Property: Enrollment.EnrollDate (DateTime) Required, 30], [Property: Enrollment.StudentId (int) Required FK Index, 31] }
            11 -> 28
        SELECT c0.Id, c0.ClassCode, c0.MaxStudents, c0.Schedule, c0.SemesterId, c0.SubjectId, c0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
        FROM 
        (
            SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM CourseClasses AS c
            ORDER BY c.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS c0
        INNER JOIN Subjects AS s ON c0.SubjectId == s.Id
        INNER JOIN Teachers AS t ON c0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id
        INNER JOIN Semesters AS s0 ON c0.SemesterId == s0.Id
        LEFT JOIN Enrollments AS e ON c0.Id == e.CourseClassId
        ORDER BY c0.Id ASC, s.Id ASC, t.Id ASC, u.Id ASC, s0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            CourseClass entity;
            Subject entity;
            Teacher entity;
            User entity;
            Semester entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                CourseClass instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(CourseClass);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (CourseClass)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                            {
                                return 
                                {
                                    CourseClass instance;
                                    instance = new CourseClass();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                    instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                    instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                    instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(CourseClass)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Subject instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Subject);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Subject)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                            {
                                return 
                                {
                                    Subject instance;
                                    instance = new Subject();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                    instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<Name>k__BackingField = dataReader.GetString(10);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                    instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Subject)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                Teacher instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(Teacher);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Teacher.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (Teacher)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                            {
                                return 
                                {
                                    Teacher instance;
                                    instance = new Teacher();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                    instance.<Degree>k__BackingField = dataReader.GetString(14);
                                    instance.<TeacherCode>k__BackingField = dataReader.GetString(15);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext3.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Teacher)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            entity = 
            {
                MaterializationContext materializationContext4;
                IEntityType entityType4;
                User instance4;
                InternalEntityEntry entry4;
                bool hasNullKey4;
                materializationContext4 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance4 = default(User);
                entry4 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey4);
                !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                {
                    entityType4 = entry4.EntityType;
                    return instance4 = (User)entry4.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot4;
                    shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                    instance4 = switch (entityType4)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<FullName>k__BackingField = dataReader.GetString(18);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                    instance.<Role>k__BackingField = dataReader.GetString(21);
                                    instance.<Username>k__BackingField = dataReader.GetString(22);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext4.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType4, 
                        entity: instance4, 
                        snapshot: shadowSnapshot4);
                    return instance4;
                } : default(void);
                return instance4;
            };
            entity = 
            {
                MaterializationContext materializationContext5;
                IEntityType entityType5;
                Semester instance5;
                InternalEntityEntry entry5;
                bool hasNullKey5;
                materializationContext5 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance5 = default(Semester);
                entry5 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey5);
                !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                {
                    entityType5 = entry5.EntityType;
                    return instance5 = (Semester)entry5.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot5;
                    shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType5 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Semester")];
                    instance5 = switch (entityType5)
                    {
                        case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("Semester")]: 
                            {
                                return 
                                {
                                    Semester instance;
                                    instance = new Semester();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                    instance.<EndDate>k__BackingField = dataReader.GetDateTime(24);
                                    instance.<IsOpen>k__BackingField = dataReader.GetBoolean(25);
                                    instance.<Name>k__BackingField = dataReader.GetString(26);
                                    instance.<StartDate>k__BackingField = dataReader.GetDateTime(27);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext5.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Semester)
                    }
                    ;
                    entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType5, 
                        entity: instance5, 
                        snapshot: shadowSnapshot5);
                    return instance5;
                } : default(void);
                return instance5;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity, 
                entity, 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Subject)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{17}, namelessParameter{18}) => 
                {
                    namelessParameter{17}.<Subject>k__BackingField = namelessParameter{18};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{18}, 
                        value: namelessParameter{17}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
                queryContext: queryContext, 
                entity: (Teacher)(resultContext.Values[2]), 
                relatedEntity: (User)(resultContext.Values[3]), 
                navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
                fixup: (namelessParameter{22}, namelessParameter{23}) => 
                {
                    namelessParameter{22}.<User>k__BackingField = namelessParameter{23};
                    return namelessParameter{23}.<Teacher>k__BackingField = namelessParameter{22};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Teacher>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Teacher)(resultContext.Values[2]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Teacher (Teacher) ToPrincipal Teacher Inverse: CourseClasses | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Teacher")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Teacher.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Teacher | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{26}, namelessParameter{27}) => 
                {
                    namelessParameter{26}.<Teacher>k__BackingField = namelessParameter{27};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Teacher, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{27}, 
                        value: namelessParameter{26}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Semester)(resultContext.Values[4]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{31}, namelessParameter{32}) => 
                {
                    namelessParameter{31}.<Semester>k__BackingField = namelessParameter{32};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{32}, 
                        value: namelessParameter{31}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<CourseClass, CourseClass>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (CourseClass)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(7), 
                    (object)(int?)dataReader.GetInt32(13), 
                    (object)(int?)dataReader.GetInt32(16), 
                    (object)(int?)dataReader.GetInt32(23) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(7), 
                    (object)(int?)dataReader.GetInt32(13), 
                    (object)(int?)dataReader.GetInt32(16), 
                    (object)(int?)dataReader.GetInt32(23) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<CourseClass, Enrollment>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(7), 
                (object)(int?)dataReader.GetInt32(13), 
                (object)(int?)dataReader.GetInt32(16), 
                (object)(int?)dataReader.GetInt32(23) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(7), 
                (object)(int?)dataReader.GetInt32(13), 
                (object)(int?)dataReader.GetInt32(16), 
                (object)(int?)dataReader.GetInt32(23) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(28) ? default(int?) : (int?)dataReader.GetInt32(28) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Enrollment entity;
                entity = 
                {
                    MaterializationContext materializationContext6;
                    IEntityType entityType6;
                    Enrollment instance6;
                    InternalEntityEntry entry6;
                    bool hasNullKey6;
                    materializationContext6 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance6 = default(Enrollment);
                    entry6 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(28) ? default(object) : (object)dataReader.GetInt32(28) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey6);
                    !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                    {
                        entityType6 = entry6.EntityType;
                        return instance6 = (Enrollment)entry6.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot6;
                        shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType6 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Enrollment")];
                        instance6 = switch (entityType6)
                        {
                            case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("Enrollment")]: 
                                {
                                    return 
                                    {
                                        Enrollment instance;
                                        instance = new Enrollment();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(28) ? default(int) : dataReader.GetInt32(28);
                                        instance.<CourseClassId>k__BackingField = dataReader.IsDBNull(29) ? default(int) : dataReader.GetInt32(29);
                                        instance.<EnrollDate>k__BackingField = dataReader.IsDBNull(30) ? default(DateTime) : dataReader.GetDateTime(30);
                                        instance.<StudentId>k__BackingField = dataReader.IsDBNull(31) ? default(int) : dataReader.GetInt32(31);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext6.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Enrollment)
                        }
                        ;
                        entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType6, 
                            entity: instance6, 
                            snapshot: shadowSnapshot6);
                        return instance6;
                    } : default(void);
                    return instance6;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{39} => namelessParameter{39}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            fixup: (namelessParameter{40}, namelessParameter{41}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{42} => namelessParameter{42}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{40}, 
                    value: namelessParameter{41}, 
                    forMaterialization: True);
                return namelessParameter{41}.<CourseClass>k__BackingField = namelessParameter{40};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (CourseClass)(resultContext.Values[0]) : default(CourseClass);
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 08:40:10.768 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 08:40:10.770 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-08 08:40:10.770 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:10.771 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-08-08 08:40:10.785 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 08:40:10.786 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2025-08-08 08:40:10.787 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 08:40:10.788 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.791 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2025-08-08 08:40:10.792 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.790 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.795 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-08 08:40:10.796 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[EnrollmentId], [s0].[Final], [s0].[Midterm], [s0].[Other], [s0].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s1].[Id], [s1].[DateOfBirth], [s1].[DepartmentId], [s1].[Gender], [s1].[ProgramId], [s1].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s2].[Id], [s2].[Credit], [s2].[Description], [s2].[Name], [s2].[SemesterId], [s2].[SubjectCode]
FROM (
    SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total]
    FROM [Scores] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Enrollments] AS [e] ON [s0].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s1] ON [e].[StudentId] = [s1].[Id]
INNER JOIN [Users] AS [u] ON [s1].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s2] ON [c].[SubjectId] = [s2].[Id]
ORDER BY [s0].[Id]
2025-08-08 08:40:10.799 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 08:40:10.798 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 8ms reading results.
2025-08-08 08:40:10.809 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.805 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.814 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.816 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:10.817 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (12ms).
2025-08-08 08:40:10.818 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.818 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-08 08:40:10.819 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[EnrollmentId], [s0].[Final], [s0].[Midterm], [s0].[Other], [s0].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s1].[Id], [s1].[DateOfBirth], [s1].[DepartmentId], [s1].[Gender], [s1].[ProgramId], [s1].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s2].[Id], [s2].[Credit], [s2].[Description], [s2].[Name], [s2].[SemesterId], [s2].[SubjectCode]
FROM (
    SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total]
    FROM [Scores] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Enrollments] AS [e] ON [s0].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s1] ON [e].[StudentId] = [s1].[Id]
INNER JOIN [Users] AS [u] ON [s1].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s2] ON [c].[SubjectId] = [s2].[Id]
ORDER BY [s0].[Id]
2025-08-08 08:40:10.820 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-08 08:40:10.823 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-08 08:40:10.825 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:40:10.829 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-08-08 08:40:10.831 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.832 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.833 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:40:10.834 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-08 08:40:10.836 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-08 08:40:10.837 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:40:10.838 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:40:10.845 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:40:10.846 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:40:10.846 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:40:10.848 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:40:10.848 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-08 08:40:10.848 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:40:10.849 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:40:10.850 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 08:40:10.856 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:40:10.857 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:40:10.857 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.860 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:40:10.861 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Teacher.TeacherDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 08:40:10.864 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:40:10.866 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:40:10.868 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 08:40:10.868 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 687.3355ms
2025-08-08 08:40:10.869 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI) in 685.0758ms
2025-08-08 08:40:10.871 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 08:40:10.873 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 08:40:10.874 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 699.2162ms
2025-08-08 08:40:10.875 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:40:10.876 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:40:10.878 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 08:40:10.879 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.880 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.881 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.882 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:40:10.885 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.885 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-08 08:40:10.885 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.887 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-08 08:40:10.888 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.890 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - 200 null application/json; charset=utf-8 916.4988ms
2025-08-08 08:40:10.894 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 934.415ms
2025-08-08 08:40:10.895 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-08 08:40:10.895 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.896 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.905 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 912.1758ms
2025-08-08 08:40:10.911 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.916 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.919 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.921 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.923 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.925 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.926 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.927 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.928 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.929 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.932 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.934 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.935 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.937 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 110ms reading results.
2025-08-08 08:40:10.938 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.938 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.941 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.942 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-08 08:40:10.951 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:40:10.954 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:40:10.955 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:40:10.956 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:40:10.956 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.957 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:40:10.959 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:10.959 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 08:40:10.961 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.963 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 110ms reading results.
2025-08-08 08:40:10.965 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.966 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 08:40:10.974 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:40:10.976 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI) in 799.2136ms
2025-08-08 08:40:10.976 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:40:10.978 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-08 08:40:10.979 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:40:10.980 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:40:10.981 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:40:10.983 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.983 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:40:10.985 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 08:40:10.986 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 08:40:10.987 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/score/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 962.4108ms
2025-08-08 08:40:10.993 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI) in 815.1491ms
2025-08-08 08:40:10.995 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-08 08:40:10.997 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:40:10.998 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:10.999 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 08:40:11.001 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - 200 null application/json; charset=utf-8 1001.8743ms
2025-08-08 08:40:19.528 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 08:40:19.533 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 08:40:19.534 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 08:40:19.536 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:19.538 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:19.539 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:19.540 +07:00 [DBG] The request is a preflight request.
2025-08-08 08:40:19.542 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 14.3628ms
2025-08-08 08:40:19.548 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 08:40:19.553 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 08:40:19.554 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 08:40:19.556 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 08:40:19.559 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 08:40:19.560 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:19.561 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:19.563 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:19.564 +07:00 [DBG] Successfully validated the token.
2025-08-08 08:40:19.566 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 08:40:19.567 +07:00 [DBG] Authorization was successful.
2025-08-08 08:40:19.568 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 08:40:19.572 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 08:40:19.574 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:40:19.576 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:40:19.577 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:40:19.580 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:40:19.582 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:40:19.583 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 08:40:19.585 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 08:40:19.587 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 08:40:19.589 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 08:40:19.591 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 08:40:19.594 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 08:40:19.596 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 08:40:19.598 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 08:40:19.600 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:40:19.602 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:40:19.603 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 08:40:19.605 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:40:19.610 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:40:19.615 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Count()'
2025-08-08 08:40:19.619 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Users AS u) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Users AS u, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 08:40:19.623 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:40:19.624 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 08:40:19.625 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:19.626 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:19.629 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:19.630 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 08:40:19.632 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 08:40:19.633 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 08:40:19.639 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 08:40:19.643 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:19.645 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 08:40:19.647 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:19.649 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 08:40:19.652 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .OrderBy(u => u.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-08 08:40:19.659 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM Users AS u
        ORDER BY u.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM Users AS u
        ORDER BY u.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<FullName>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<Role>k__BackingField = dataReader.GetString(5);
                                instance.<Username>k__BackingField = dataReader.GetString(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 08:40:19.664 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:19.666 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:19.667 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:19.669 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 08:40:19.670 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 08:40:19.672 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 08:40:19.676 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 08:40:19.679 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:19.681 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:19.683 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:19.685 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:19.686 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:19.688 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:19.690 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:19.692 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:19.694 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:19.695 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:40:19.697 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:19.699 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 20ms reading results.
2025-08-08 08:40:19.701 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:19.703 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 08:40:19.708 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:40:19.711 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:40:19.712 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:40:19.713 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:40:19.714 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:40:19.716 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 08:40:19.722 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 139.2504ms
2025-08-08 08:40:19.725 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 08:40:19.727 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:40:19.728 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:19.730 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 08:40:19.733 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 185.5161ms
2025-08-08 08:40:20.426 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - null null
2025-08-08 08:40:20.429 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 08:40:20.430 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 08:40:20.432 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:20.433 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:20.434 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:20.435 +07:00 [DBG] The request is a preflight request.
2025-08-08 08:40:20.436 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - 204 null null 11.3593ms
2025-08-08 08:40:20.440 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - null null
2025-08-08 08:40:20.444 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 08:40:20.446 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-08 08:40:20.449 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 08:40:20.450 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:40:20.451 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:40:20.452 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:40:20.454 +07:00 [DBG] Successfully validated the token.
2025-08-08 08:40:20.455 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 08:40:20.457 +07:00 [DBG] Authorization was successful.
2025-08-08 08:40:20.458 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 08:40:20.460 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 08:40:20.462 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:40:20.464 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:40:20.466 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:40:20.468 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:40:20.470 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:40:20.472 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 08:40:20.474 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 08:40:20.476 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 08:40:20.477 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 08:40:20.479 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:20.481 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:20.483 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 08:40:20.484 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 08:40:20.486 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 08:40:20.487 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 08:40:20.490 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:20.491 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:20.493 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 08:40:20.494 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:40:20.496 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-08 08:40:20.498 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-08 08:40:20.499 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-08 08:40:20.501 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 08:40:20.503 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 08:40:20.505 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-08 08:40:20.506 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-08 08:40:20.509 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:40:20.512 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:40:20.513 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 08:40:20.514 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:20.516 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:20.518 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:20.519 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 08:40:20.521 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 08:40:20.522 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 08:40:20.527 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 08:40:20.532 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:20.533 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 08:40:20.535 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:20.536 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 08:40:20.539 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:20.541 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:20.543 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:40:20.544 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 08:40:20.546 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 08:40:20.548 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 08:40:20.553 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 08:40:20.557 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:40:20.559 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-08 08:40:20.561 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:20.563 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 08:40:20.566 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:40:20.569 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:40:20.570 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:40:20.570 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:40:20.571 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:40:20.573 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 08:40:20.575 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 103.2371ms
2025-08-08 08:40:20.577 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 08:40:20.578 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:40:20.580 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:40:20.582 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 08:40:20.584 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - 200 null application/json; charset=utf-8 144.3636ms
2025-08-08 08:54:05.298 +07:00 [DBG] Connection id "0HNEM3GN2BODK" received FIN.
2025-08-08 08:54:05.298 +07:00 [DBG] Connection id "0HNEM3GN2BODL" received FIN.
2025-08-08 08:54:05.347 +07:00 [DBG] Connection id "0HNEM3GN2BODL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 08:54:05.350 +07:00 [DBG] Connection id "0HNEM3GN2BODK" is closed. The last processed stream ID was 17.
2025-08-08 08:54:05.350 +07:00 [DBG] Connection id "0HNEM3GN2BODL" is closed. The last processed stream ID was 35.
2025-08-08 08:54:05.351 +07:00 [DBG] The connection queue processing loop for 0HNEM3GN2BODK completed.
2025-08-08 08:54:05.358 +07:00 [DBG] Connection id "0HNEM3GN2BODK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 08:54:05.360 +07:00 [DBG] The connection queue processing loop for 0HNEM3GN2BODL completed.
2025-08-08 08:54:05.364 +07:00 [DBG] Connection id "0HNEM3GN2BODL" stopped.
2025-08-08 08:54:05.376 +07:00 [DBG] Connection id "0HNEM3GN2BODK" stopped.
2025-08-08 08:57:47.462 +07:00 [DBG] Connection id "0HNEM3GN2BODM" accepted.
2025-08-08 08:57:47.469 +07:00 [DBG] Connection id "0HNEM3GN2BODM" started.
2025-08-08 08:57:47.476 +07:00 [DBG] Connection 0HNEM3GN2BODM established using the following protocol: "Tls13"
2025-08-08 08:57:47.495 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - null null
2025-08-08 08:57:47.502 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 08:57:47.504 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 08:57:47.506 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:57:47.508 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:57:47.509 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:57:47.510 +07:00 [DBG] The request is a preflight request.
2025-08-08 08:57:47.512 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - 204 null null 17.2522ms
2025-08-08 08:57:47.515 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - null null
2025-08-08 08:57:47.519 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 08:57:47.520 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-08 08:57:47.521 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 08:57:47.522 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:57:47.523 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:57:47.525 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:57:47.526 +07:00 [DBG] Successfully validated the token.
2025-08-08 08:57:47.528 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 08:57:47.529 +07:00 [DBG] Authorization was successful.
2025-08-08 08:57:47.532 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 08:57:47.534 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 08:57:47.537 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:57:47.539 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:57:47.544 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:57:47.549 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:57:47.553 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:57:47.556 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 08:57:47.562 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 08:57:47.564 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 08:57:47.565 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 08:57:47.568 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 08:57:47.570 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 08:57:47.571 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 08:57:47.574 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 08:57:47.575 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 08:57:47.577 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 08:57:47.578 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:57:47.580 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:57:47.582 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 08:57:47.583 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 08:57:47.585 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-08 08:57:47.587 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-08 08:57:47.589 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-08 08:57:47.591 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 08:57:47.592 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 08:57:47.595 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-08 08:57:47.596 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-08 08:57:47.598 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:57:47.602 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:57:47.603 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 08:57:47.604 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:47.619 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:47.623 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:57:47.624 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 08:57:47.625 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 08:57:47.626 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 08:57:47.631 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 08:57:47.633 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:57:47.635 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 08:57:47.637 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:47.639 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 08:57:47.641 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:47.643 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:47.645 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:57:47.646 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 08:57:47.648 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 08:57:47.650 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 08:57:47.659 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 08:57:47.662 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:57:47.665 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 08:57:47.666 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:47.668 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 08:57:47.669 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:57:47.672 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:57:47.673 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:57:47.674 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:57:47.675 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:57:47.677 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 08:57:47.679 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 123.6624ms
2025-08-08 08:57:47.681 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 08:57:47.682 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:57:47.684 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:47.686 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 08:57:47.688 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - 200 null application/json; charset=utf-8 173.5299ms
2025-08-08 08:57:51.234 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 08:57:51.240 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 08:57:51.242 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 08:57:51.243 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:57:51.245 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:57:51.247 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:57:51.248 +07:00 [DBG] The request is a preflight request.
2025-08-08 08:57:51.249 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 14.8049ms
2025-08-08 08:57:51.254 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 08:57:51.258 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 08:57:51.260 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 08:57:51.262 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 08:57:51.265 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 08:57:51.266 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:57:51.267 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:57:51.269 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:57:51.271 +07:00 [DBG] Successfully validated the token.
2025-08-08 08:57:51.272 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 08:57:51.273 +07:00 [DBG] Authorization was successful.
2025-08-08 08:57:51.275 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 08:57:51.276 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 08:57:51.278 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:57:51.279 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:57:51.281 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:57:51.283 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:57:51.285 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:57:51.286 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 08:57:51.289 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 08:57:51.290 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 08:57:51.292 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 08:57:51.293 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 08:57:51.295 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 08:57:51.297 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 08:57:51.300 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 08:57:51.304 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:57:51.306 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:57:51.308 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 08:57:51.311 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:57:51.314 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:57:51.319 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:57:51.320 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 08:57:51.321 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:51.323 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:51.325 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:57:51.327 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 08:57:51.328 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 08:57:51.330 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 08:57:51.336 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 08:57:51.339 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:57:51.340 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 08:57:51.341 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:51.343 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 08:57:51.345 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:51.347 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:51.348 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:57:51.350 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 08:57:51.352 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 08:57:51.353 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 08:57:51.357 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 08:57:51.359 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:51.361 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:51.362 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:51.364 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:51.365 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:51.367 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:51.368 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:51.370 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:51.371 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:51.373 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:51.375 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:57:51.376 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 16ms reading results.
2025-08-08 08:57:51.378 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:51.380 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 08:57:51.382 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:57:51.384 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:57:51.385 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:57:51.386 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:57:51.387 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:57:51.388 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 08:57:51.390 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 103.4976ms
2025-08-08 08:57:51.392 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 08:57:51.394 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:57:51.395 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:51.397 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 08:57:51.398 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 144.1657ms
2025-08-08 08:57:56.619 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=2&pageSize=10 - null null
2025-08-08 08:57:56.623 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 08:57:56.625 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 08:57:56.626 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:57:56.627 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:57:56.628 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:57:56.629 +07:00 [DBG] The request is a preflight request.
2025-08-08 08:57:56.630 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=2&pageSize=10 - 204 null null 11.1925ms
2025-08-08 08:57:56.632 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=2&pageSize=10 - null null
2025-08-08 08:57:56.637 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 08:57:56.639 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 08:57:56.641 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 08:57:56.644 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 08:57:56.646 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:57:56.647 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:57:56.648 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:57:56.649 +07:00 [DBG] Successfully validated the token.
2025-08-08 08:57:56.651 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 08:57:56.652 +07:00 [DBG] Authorization was successful.
2025-08-08 08:57:56.653 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 08:57:56.654 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 08:57:56.657 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:57:56.659 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:57:56.661 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:57:56.662 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:57:56.665 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:57:56.667 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 08:57:56.669 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 08:57:56.672 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 08:57:56.673 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 08:57:56.675 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 08:57:56.678 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 08:57:56.680 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 08:57:56.681 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 08:57:56.683 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:57:56.686 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:57:56.687 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 08:57:56.689 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:57:56.691 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:57:56.694 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:57:56.695 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 08:57:56.696 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:56.697 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:56.699 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:57:56.701 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 08:57:56.702 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 08:57:56.703 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 08:57:56.708 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 08:57:56.711 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:57:56.713 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 08:57:56.715 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:56.716 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 08:57:56.719 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .OrderBy(u => u.Id)
    .Skip(__p_0)
    .Take(__p_0)'
2025-08-08 08:57:56.724 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM Users AS u
        ORDER BY u.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM Users AS u
        ORDER BY u.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<FullName>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<Role>k__BackingField = dataReader.GetString(5);
                                instance.<Username>k__BackingField = dataReader.GetString(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 08:57:56.729 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:56.731 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:56.733 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:57:56.735 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 08:57:56.736 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 08:57:56.738 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-08-08 08:57:56.742 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-08-08 08:57:56.745 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:56.747 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:56.749 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:56.751 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:56.752 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:56.755 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:56.756 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:56.758 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:56.759 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:57:56.761 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 15ms reading results.
2025-08-08 08:57:56.763 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:56.764 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 08:57:56.766 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:57:56.768 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:57:56.770 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:57:56.771 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:57:56.772 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:57:56.774 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 08:57:56.776 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 109.1385ms
2025-08-08 08:57:56.778 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 08:57:56.780 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:57:56.781 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:56.784 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 08:57:56.786 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=2&pageSize=10 - 200 null application/json; charset=utf-8 153.6948ms
2025-08-08 08:57:57.811 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 08:57:57.814 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 08:57:57.815 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 08:57:57.817 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:57:57.818 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:57:57.819 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:57:57.820 +07:00 [DBG] The request is a preflight request.
2025-08-08 08:57:57.821 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 10.7005ms
2025-08-08 08:57:57.823 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 08:57:57.829 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 08:57:57.831 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 08:57:57.833 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 08:57:57.835 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 08:57:57.837 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 08:57:57.838 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 08:57:57.839 +07:00 [INF] CORS policy execution successful.
2025-08-08 08:57:57.840 +07:00 [DBG] Successfully validated the token.
2025-08-08 08:57:57.841 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 08:57:57.842 +07:00 [DBG] Authorization was successful.
2025-08-08 08:57:57.843 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 08:57:57.845 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 08:57:57.847 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 08:57:57.848 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 08:57:57.850 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 08:57:57.853 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 08:57:57.854 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 08:57:57.856 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 08:57:57.857 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 08:57:57.860 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 08:57:57.861 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 08:57:57.862 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 08:57:57.864 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 08:57:57.867 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 08:57:57.868 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 08:57:57.870 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:57:57.871 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:57:57.873 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 08:57:57.875 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 08:57:57.877 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 08:57:57.879 +07:00 [DBG] Creating DbConnection.
2025-08-08 08:57:57.881 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 08:57:57.882 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:57.883 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:57.884 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:57:57.885 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 08:57:57.887 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 08:57:57.889 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 08:57:57.892 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 08:57:57.896 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:57:57.897 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 08:57:57.898 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:57.901 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 08:57:57.903 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:57.905 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:57.907 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 08:57:57.908 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 08:57:57.909 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 08:57:57.911 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 08:57:57.915 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 08:57:57.917 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:57.919 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:57.921 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:57.923 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:57.924 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:57.925 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:57.928 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:57.929 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:57.931 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:57.932 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 08:57:57.933 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 08:57:57.935 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 18ms reading results.
2025-08-08 08:57:57.937 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:57.939 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 08:57:57.941 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 08:57:57.943 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 08:57:57.945 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 08:57:57.946 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 08:57:57.946 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 08:57:57.948 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 08:57:57.950 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 94.2805ms
2025-08-08 08:57:57.952 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 08:57:57.953 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 08:57:57.954 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 08:57:57.956 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 08:57:57.957 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 134.5281ms
2025-08-08 09:00:29.387 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - null null
2025-08-08 09:00:29.395 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 09:00:29.396 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:00:29.397 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:00:29.398 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:00:29.399 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:00:29.400 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:00:29.402 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - 204 null null 14.8179ms
2025-08-08 09:00:29.406 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - null null
2025-08-08 09:00:29.413 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 09:00:29.415 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-08 09:00:29.417 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 09:00:29.418 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:00:29.419 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:00:29.421 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:00:29.422 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:00:29.423 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:00:29.424 +07:00 [DBG] Authorization was successful.
2025-08-08 09:00:29.425 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 09:00:29.427 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 09:00:29.429 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:00:29.430 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:00:29.432 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:00:29.434 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:00:29.436 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:00:29.437 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 09:00:29.439 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 09:00:29.441 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 09:00:29.442 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 09:00:29.445 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:00:29.446 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:00:29.447 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 09:00:29.448 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 09:00:29.451 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:00:29.453 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 09:00:29.454 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:00:29.456 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:00:29.458 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:00:29.460 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:00:29.461 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-08 09:00:29.463 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-08 09:00:29.465 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-08 09:00:29.467 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 09:00:29.469 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 09:00:29.471 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-08 09:00:29.473 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-08 09:00:29.475 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:00:29.479 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:00:29.480 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 09:00:29.482 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.484 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.486 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:00:29.488 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:00:29.489 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:00:29.491 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 09:00:29.501 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 09:00:29.503 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.504 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:00:29.507 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.508 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:00:29.510 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.513 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.514 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:00:29.515 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:00:29.517 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:00:29.519 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 09:00:29.527 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 09:00:29.529 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.531 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 09:00:29.534 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.535 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:00:29.537 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:00:29.540 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:00:29.541 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:00:29.542 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:00:29.543 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:00:29.544 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:00:29.546 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 108.5195ms
2025-08-08 09:00:29.550 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 09:00:29.555 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:00:29.557 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.558 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:00:29.560 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - 200 null application/json; charset=utf-8 154.5869ms
2025-08-08 09:00:29.890 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:00:29.894 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:00:29.896 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:00:29.897 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:00:29.898 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:00:29.899 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:00:29.900 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:00:29.902 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 12.7022ms
2025-08-08 09:00:29.905 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:00:29.910 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:00:29.911 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 09:00:29.914 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 09:00:29.916 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:00:29.917 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:00:29.918 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:00:29.919 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:00:29.920 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:00:29.921 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:00:29.923 +07:00 [DBG] Authorization was successful.
2025-08-08 09:00:29.924 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:00:29.925 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:00:29.928 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:00:29.930 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:00:29.931 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:00:29.933 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:00:29.935 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:00:29.937 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:00:29.939 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:00:29.940 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:00:29.941 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:00:29.944 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:00:29.946 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:00:29.947 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:00:29.951 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:00:29.952 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:00:29.953 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:00:29.954 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:00:29.956 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:00:29.958 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:00:29.960 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:00:29.961 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:00:29.962 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.965 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.966 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:00:29.968 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:00:29.969 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:00:29.972 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:00:29.976 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:00:29.979 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.981 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:00:29.983 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.985 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 09:00:29.987 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.989 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:29.991 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:00:29.993 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:00:29.994 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:00:29.996 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:00:30.000 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:00:30.002 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:00:30.003 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:00:30.005 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:00:30.007 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:00:30.008 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:00:30.010 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:00:30.012 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:00:30.014 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:00:30.015 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:00:30.017 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:00:30.018 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:00:30.020 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 18ms reading results.
2025-08-08 09:00:30.021 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:30.023 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:00:30.024 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:00:30.027 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:00:30.028 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:00:30.029 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:00:30.029 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:00:30.031 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:00:30.032 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 94.6149ms
2025-08-08 09:00:30.035 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:00:30.036 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:00:30.037 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:00:30.038 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:00:30.041 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 136.3724ms
2025-08-08 09:01:53.357 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:01:53.365 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:01:53.366 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:01:53.367 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:01:53.368 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:01:53.369 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:01:53.369 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:01:53.371 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 14.3952ms
2025-08-08 09:01:53.376 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:01:53.383 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:01:53.384 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 09:01:53.386 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 09:01:53.387 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:01:53.388 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:01:53.389 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:01:53.390 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:01:53.391 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:01:53.392 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:01:53.394 +07:00 [DBG] Authorization was successful.
2025-08-08 09:01:53.394 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:01:53.396 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:01:53.397 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:01:53.400 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:01:53.401 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:01:53.402 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:01:53.404 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:01:53.405 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:01:53.407 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:01:53.408 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:01:53.409 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:01:53.410 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:01:53.412 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:01:53.414 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:01:53.416 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:01:53.417 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:01:53.418 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:01:53.420 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:01:53.422 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:01:53.424 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:01:53.426 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:01:53.427 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 09:01:53.428 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:01:53.430 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:01:53.431 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:01:53.432 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 09:01:53.434 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:01:53.436 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:01:53.439 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:01:53.441 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:01:53.442 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:01:53.444 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:01:53.445 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:01:53.446 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:01:53.448 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:01:53.449 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:01:53.450 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 09:01:53.451 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:01:53.452 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:01:53.457 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:01:53.458 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:01:53.460 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:01:53.461 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:01:53.463 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:01:53.464 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:01:53.465 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:01:53.466 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:01:53.467 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:01:53.469 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:01:53.470 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:01:53.471 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:01:53.472 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 13ms reading results.
2025-08-08 09:01:53.473 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:01:53.474 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:01:53.477 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:01:53.479 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:01:53.479 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:01:53.480 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:01:53.481 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:01:53.483 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:01:53.484 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 79.4315ms
2025-08-08 09:01:53.485 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:01:53.487 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:01:53.488 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:01:53.489 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:01:53.491 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 114.5548ms
2025-08-08 09:21:32.314 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:21:32.326 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:21:32.328 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:21:32.330 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:21:32.331 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:21:32.333 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:21:32.334 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:21:32.335 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 21.9977ms
2025-08-08 09:21:32.342 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:21:32.351 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:21:32.352 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 09:21:32.353 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 09:21:32.355 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:21:32.356 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:21:32.357 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:21:32.359 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:21:32.360 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:21:32.361 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:21:32.362 +07:00 [DBG] Authorization was successful.
2025-08-08 09:21:32.364 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:21:32.366 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:21:32.368 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:21:32.370 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:21:32.372 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:21:32.374 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:21:32.376 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:21:32.378 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:21:32.380 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:21:32.381 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:21:32.383 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:21:32.385 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:21:32.387 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:21:32.389 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:21:32.390 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:21:32.392 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:21:32.394 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:21:32.396 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:21:32.397 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:21:32.400 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:21:32.402 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:21:32.403 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:21:32.404 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:32.419 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:32.423 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:21:32.425 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:21:32.427 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:21:32.429 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:21:32.433 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:21:32.436 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:21:32.438 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:21:32.439 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:32.441 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:21:32.443 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:32.445 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:32.446 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:21:32.448 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:21:32.450 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:21:32.451 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:21:32.456 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:21:32.458 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:32.459 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:32.461 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:32.463 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:32.465 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:32.466 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:32.467 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:32.469 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:32.470 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:32.472 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:32.473 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:21:32.474 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 16ms reading results.
2025-08-08 09:21:32.476 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:32.478 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 09:21:32.480 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:21:32.482 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:21:32.483 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:21:32.484 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:21:32.485 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:21:32.486 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:21:32.487 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 109.626ms
2025-08-08 09:21:32.489 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:21:32.491 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:21:32.492 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:32.493 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:21:32.495 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 152.396ms
2025-08-08 09:21:45.913 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=2&pageSize=10 - null null
2025-08-08 09:21:45.916 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:21:45.917 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:21:45.918 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:21:45.919 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:21:45.921 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:21:45.922 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:21:45.923 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=2&pageSize=10 - 204 null null 9.6981ms
2025-08-08 09:21:45.925 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=2&pageSize=10 - null null
2025-08-08 09:21:45.929 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:21:45.930 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 09:21:45.932 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 09:21:45.933 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:21:45.935 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:21:45.936 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:21:45.938 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:21:45.939 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:21:45.940 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:21:45.941 +07:00 [DBG] Authorization was successful.
2025-08-08 09:21:45.942 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:21:45.943 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:21:45.945 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:21:45.946 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:21:45.947 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:21:45.950 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:21:45.952 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:21:45.953 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:21:45.954 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:21:45.956 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:21:45.958 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:21:45.959 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:21:45.961 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:21:45.962 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:21:45.965 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:21:45.966 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:21:45.968 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:21:45.969 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:21:45.971 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:21:45.973 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:21:45.975 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:21:45.975 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:21:45.977 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:45.978 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:45.979 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:21:45.980 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 09:21:45.982 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:21:45.983 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:21:45.986 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:21:45.989 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:21:45.991 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:21:45.992 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:45.994 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:21:45.995 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:45.997 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:45.999 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:21:46.000 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 09:21:46.001 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:21:46.003 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-08-08 09:21:46.007 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-08-08 09:21:46.009 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:46.010 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:46.011 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:46.013 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:46.014 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:46.015 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:46.017 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:46.018 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:46.020 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:21:46.021 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 12ms reading results.
2025-08-08 09:21:46.022 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:46.024 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:21:46.025 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:21:46.029 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:21:46.029 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:21:46.030 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:21:46.031 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:21:46.032 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:21:46.034 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 80.6691ms
2025-08-08 09:21:46.036 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:21:46.037 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:21:46.039 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:46.040 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:21:46.042 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=2&pageSize=10 - 200 null application/json; charset=utf-8 117.2405ms
2025-08-08 09:21:47.578 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:21:47.581 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:21:47.582 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:21:47.583 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:21:47.584 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:21:47.585 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:21:47.586 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:21:47.586 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 8.8636ms
2025-08-08 09:21:47.589 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:21:47.593 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:21:47.595 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 09:21:47.596 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 09:21:47.598 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:21:47.599 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:21:47.600 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:21:47.600 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:21:47.602 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:21:47.603 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:21:47.604 +07:00 [DBG] Authorization was successful.
2025-08-08 09:21:47.605 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:21:47.606 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:21:47.608 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:21:47.610 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:21:47.612 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:21:47.614 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:21:47.616 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:21:47.617 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:21:47.619 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:21:47.620 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:21:47.621 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:21:47.624 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:21:47.626 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:21:47.627 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:21:47.629 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:21:47.631 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:21:47.632 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:21:47.633 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:21:47.634 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:21:47.637 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:21:47.639 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:21:47.640 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:21:47.640 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:47.641 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:47.643 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:21:47.644 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:21:47.645 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:21:47.646 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:21:47.649 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:21:47.652 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:21:47.653 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:21:47.655 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:47.656 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:21:47.658 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:47.660 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:47.661 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:21:47.662 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:21:47.664 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:21:47.665 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:21:47.668 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:21:47.670 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:47.672 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:47.673 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:47.674 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:47.675 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:47.676 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:47.679 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:47.680 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:47.681 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:47.682 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:47.684 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:21:47.686 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 16ms reading results.
2025-08-08 09:21:47.687 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:47.688 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:21:47.690 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:21:47.693 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:21:47.694 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:21:47.694 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:21:47.695 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:21:47.696 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:21:47.698 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 80.5121ms
2025-08-08 09:21:47.700 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:21:47.701 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:21:47.702 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:47.704 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:21:47.706 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 117.1185ms
2025-08-08 09:21:54.252 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:21:54.256 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:21:54.258 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:21:54.258 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:21:54.259 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:21:54.260 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:21:54.261 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:21:54.262 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 10.0688ms
2025-08-08 09:21:54.265 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:21:54.273 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:21:54.274 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 09:21:54.276 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 09:21:54.278 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:21:54.279 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:21:54.280 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:21:54.281 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:21:54.283 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:21:54.284 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:21:54.285 +07:00 [DBG] Authorization was successful.
2025-08-08 09:21:54.286 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:21:54.287 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:21:54.290 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:21:54.291 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:21:54.292 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:21:54.294 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:21:54.295 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:21:54.297 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:21:54.298 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:21:54.300 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:21:54.301 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:21:54.302 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:21:54.304 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:21:54.306 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:21:54.307 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:21:54.309 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:21:54.311 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:21:54.312 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:21:54.313 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:21:54.315 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:21:54.317 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:21:54.318 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 09:21:54.319 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:54.320 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:54.322 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:21:54.323 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:21:54.324 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:21:54.326 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:21:54.329 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:21:54.332 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:21:54.333 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:21:54.335 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:54.336 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:21:54.338 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:54.339 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:54.340 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:21:54.341 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:21:54.342 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:21:54.344 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:21:54.347 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:21:54.349 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:54.350 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:54.352 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:54.353 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:54.354 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:54.355 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:54.356 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:54.357 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:54.359 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:54.360 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:21:54.361 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:21:54.362 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 13ms reading results.
2025-08-08 09:21:54.363 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:54.364 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (0ms).
2025-08-08 09:21:54.367 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:21:54.369 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:21:54.370 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:21:54.370 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:21:54.371 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:21:54.373 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:21:54.374 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 77.3059ms
2025-08-08 09:21:54.376 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:21:54.377 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:21:54.378 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:21:54.380 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:21:54.381 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 116.9922ms
2025-08-08 09:22:08.581 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:22:08.585 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:22:08.587 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:22:08.589 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:22:08.590 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:22:08.591 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:22:08.592 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:22:08.594 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 12.6085ms
2025-08-08 09:22:08.596 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:22:08.600 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:22:08.601 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 09:22:08.603 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 09:22:08.605 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:08.606 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:22:08.607 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:22:08.608 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:22:08.609 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:22:08.610 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:22:08.611 +07:00 [DBG] Authorization was successful.
2025-08-08 09:22:08.612 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:08.613 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:22:08.615 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:22:08.617 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:22:08.619 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:22:08.620 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:22:08.622 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:22:08.624 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:08.626 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:08.627 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:08.628 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:22:08.630 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:22:08.633 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:22:08.634 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:22:08.636 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:22:08.639 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:08.640 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:08.641 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:08.642 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:08.644 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:22:08.646 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:22:08.647 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:22:08.648 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:08.649 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:08.651 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:08.653 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:22:08.654 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:22:08.655 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:08.660 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:08.662 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:08.663 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:22:08.665 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:08.666 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:22:08.668 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:08.669 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:08.671 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:08.672 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:22:08.674 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:22:08.675 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:22:08.679 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:22:08.682 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:08.683 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:08.684 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:08.686 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:08.688 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:08.689 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:08.690 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:08.691 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:08.693 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:08.695 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:08.696 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:08.697 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 15ms reading results.
2025-08-08 09:22:08.699 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:08.701 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 09:22:08.703 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:22:08.705 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:22:08.705 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:22:08.706 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:22:08.708 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:22:08.709 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:22:08.711 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 86.6299ms
2025-08-08 09:22:08.712 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:08.714 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:22:08.716 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:08.717 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:22:08.718 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 122.7654ms
2025-08-08 09:22:11.592 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=2&pageSize=10 - null null
2025-08-08 09:22:11.595 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:22:11.597 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:22:11.599 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:22:11.600 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:22:11.602 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:22:11.603 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:22:11.604 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=2&pageSize=10 - 204 null null 12.2342ms
2025-08-08 09:22:11.606 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=2&pageSize=10 - null null
2025-08-08 09:22:11.610 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:22:11.611 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 09:22:11.613 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 09:22:11.614 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:11.615 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:22:11.617 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:22:11.618 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:22:11.619 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:22:11.620 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:22:11.621 +07:00 [DBG] Authorization was successful.
2025-08-08 09:22:11.621 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:11.622 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:22:11.624 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:22:11.626 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:22:11.627 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:22:11.629 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:22:11.631 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:22:11.632 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:11.634 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:11.635 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:11.637 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:22:11.639 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:22:11.640 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:22:11.642 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:22:11.643 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:22:11.645 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:11.646 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:11.647 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:11.649 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:11.650 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:22:11.653 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:22:11.654 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:22:11.655 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:11.656 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:11.657 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:11.658 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:22:11.659 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:22:11.661 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:11.664 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:11.667 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:11.668 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:22:11.670 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:11.672 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 09:22:11.674 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:11.676 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:11.677 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:11.679 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:22:11.680 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:22:11.682 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-08-08 09:22:11.685 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-08-08 09:22:11.687 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:11.689 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:11.690 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:11.691 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:11.692 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:11.694 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:11.695 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:11.696 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:11.698 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:11.699 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 11ms reading results.
2025-08-08 09:22:11.701 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:11.702 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:22:11.704 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:22:11.706 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:22:11.707 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:22:11.708 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:22:11.708 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:22:11.709 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:22:11.711 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 78.8388ms
2025-08-08 09:22:11.713 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:11.714 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:22:11.715 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:11.717 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:22:11.718 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=2&pageSize=10 - 200 null application/json; charset=utf-8 112.2035ms
2025-08-08 09:22:18.228 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:22:18.232 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:22:18.234 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:22:18.235 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:22:18.237 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:22:18.238 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:22:18.239 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:22:18.240 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 11.1138ms
2025-08-08 09:22:18.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:22:18.248 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:22:18.249 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 09:22:18.251 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 09:22:18.253 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:18.254 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:22:18.254 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:22:18.256 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:22:18.257 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:22:18.258 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:22:18.260 +07:00 [DBG] Authorization was successful.
2025-08-08 09:22:18.261 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:18.262 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:22:18.264 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:22:18.266 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:22:18.267 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:22:18.269 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:22:18.271 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:22:18.273 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:18.274 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:18.276 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:18.278 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:22:18.280 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:22:18.281 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:22:18.283 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:22:18.286 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:22:18.287 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:18.289 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:18.291 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:18.294 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:18.296 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:22:18.300 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:22:18.301 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 09:22:18.303 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:18.308 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:18.310 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:18.312 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:22:18.315 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 09:22:18.317 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:18.324 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:18.327 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:18.329 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:22:18.331 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:18.332 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:22:18.334 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:18.336 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:18.337 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:18.338 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:22:18.340 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:22:18.341 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:22:18.345 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:22:18.347 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:18.349 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:18.350 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:18.351 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:18.353 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:18.354 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:18.356 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:18.358 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:18.359 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:18.361 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:18.363 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:18.365 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 17ms reading results.
2025-08-08 09:22:18.367 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:18.370 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 09:22:18.372 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:22:18.375 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:22:18.377 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:22:18.378 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:22:18.379 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:22:18.381 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:22:18.383 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 110.0535ms
2025-08-08 09:22:18.386 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:18.388 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:22:18.389 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:18.391 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:22:18.393 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 151.5747ms
2025-08-08 09:22:22.528 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/credentials/paged?page=1&pageSize=10 - null null
2025-08-08 09:22:22.532 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/credentials/paged'
2025-08-08 09:22:22.533 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:22:22.534 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:22:22.535 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:22:22.536 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:22:22.537 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:22:22.538 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/credentials/paged?page=1&pageSize=10 - 204 null null 9.7778ms
2025-08-08 09:22:22.544 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/credentials/paged?page=1&pageSize=10 - null null
2025-08-08 09:22:22.547 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/credentials/paged'
2025-08-08 09:22:22.548 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPagedCredentials (StudentManagementAPI)' with route pattern 'api/users/credentials/paged' is valid for the request path '/api/users/credentials/paged'
2025-08-08 09:22:22.550 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPagedCredentials (StudentManagementAPI)'
2025-08-08 09:22:22.551 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:22:22.552 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:22:22.553 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:22:22.555 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:22:22.556 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:22:22.557 +07:00 [DBG] Authorization was successful.
2025-08-08 09:22:22.558 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPagedCredentials (StudentManagementAPI)'
2025-08-08 09:22:22.561 +07:00 [INF] Route matched with {action = "GetPagedCredentials", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedCredentials(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:22:22.563 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:22:22.565 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:22:22.566 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:22:22.567 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:22:22.569 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:22:22.570 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:22.572 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:22.573 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:22.574 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:22:22.576 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:22:22.578 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:22:22.579 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:22:22.580 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:22:22.581 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:22.583 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:22.584 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:22.585 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:22.587 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:22:22.590 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:22:22.591 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:22:22.591 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:22.593 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:22.594 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:22.594 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 09:22:22.595 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:22:22.597 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:22.601 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:22.602 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:22.604 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:22:22.605 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:22.606 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (0ms).
2025-08-08 09:22:22.607 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:22.608 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:22.609 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:22.611 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:22:22.612 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:22:22.613 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:22:22.617 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:22:22.619 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:22.620 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:22.621 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:22.623 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:22.624 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:22.626 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:22.627 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:22.628 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:22.630 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:22.631 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:22.633 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:22.634 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 15ms reading results.
2025-08-08 09:22:22.635 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:22.636 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:22:22.640 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:22:22.642 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:22:22.643 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:22:22.644 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:22:22.645 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:22:22.647 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserCredentialDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:22:22.651 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPagedCredentials (StudentManagementAPI) in 80.3868ms
2025-08-08 09:22:22.653 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPagedCredentials (StudentManagementAPI)'
2025-08-08 09:22:22.654 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:22:22.655 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:22.656 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:22:22.658 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/credentials/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 114.4333ms
2025-08-08 09:22:23.591 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:22:23.594 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:22:23.596 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:22:23.597 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:22:23.598 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:22:23.599 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:22:23.600 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:22:23.601 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 10.7476ms
2025-08-08 09:22:23.606 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:22:23.609 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:22:23.611 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 09:22:23.613 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 09:22:23.615 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:23.616 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:22:23.617 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:22:23.618 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:22:23.619 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:22:23.621 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:22:23.622 +07:00 [DBG] Authorization was successful.
2025-08-08 09:22:23.623 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:23.624 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:22:23.627 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:22:23.628 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:22:23.630 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:22:23.631 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:22:23.632 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:22:23.634 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:23.636 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:23.637 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:23.638 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:22:23.639 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:22:23.641 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:22:23.642 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:22:23.644 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:22:23.646 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:23.647 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:23.648 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:23.650 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:23.651 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:22:23.654 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:22:23.655 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:22:23.656 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:23.657 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:23.658 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:23.660 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:22:23.661 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:22:23.662 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:23.665 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:23.668 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:23.669 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:22:23.671 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:23.672 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:22:23.674 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:23.676 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:23.677 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:23.678 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 09:22:23.680 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:22:23.681 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:22:23.684 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:22:23.685 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:23.687 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:23.689 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:23.690 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:23.691 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:23.692 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:23.693 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:23.695 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:23.696 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:23.697 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:23.698 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:23.699 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 13ms reading results.
2025-08-08 09:22:23.701 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:23.703 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:22:23.705 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:22:23.707 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:22:23.708 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:22:23.709 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:22:23.710 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:22:23.712 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:22:23.713 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 79.2379ms
2025-08-08 09:22:23.716 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:23.717 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:22:23.718 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:23.720 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:22:23.721 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 115.5026ms
2025-08-08 09:22:24.555 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=2&pageSize=10 - null null
2025-08-08 09:22:24.558 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:22:24.559 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:22:24.561 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:22:24.562 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:22:24.563 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:22:24.564 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:22:24.565 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=2&pageSize=10 - 204 null null 10.9994ms
2025-08-08 09:22:24.567 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=2&pageSize=10 - null null
2025-08-08 09:22:24.571 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:22:24.572 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 09:22:24.574 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 09:22:24.576 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:24.577 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:22:24.578 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:22:24.579 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:22:24.579 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:22:24.581 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:22:24.582 +07:00 [DBG] Authorization was successful.
2025-08-08 09:22:24.583 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:24.584 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:22:24.585 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:22:24.587 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:22:24.588 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:22:24.590 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:22:24.591 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:22:24.593 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:24.594 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:24.595 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:24.597 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:22:24.599 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:22:24.601 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:22:24.602 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:22:24.604 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:22:24.605 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:24.607 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:24.608 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:24.609 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:24.611 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:22:24.613 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:22:24.614 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:22:24.615 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:24.616 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:24.618 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:24.619 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 09:22:24.620 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:22:24.621 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:24.625 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:24.628 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:24.629 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:22:24.631 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:24.632 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:22:24.634 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:24.635 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:24.636 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:24.637 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 09:22:24.639 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:22:24.640 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-08-08 09:22:24.643 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-08-08 09:22:24.645 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:24.646 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:24.648 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:24.649 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:24.650 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:24.651 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:24.652 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:24.654 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:24.655 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:24.656 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-08 09:22:24.658 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:24.659 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:22:24.660 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:22:24.662 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:22:24.663 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:22:24.664 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:22:24.664 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:22:24.666 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:22:24.668 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 74.8849ms
2025-08-08 09:22:24.669 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:24.670 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:22:24.672 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:24.674 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:22:24.675 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=2&pageSize=10 - 200 null application/json; charset=utf-8 108.2362ms
2025-08-08 09:22:25.602 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:22:25.605 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:22:25.606 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 09:22:25.607 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 09:22:25.609 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:25.610 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:22:25.611 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:22:25.612 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:22:25.613 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:22:25.614 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:22:25.615 +07:00 [DBG] Authorization was successful.
2025-08-08 09:22:25.616 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:25.618 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:22:25.620 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:22:25.622 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:22:25.624 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:22:25.626 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:22:25.628 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:22:25.629 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:25.631 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:22:25.633 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:25.634 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:22:25.635 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:22:25.637 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:22:25.639 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:22:25.640 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:22:25.642 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:25.643 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:25.644 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:22:25.645 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:22:25.648 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:22:25.650 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:22:25.651 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:22:25.652 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:25.654 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:25.655 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:25.656 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:22:25.658 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:22:25.659 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:25.662 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:22:25.664 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:25.666 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:22:25.667 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:25.668 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:22:25.670 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:25.671 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:25.673 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:22:25.674 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:22:25.675 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:22:25.676 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:22:25.679 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:22:25.681 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:25.683 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:25.684 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:25.685 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:25.686 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:25.688 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:25.689 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:25.690 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:25.691 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:25.692 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:22:25.693 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:22:25.695 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 13ms reading results.
2025-08-08 09:22:25.696 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:25.698 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:22:25.699 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:22:25.702 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:22:25.702 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:22:25.703 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:22:25.704 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:22:25.705 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:22:25.706 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 77.0102ms
2025-08-08 09:22:25.708 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:22:25.709 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:22:25.711 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:22:25.712 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:22:25.713 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 111.4726ms
2025-08-08 09:24:05.758 +07:00 [DBG] Connection id "0HNEM3GN2BODM" received FIN.
2025-08-08 09:24:05.764 +07:00 [DBG] Connection id "0HNEM3GN2BODM" is closed. The last processed stream ID was 69.
2025-08-08 09:24:05.765 +07:00 [DBG] The connection queue processing loop for 0HNEM3GN2BODM completed.
2025-08-08 09:24:05.771 +07:00 [DBG] Connection id "0HNEM3GN2BODM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 09:24:05.783 +07:00 [DBG] Connection id "0HNEM3GN2BODM" stopped.
2025-08-08 09:57:17.730 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-08 09:57:17.972 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-08 09:57:18.602 +07:00 [DBG] The index {'StudentId'} was not created on entity type 'Enrollment' as the properties are already covered by the index {'StudentId', 'CourseClassId'}.
2025-08-08 09:57:18.784 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:57:18.803 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:57:18.831 +07:00 [DBG] Created DbConnection. (27ms).
2025-08-08 09:57:18.839 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:57:19.057 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:57:19.062 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-08 09:57:19.069 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2025-08-08 09:57:19.073 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2025-08-08 09:57:19.079 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 09:57:19.099 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 09:57:19.104 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:57:19.113 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-08 09:57:19.116 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-08 09:57:19.117 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-08-08 09:57:19.118 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2025-08-08 09:57:19.120 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:57:19.122 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:57:19.124 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 09:57:19.146 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 09:57:19.149 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:57:19.150 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:57:19.153 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:57:19.156 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:57:19.158 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:57:19.163 +07:00 [DBG] Hosting starting
2025-08-08 09:57:19.183 +07:00 [INF] User profile is available. Using 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 09:57:19.195 +07:00 [DBG] Reading data from file 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys\key-0dd40cb8-c696-42e2-b5ed-86cb04ecae42.xml'.
2025-08-08 09:57:19.204 +07:00 [DBG] Found key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42}.
2025-08-08 09:57:19.220 +07:00 [DBG] Considering key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} with expiration date 2025-09-17 12:16:10Z as default key.
2025-08-08 09:57:19.228 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-08 09:57:19.231 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-08 09:57:19.235 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-08 09:57:19.240 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-08 09:57:19.243 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-08 09:57:19.247 +07:00 [DBG] Using key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} as the default key.
2025-08-08 09:57:19.249 +07:00 [DBG] Key ring with default key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} was loaded during application startup.
2025-08-08 09:57:19.400 +07:00 [INF] Now listening on: https://localhost:7172
2025-08-08 09:57:19.402 +07:00 [INF] Now listening on: http://localhost:5117
2025-08-08 09:57:19.404 +07:00 [DBG] Loaded hosting startup assembly StudentManagementAPI
2025-08-08 09:57:19.405 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-08 09:57:19.406 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-08 09:57:19.407 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-08 09:57:19.511 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 09:57:19.513 +07:00 [INF] Hosting environment: Development
2025-08-08 09:57:19.514 +07:00 [INF] Content root path: C:\Users\phamv\OneDrive\Desktop\test\StudentManagement\StudentManagementAPI\StudentManagementAPI
2025-08-08 09:57:19.516 +07:00 [DBG] Hosting started
2025-08-08 09:57:19.805 +07:00 [DBG] Connection id "0HNEM4T57JRA9" accepted.
2025-08-08 09:57:19.808 +07:00 [DBG] Connection id "0HNEM4T57JRA9" started.
2025-08-08 09:57:19.829 +07:00 [DBG] Connection id "0HNEM4T57JRA9" received FIN.
2025-08-08 09:57:19.839 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-08 09:57:19.861 +07:00 [DBG] Connection id "0HNEM4T57JRA9" stopped.
2025-08-08 09:57:19.865 +07:00 [DBG] Connection id "0HNEM4T57JRA9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 09:57:20.097 +07:00 [DBG] Connection id "0HNEM4T57JRAA" accepted.
2025-08-08 09:57:20.100 +07:00 [DBG] Connection id "0HNEM4T57JRAA" started.
2025-08-08 09:57:20.135 +07:00 [DBG] Connection 0HNEM4T57JRAA established using the following protocol: "Tls13"
2025-08-08 09:57:20.191 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger - null null
2025-08-08 09:57:20.310 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-08 09:57:20.336 +07:00 [DBG] No candidates found for the request path '/swagger'
2025-08-08 09:57:20.338 +07:00 [DBG] Request did not match any endpoints
2025-08-08 09:57:20.348 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger - 301 0 null 163.6101ms
2025-08-08 09:57:20.354 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/index.html - null null
2025-08-08 09:57:20.361 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-08 09:57:20.363 +07:00 [DBG] Request did not match any endpoints
2025-08-08 09:57:20.399 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-08 09:57:20.401 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-08 09:57:20.420 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-08 09:57:20.422 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-08 09:57:20.423 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/index.html - 200 null text/html;charset=utf-8 68.8108ms
2025-08-08 09:57:20.433 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/swagger-ui.css - null null
2025-08-08 09:57:20.433 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - null null
2025-08-08 09:57:20.433 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/swagger-ui-standalone-preset.js - null null
2025-08-08 09:57:20.442 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-08-08 09:57:20.447 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-08-08 09:57:20.458 +07:00 [DBG] Request did not match any endpoints
2025-08-08 09:57:20.433 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/swagger-ui-bundle.js - null null
2025-08-08 09:57:20.460 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 26.6424ms
2025-08-08 09:57:20.460 +07:00 [DBG] Request did not match any endpoints
2025-08-08 09:57:20.464 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-08-08 09:57:20.472 +07:00 [DBG] Request did not match any endpoints
2025-08-08 09:57:20.491 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_vs/browserLink - null null
2025-08-08 09:57:20.502 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-08-08 09:57:20.503 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-08-08 09:57:20.511 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 78.6282ms
2025-08-08 09:57:20.511 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/swagger-ui.css - 200 144929 text/css 78.6754ms
2025-08-08 09:57:20.523 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-08-08 09:57:20.531 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 98.0891ms
2025-08-08 09:57:20.610 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_vs/browserLink - 200 null text/javascript; charset=UTF-8 119.2942ms
2025-08-08 09:57:20.800 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - null null
2025-08-08 09:57:20.804 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-08 09:57:20.806 +07:00 [DBG] Request did not match any endpoints
2025-08-08 09:57:20.863 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.5834ms
2025-08-08 09:57:49.743 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/auth/login - application/json 53
2025-08-08 09:57:49.760 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-08-08 09:57:49.762 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-08-08 09:57:49.765 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 09:57:49.768 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:57:49.770 +07:00 [DBG] The request has an origin header: 'https://localhost:7172'.
2025-08-08 09:57:49.771 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:57:49.827 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 09:57:49.837 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 09:57:49.867 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 09:57:49.871 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:57:49.874 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:57:49.876 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:57:49.879 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:57:49.881 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:57:49.884 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 09:57:49.899 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 09:57:49.912 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 09:57:49.917 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 09:57:49.922 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 09:57:49.930 +07:00 [DBG] Connection id "0HNEM4T57JRAA", Request id "0HNEM4T57JRAA:00000011": started reading request body.
2025-08-08 09:57:49.932 +07:00 [DBG] Connection id "0HNEM4T57JRAA", Request id "0HNEM4T57JRAA:00000011": done reading request body.
2025-08-08 09:57:49.942 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 09:57:49.944 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 09:57:49.946 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 09:57:49.948 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 09:57:49.967 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 09:57:49.972 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: admin1
2025-08-08 09:57:50.015 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:57:50.056 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2025-08-08 09:57:50.323 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<FullName>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Role>k__BackingField = dataReader.GetString(5);
                                    instance.<Username>k__BackingField = dataReader.GetString(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 09:57:50.362 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:57:50.364 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 09:57:50.367 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:57:50.370 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:57:50.372 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:57:50.374 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:57:50.378 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 09:57:50.383 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 09:57:50.414 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 09:57:50.455 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:57:50.480 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:57:50.484 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 66ms reading results.
2025-08-08 09:57:50.491 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:57:50.493 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:57:50.495 +07:00 [INF] 🔓 Login successful for user: admin1
2025-08-08 09:57:50.520 +07:00 [INF] ✅ Đăng nhập thành công cho user: admin1
2025-08-08 09:57:50.525 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:57:50.529 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:57:50.530 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:57:50.532 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:57:50.534 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:57:50.536 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 09:57:50.544 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 658.545ms
2025-08-08 09:57:50.546 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 09:57:50.554 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:57:50.557 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:57:50.559 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 09:57:50.561 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/auth/login - 200 null application/json; charset=utf-8 817.8944ms
2025-08-08 09:58:49.286 +07:00 [DBG] Connection id "0HNEM4T57JRAB" accepted.
2025-08-08 09:58:49.288 +07:00 [DBG] Connection id "0HNEM4T57JRAB" started.
2025-08-08 09:58:49.293 +07:00 [DBG] Connection 0HNEM4T57JRAB established using the following protocol: "Tls13"
2025-08-08 09:58:49.296 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-08 09:58:49.305 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 09:58:49.307 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:49.309 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.310 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.312 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.313 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:49.315 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 19.1694ms
2025-08-08 09:58:49.318 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 44
2025-08-08 09:58:49.323 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 09:58:49.324 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-08 09:58:49.326 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 09:58:49.327 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.329 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.330 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.369 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/8/2025 2:40:09 AM', Current time (UTC): '8/8/2025 2:58:49 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-08 09:58:49.372 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/8/2025 2:40:09 AM', Current time (UTC): '8/8/2025 2:58:49 AM'.
2025-08-08 09:58:49.373 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 09:58:49.375 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 09:58:49.377 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:49.379 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:49.380 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:49.383 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:49.385 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:49.386 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 09:58:49.390 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 09:58:49.391 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 09:58:49.393 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 09:58:49.394 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 09:58:49.397 +07:00 [DBG] Connection id "0HNEM4T57JRAB", Request id "0HNEM4T57JRAB:00000003": started reading request body.
2025-08-08 09:58:49.398 +07:00 [DBG] Connection id "0HNEM4T57JRAB", Request id "0HNEM4T57JRAB:00000003": done reading request body.
2025-08-08 09:58:49.400 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 09:58:49.401 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 09:58:49.403 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 09:58:49.404 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 09:58:49.406 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 09:58:49.408 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: admin1
2025-08-08 09:58:49.450 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:49.456 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:49.458 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 09:58:49.459 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:49.460 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:49.462 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:49.463 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:58:49.464 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:58:49.466 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 09:58:49.475 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 09:58:49.478 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:49.480 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:49.481 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-08 09:58:49.484 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:49.485 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:49.487 +07:00 [INF] 🔓 Login successful for user: admin1
2025-08-08 09:58:49.488 +07:00 [INF] ✅ Đăng nhập thành công cho user: admin1
2025-08-08 09:58:49.489 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:49.492 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:49.493 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:49.494 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:49.494 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:49.496 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 09:58:49.497 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 111.0568ms
2025-08-08 09:58:49.499 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 09:58:49.500 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:49.502 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:49.503 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:58:49.505 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 188.2381ms
2025-08-08 09:58:49.582 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - null null
2025-08-08 09:58:49.583 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - null null
2025-08-08 09:58:49.587 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/score/paged?page=1&pageSize=1 - null null
2025-08-08 09:58:49.601 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 09:58:49.610 +07:00 [DBG] 1 candidate(s) found for the request path '/api/teachers/paged'
2025-08-08 09:58:49.584 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - null null
2025-08-08 09:58:49.587 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - null null
2025-08-08 09:58:49.616 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:49.614 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/paged'
2025-08-08 09:58:49.615 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:49.619 +07:00 [DBG] 1 candidate(s) found for the request path '/api/subjects/paged'
2025-08-08 09:58:49.601 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-08 09:58:49.622 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-08 09:58:49.623 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.625 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:49.626 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.627 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:49.630 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 09:58:49.632 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:49.633 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.634 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.635 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.636 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.637 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:49.639 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.640 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.641 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.642 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.643 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.645 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.646 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.647 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:49.648 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.654 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - 204 null null 71.2736ms
2025-08-08 09:58:49.656 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:49.650 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:49.651 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.653 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.667 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/score/paged?page=1&pageSize=1 - 204 null null 79.3323ms
2025-08-08 09:58:49.671 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - null null
2025-08-08 09:58:49.668 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - 204 null null 85.3943ms
2025-08-08 09:58:49.668 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:49.671 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:49.659 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - null null
2025-08-08 09:58:49.686 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 09:58:49.693 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - null null
2025-08-08 09:58:49.692 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - null null
2025-08-08 09:58:49.690 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - 204 null null 106.327ms
2025-08-08 09:58:49.691 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - 204 null null 106.6462ms
2025-08-08 09:58:49.652 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.670 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/score/paged?page=1&pageSize=1 - null null
2025-08-08 09:58:49.700 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/paged'
2025-08-08 09:58:49.700 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-08 09:58:49.704 +07:00 [DBG] 2 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-08 09:58:49.707 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/paged'
2025-08-08 09:58:49.715 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.719 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)' with route pattern 'api/teachers/paged' is valid for the request path '/api/teachers/paged'
2025-08-08 09:58:49.719 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/paged'
2025-08-08 09:58:49.722 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 09:58:49.723 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)' with route pattern 'api/CourseClass/paged' is valid for the request path '/api/CourseClass/paged'
2025-08-08 09:58:49.724 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)' with route pattern 'api/subjects/paged' is valid for the request path '/api/subjects/paged'
2025-08-08 09:58:49.726 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:49.727 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/paged'
2025-08-08 09:58:49.729 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)' with route pattern 'api/Score/paged' is valid for the request path '/api/score/paged'
2025-08-08 09:58:49.730 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.732 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetById (StudentManagementAPI)' with route pattern 'api/CourseClass/{id}' is valid for the request path '/api/CourseClass/paged'
2025-08-08 09:58:49.733 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/paged'
2025-08-08 09:58:49.734 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - 204 null null 133.5335ms
2025-08-08 09:58:49.737 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:49.737 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-08 09:58:49.739 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:49.740 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.742 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-08 09:58:49.743 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:49.748 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.751 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 09:58:49.752 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.753 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.754 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.756 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.757 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.758 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 09:58:49.760 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.761 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.762 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.764 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.765 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 09:58:49.767 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.768 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.769 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.772 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:49.772 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:49.772 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:49.773 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:49.774 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:49.775 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:49.776 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:49.779 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:49.779 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:49.779 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:49.780 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:49.781 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:49.782 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:49.793 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:49.794 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:49.796 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:49.796 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:49.796 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:49.796 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:49.796 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:49.796 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:49.797 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:49.798 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 09:58:49.799 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-08 09:58:49.800 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:49.800 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:49.801 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 09:58:49.809 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 09:58:49.809 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-08 09:58:49.810 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.String) on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-08 09:58:49.810 +07:00 [INF] Route matched with {action = "GetPaged", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedAsync(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-08 09:58:49.812 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:49.813 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.Nullable`1[System.Int32]) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-08 09:58:49.813 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 09:58:49.814 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:49.816 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:49.817 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:49.820 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:49.821 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:49.823 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:49.825 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:49.826 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:49.828 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:49.830 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:49.832 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:49.834 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:49.836 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:49.838 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:49.840 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:49.842 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:49.844 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:49.847 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:49.850 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:49.853 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:49.855 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:49.857 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:49.859 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:49.862 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:49.863 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:49.866 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:49.868 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:49.870 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 09:58:49.872 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:49.873 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:49.875 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 09:58:49.877 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 09:58:49.879 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-08 09:58:49.883 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 09:58:49.885 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 09:58:49.983 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 09:58:49.983 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 09:58:49.984 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 09:58:49.984 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-08 09:58:49.984 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 09:58:49.984 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 09:58:49.991 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:49.991 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:49.991 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:49.991 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:58:49.993 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:49.994 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:58:49.997 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 09:58:49.998 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 09:58:49.999 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 09:58:50.002 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:58:50.003 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 09:58:50.005 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:58:50.007 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:50.008 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:50.010 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:50.014 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:50.016 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:58:50.016 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:58:50.017 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:50.019 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:50.021 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:50.022 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:50.025 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:58:50.028 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:58:50.029 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:50.031 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:50.034 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:50.035 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:50.037 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:58:50.039 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:58:50.051 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:58:50.043 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:50.044 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:50.046 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:50.058 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:50.041 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:50.053 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:50.055 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:50.057 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:50.049 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:58:50.060 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 09:58:50.062 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:50.063 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:50.065 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 09:58:50.066 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 09:58:50.068 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:50.070 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:50.071 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 09:58:50.072 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:58:50.073 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:50.075 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:50.076 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:50.078 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:50.079 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:50.082 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:50.083 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:50.084 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:50.085 +07:00 [DBG] Attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:58:50.086 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:50.087 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:50.091 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:50.092 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:50.092 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:50.094 +07:00 [DBG] Done attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:50.095 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:50.096 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:50.098 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:50.103 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:50.106 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-08 09:58:50.107 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .OrderByDescending(n => n.Id)
    .Count()'
2025-08-08 09:58:50.107 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:50.107 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:50.108 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-08 09:58:50.110 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2025-08-08 09:58:50.111 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-08 09:58:50.115 +07:00 [DBG] Compiling query expression: 
'DbSet<CourseClass>()
    .Count()'
2025-08-08 09:58:50.117 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' ...
2025-08-08 09:58:50.118 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-08 09:58:50.119 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name '' in request data ...
2025-08-08 09:58:50.122 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-08 09:58:50.125 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' using the name '' in request data ...
2025-08-08 09:58:50.127 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-08 09:58:50.129 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'keyword' of type 'System.String'.
2025-08-08 09:58:50.130 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 09:58:50.133 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'teacherCode' of type 'System.String'.
2025-08-08 09:58:50.134 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 09:58:50.136 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-08 09:58:50.138 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 09:58:50.140 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-08 09:58:50.141 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 09:58:50.143 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-08 09:58:50.144 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-08 09:58:50.146 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-08 09:58:50.147 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-08 09:58:50.149 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2025-08-08 09:58:50.150 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-08 09:58:50.151 +07:00 [DBG] Attempting to validate the bound parameter 'teacherCode' of type 'System.String' ...
2025-08-08 09:58:50.153 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-08 09:58:50.153 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM CourseClasses AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM CourseClasses AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 09:58:50.153 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 09:58:50.154 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2025-08-08 09:58:50.156 +07:00 [DBG] Attempting to bind parameter 'classCode' of type 'System.String' ...
2025-08-08 09:58:50.157 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherCode' of type 'System.String'.
2025-08-08 09:58:50.163 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:50.164 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-08 09:58:50.166 +07:00 [DBG] Attempting to bind parameter 'classCode' of type 'System.String' using the name '' in request data ...
2025-08-08 09:58:50.168 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:50.168 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:50.170 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .Include(s => s.User)
    .AsNoTracking()
    .Include(s => s.User)
    .Include(s => s.Department)
    .Include(s => s.Program)
    .Count()'
2025-08-08 09:58:50.171 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:50.171 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-08-08 09:58:50.173 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'classCode' of type 'System.String'.
2025-08-08 09:58:50.173 +07:00 [DBG] Created DbConnection. (5ms).
2025-08-08 09:58:50.174 +07:00 [DBG] Created DbConnection. (6ms).
2025-08-08 09:58:50.179 +07:00 [DBG] Compiling query expression: 
'DbSet<Teacher>()
    .Include(t => t.User)
    .AsNoTracking()
    .Count()'
2025-08-08 09:58:50.179 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Students AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Students AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 09:58:50.180 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 09:58:50.182 +07:00 [DBG] Done attempting to bind parameter 'classCode' of type 'System.String'.
2025-08-08 09:58:50.183 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.184 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.188 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:50.189 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 09:58:50.195 +07:00 [DBG] Created DbConnection. (6ms).
2025-08-08 09:58:50.199 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 09:58:50.200 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.203 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-08 09:58:50.208 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.213 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 09:58:50.188 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Teachers AS t) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Teachers AS t, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 09:58:50.222 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.221 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:50.190 +07:00 [DBG] Done attempting to bind parameter 'classCode' of type 'System.String'.
2025-08-08 09:58:50.191 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.227 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:50.227 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:50.228 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-08 09:58:50.229 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:50.230 +07:00 [DBG] Attempting to validate the bound parameter 'classCode' of type 'System.String' ...
2025-08-08 09:58:50.231 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:50.232 +07:00 [DBG] Created DbConnection. (5ms).
2025-08-08 09:58:50.234 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-08 09:58:50.236 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-08 09:58:50.240 +07:00 [DBG] Done attempting to validate the bound parameter 'classCode' of type 'System.String'.
2025-08-08 09:58:50.240 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:50.241 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-08-08 09:58:50.242 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.243 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-08-08 09:58:50.247 +07:00 [DBG] Created DbConnection. (6ms).
2025-08-08 09:58:50.256 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 09:58:50.245 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-08 09:58:50.262 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.252 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:50.268 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:50.268 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-08 09:58:50.265 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 09:58:50.248 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-08-08 09:58:50.273 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-08 09:58:50.274 +07:00 [DBG] Compiling query expression: 
'DbSet<Score>()
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.Student)
    .ThenInclude(u => u.User)
    .Include(s => s.Enrollment.CourseClass)
    .ThenInclude(cc => cc.Subject)
    .Count()'
2025-08-08 09:58:50.277 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.279 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.280 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-08 09:58:50.281 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-08-08 09:58:50.284 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 8ms reading results.
2025-08-08 09:58:50.287 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:50.291 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-08 09:58:50.286 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Scores AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Scores AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 09:58:50.286 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 7ms reading results.
2025-08-08 09:58:50.292 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-08 09:58:50.294 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.296 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:50.299 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.301 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:50.302 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.305 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-08 09:58:50.305 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (11ms).
2025-08-08 09:58:50.306 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:50.307 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 8ms reading results.
2025-08-08 09:58:50.309 +07:00 [DBG] Created DbConnection. (7ms).
2025-08-08 09:58:50.310 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (8ms).
2025-08-08 09:58:50.312 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.315 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:50.317 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.319 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.321 +07:00 [DBG] Compiling query expression: 
'DbSet<CourseClass>()
    .Include(c => c.Subject)
    .Include(c => c.Teacher)
    .ThenInclude(t => t.User)
    .Include(c => c.Semester)
    .Include(c => c.Enrollments)
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-08 09:58:50.322 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .Include(s => s.User)
    .AsNoTracking()
    .Include(s => s.User)
    .Include(s => s.Department)
    .Include(s => s.Program)
    .OrderBy(s => s.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-08 09:58:50.322 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 9ms reading results.
2025-08-08 09:58:50.323 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:50.324 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-08 09:58:50.326 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.331 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.333 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:50.336 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:50.337 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-08 09:58:50.337 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 09:58:50.337 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (6ms).
2025-08-08 09:58:50.340 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-08 09:58:50.343 +07:00 [DBG] Including navigation: 'Student.Department'.
2025-08-08 09:58:50.343 +07:00 [DBG] Including navigation: 'CourseClass.Teacher'.
2025-08-08 09:58:50.344 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI) in 460.5215ms
2025-08-08 09:58:50.345 +07:00 [DBG] Compiling query expression: 
'DbSet<Teacher>()
    .Include(t => t.User)
    .AsNoTracking()
    .Include(t => t.User)
    .OrderBy(t => t.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-08 09:58:50.346 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-08 09:58:50.348 +07:00 [DBG] Including navigation: 'Student.Program'.
2025-08-08 09:58:50.349 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-08 09:58:50.352 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:50.355 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-08 09:58:50.355 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Scores] AS [s]
2025-08-08 09:58:50.359 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-08 09:58:50.359 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:50.367 +07:00 [DBG] Including navigation: 'CourseClass.Enrollments'.
2025-08-08 09:58:50.366 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Scores] AS [s]
2025-08-08 09:58:50.368 +07:00 [DBG] Disposing connection to database '' on server ''.
2025-08-08 09:58:50.370 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .OrderByDescending(n => n.Id)
    .Skip(__p_0)
    .Take(__p_1)
    .Select(dtoNotification => new NotificationDto{ 
        Id = dtoNotification.Id, 
        Title = dtoNotification.Title, 
        Content = dtoNotification.Content, 
        CreatorName = dtoNotification.Creator != null ? dtoNotification.Creator.FullName : "", 
        CreatedAt = dtoNotification.CreatedAt, 
        TargetRole = dtoNotification.TargetRole 
    }
    )'
2025-08-08 09:58:50.372 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.373 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 09:58:50.376 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-08 09:58:50.378 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 685.8513ms
2025-08-08 09:58:50.379 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.384 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-08 09:58:50.387 +07:00 [DBG] Compiling query expression: 
'DbSet<Score>()
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.Student)
    .ThenInclude(u => u.User)
    .Include(s => s.Enrollment.CourseClass)
    .ThenInclude(cc => cc.Subject)
    .OrderBy(s => s.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-08 09:58:50.389 +07:00 [DBG] Including navigation: 'Score.Enrollment'.
2025-08-08 09:58:50.391 +07:00 [DBG] Including navigation: 'Enrollment.Student'.
2025-08-08 09:58:50.393 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-08 09:58:50.396 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-08 09:58:50.398 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 09:58:50.415 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Teacher>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Teacher.Degree (string) Required, 1], [Property: Teacher.TeacherCode (string) Required, 2] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: User.Email (string), 4], [Property: User.FullName (string) Required, 5], [Property: User.PasswordHash (string) Required, 6], [Property: User.Phone (string), 7], [Property: User.Role (string) Required, 8], [Property: User.Username (string) Required, 9] }
        SELECT t0.Id, t0.Degree, t0.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT t.Id, t.Degree, t.TeacherCode
            FROM Teachers AS t
            ORDER BY t.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t0
        INNER JOIN Users AS u ON t0.Id == u.Id
        ORDER BY t0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Teacher.Degree (string) Required, 1], [Property: Teacher.TeacherCode (string) Required, 2] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: User.Email (string), 4], [Property: User.FullName (string) Required, 5], [Property: User.PasswordHash (string) Required, 6], [Property: User.Phone (string), 7], [Property: User.Role (string) Required, 8], [Property: User.Username (string) Required, 9] }
        SELECT t0.Id, t0.Degree, t0.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT t.Id, t.Degree, t.TeacherCode
            FROM Teachers AS t
            ORDER BY t.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t0
        INNER JOIN Users AS u ON t0.Id == u.Id
        ORDER BY t0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Teacher entity;
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Teacher instance1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Teacher);
            (object)dataReader.GetInt32(0) != null ? 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                        {
                            return 
                            {
                                Teacher instance;
                                instance = new Teacher();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Degree>k__BackingField = dataReader.GetString(1);
                                instance.<TeacherCode>k__BackingField = dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Teacher)
                }
                ;
                return instance1;
            } : 
            {
                object[] keyValues1;
                keyValues1 = new object[]{ (object)dataReader.GetInt32(0) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Teacher.Id (int) Required PK FK AfterSave:Throw } | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey().Properties], 
                    keyValues: keyValues1);
            };
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            User instance2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(User);
            (object)dataReader.GetInt32(3) != null ? 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("User")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(3);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<FullName>k__BackingField = dataReader.GetString(5);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(6);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<Role>k__BackingField = dataReader.GetString(8);
                                instance.<Username>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                return instance2;
            } : 
            {
                object[] keyValues2;
                keyValues2 = new object[]{ (object)dataReader.GetInt32(3) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("User")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey().Properties], 
                    keyValues: keyValues2);
            };
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
            fixup: (namelessParameter{10}, namelessParameter{11}) => 
            {
                namelessParameter{10}.<User>k__BackingField = namelessParameter{11};
                return namelessParameter{11}.<Teacher>k__BackingField = namelessParameter{10};
            }, 
            trackingQuery: False);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 09:58:50.424 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<NotificationDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            ORDER BY n.Id DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            ORDER BY n.Id DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        DateTime? value5;
        string value6;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.GetString(2);
        value4 = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
        value5 = (DateTime?)dataReader.GetDateTime(4);
        value6 = dataReader.GetString(5);
        return new NotificationDto{ 
            Id = (int)value1, 
            Title = value2, 
            Content = value3, 
            CreatorName = value4, 
            CreatedAt = (DateTime)value5, 
            TargetRole = value6 
        }
        ;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 09:58:50.425 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.428 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.428 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Student>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
            3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
        SELECT s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
        FROM 
        (
            SELECT s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            ORDER BY s.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN Departments AS d ON s0.DepartmentId == d.Id
        INNER JOIN EducationPrograms AS e ON s0.ProgramId == e.Id
        ORDER BY s0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
            3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
        SELECT s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
        FROM 
        (
            SELECT s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            ORDER BY s.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN Departments AS d ON s0.DepartmentId == d.Id
        INNER JOIN EducationPrograms AS e ON s0.ProgramId == e.Id
        ORDER BY s0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Student entity;
        User entity;
        Department entity;
        EducationProgram entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Student instance1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Student);
            (object)dataReader.GetInt32(0) != null ? 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Student")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(2);
                                instance.<Gender>k__BackingField = dataReader.GetString(3);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(4);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                return instance1;
            } : 
            {
                object[] keyValues1;
                keyValues1 = new object[]{ (object)dataReader.GetInt32(0) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Student")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Student.Id (int) Required PK FK AfterSave:Throw } | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey().Properties], 
                    keyValues: keyValues1);
            };
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            User instance2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(User);
            (object)dataReader.GetInt32(6) != null ? 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("User")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<FullName>k__BackingField = dataReader.GetString(8);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(9);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                instance.<Role>k__BackingField = dataReader.GetString(11);
                                instance.<Username>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                return instance2;
            } : 
            {
                object[] keyValues2;
                keyValues2 = new object[]{ (object)dataReader.GetInt32(6) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("User")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey().Properties], 
                    keyValues: keyValues2);
            };
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Department instance3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Department);
            (object)dataReader.GetInt32(13) != null ? 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Department")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                instance.<Name>k__BackingField = dataReader.GetString(14);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                return instance3;
            } : 
            {
                object[] keyValues3;
                keyValues3 = new object[]{ (object)dataReader.GetInt32(13) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("Department")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Department").FindPrimaryKey().Properties], 
                    keyValues: keyValues3);
            };
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            EducationProgram instance4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(EducationProgram);
            (object)dataReader.GetInt32(15) != null ? 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("EducationProgram")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("EducationProgram")]: 
                        {
                            return 
                            {
                                EducationProgram instance;
                                instance = new EducationProgram();
                                instance.<Id>k__BackingField = dataReader.GetInt32(15);
                                instance.<Name>k__BackingField = dataReader.GetString(16);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("EducationProgram")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(EducationProgram)
                }
                ;
                return instance4;
            } : 
            {
                object[] keyValues4;
                keyValues4 = new object[]{ (object)dataReader.GetInt32(15) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("EducationProgram")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("EducationProgram").FindPrimaryKey().Properties], 
                    keyValues: keyValues4);
            };
            return instance4;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{18}, namelessParameter{19}) => 
            {
                namelessParameter{18}.<User>k__BackingField = namelessParameter{19};
                return namelessParameter{19}.<Student>k__BackingField = namelessParameter{18};
            }, 
            trackingQuery: False);
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, Department>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.Department (Department) ToPrincipal Department Inverse: Students | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Student").FindNavigation("Department")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Department.Students (ICollection<Student>) Collection ToDependent Student Inverse: Department | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students")], 
            fixup: (namelessParameter{22}, namelessParameter{23}) => 
            {
                namelessParameter{22}.<Department>k__BackingField = namelessParameter{23};
                return [LIFTABLE Constant: ClrICollectionAccessor<Department, ICollection<Student>, Student> | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students").GetCollectionAccessor()].Add(
                    entity: namelessParameter{23}, 
                    value: namelessParameter{22}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, EducationProgram>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.Program (EducationProgram) ToPrincipal EducationProgram Inverse: Students | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("Student").FindNavigation("Program")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: EducationProgram.Students (ICollection<Student>) Collection ToDependent Student Inverse: Program | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students")], 
            fixup: (namelessParameter{27}, namelessParameter{28}) => 
            {
                namelessParameter{27}.<Program>k__BackingField = namelessParameter{28};
                return [LIFTABLE Constant: ClrICollectionAccessor<EducationProgram, ICollection<Student>, Student> | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students").GetCollectionAccessor()].Add(
                    entity: namelessParameter{28}, 
                    value: namelessParameter{27}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 09:58:50.430 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:50.431 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.440 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.438 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-08-08 09:58:50.434 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Score>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
        SELECT s0.Id, s0.EnrollmentId, s0.Final, s0.Midterm, s0.Other, s0.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s1.Id, s1.DateOfBirth, s1.DepartmentId, s1.Gender, s1.ProgramId, s1.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s2.Id, s2.Credit, s2.Description, s2.Name, s2.SemesterId, s2.SubjectCode
        FROM 
        (
            SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total
            FROM Scores AS s
            ORDER BY s.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Enrollments AS e ON s0.EnrollmentId == e.Id
        INNER JOIN Students AS s1 ON e.StudentId == s1.Id
        INNER JOIN Users AS u ON s1.Id == u.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s2 ON c.SubjectId == s2.Id
        ORDER BY s0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
        SELECT s0.Id, s0.EnrollmentId, s0.Final, s0.Midterm, s0.Other, s0.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s1.Id, s1.DateOfBirth, s1.DepartmentId, s1.Gender, s1.ProgramId, s1.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s2.Id, s2.Credit, s2.Description, s2.Name, s2.SemesterId, s2.SubjectCode
        FROM 
        (
            SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total
            FROM Scores AS s
            ORDER BY s.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Enrollments AS e ON s0.EnrollmentId == e.Id
        INNER JOIN Students AS s1 ON e.StudentId == s1.Id
        INNER JOIN Users AS u ON s1.Id == u.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s2 ON c.SubjectId == s2.Id
        ORDER BY s0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Score entity;
        Enrollment entity;
        Student entity;
        User entity;
        CourseClass entity;
        Subject entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Score instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Score);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Score.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Score)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]: 
                        {
                            return 
                            {
                                Score instance;
                                instance = new Score();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EnrollmentId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Final>k__BackingField = dataReader.IsDBNull(2) ? default(double?) : (double?)dataReader.GetDouble(2);
                                instance.<Midterm>k__BackingField = dataReader.IsDBNull(3) ? default(double?) : (double?)dataReader.GetDouble(3);
                                instance.<Other>k__BackingField = dataReader.IsDBNull(4) ? default(double?) : (double?)dataReader.GetDouble(4);
                                instance.<Total>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Score)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Enrollment instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Enrollment);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Enrollment)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Enrollment")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(7);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(8);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Student instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Student);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(10) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Student)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(10);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(11);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(12);
                                instance.<Gender>k__BackingField = dataReader.GetString(13);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(14);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(15);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            User instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(User);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (User)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<FullName>k__BackingField = dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<Role>k__BackingField = dataReader.GetString(21);
                                instance.<Username>k__BackingField = dataReader.GetString(22);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            CourseClass instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(CourseClass);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (CourseClass)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CourseClass")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(24);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(27);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(28);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(29);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        entity = 
        {
            MaterializationContext materializationContext6;
            IEntityType entityType6;
            Subject instance6;
            InternalEntityEntry entry6;
            bool hasNullKey6;
            materializationContext6 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance6 = default(Subject);
            entry6 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(30) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey6);
            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
            {
                entityType6 = entry6.EntityType;
                return instance6 = (Subject)entry6.Entity;
            } : 
            {
                ISnapshot shadowSnapshot6;
                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType6 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance6 = switch (entityType6)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(30);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(31);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(32) ? default(string) : dataReader.GetString(32);
                                instance.<Name>k__BackingField = dataReader.GetString(33);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(34);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(35);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext6.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType6, 
                    entity: instance6, 
                    snapshot: shadowSnapshot6);
                return instance6;
            } : default(void);
            return instance6;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{20}, namelessParameter{21}) => 
            {
                namelessParameter{20}.<User>k__BackingField = namelessParameter{21};
                return namelessParameter{21}.<Student>k__BackingField = namelessParameter{20};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, Student>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.Student (Student) ToPrincipal Student Inverse: Enrollments | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Student")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: Student | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{24}, namelessParameter{25}) => 
            {
                namelessParameter{24}.<Student>k__BackingField = namelessParameter{25};
                return [LIFTABLE Constant: ClrICollectionAccessor<Student, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{25}, 
                    value: namelessParameter{24}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{27} => namelessParameter{27}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{29}, namelessParameter{30}) => 
            {
                namelessParameter{29}.<Subject>k__BackingField = namelessParameter{30};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{30}, 
                    value: namelessParameter{29}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{32} => namelessParameter{32}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{34}, namelessParameter{35}) => 
            {
                namelessParameter{34}.<CourseClass>k__BackingField = namelessParameter{35};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{35}, 
                    value: namelessParameter{34}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Score, Score, Enrollment>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Score.Enrollment (Enrollment) ToPrincipal Enrollment Inverse: Score | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindNavigation("Enrollment")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.Score (Score) ToDependent Score Inverse: Enrollment | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Score")], 
            fixup: (namelessParameter{39}, namelessParameter{40}) => 
            {
                namelessParameter{39}.<Enrollment>k__BackingField = namelessParameter{40};
                return namelessParameter{40}.<Score>k__BackingField = namelessParameter{39};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 09:58:50.440 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.442 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.443 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-08-08 09:58:50.453 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:50.454 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:50.456 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-08 09:58:50.457 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:58:50.458 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.462 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 13], [Property: Teacher.Degree (string) Required, 14], [Property: Teacher.TeacherCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: Semester.EndDate (DateTime) Required, 24], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 25], [Property: Semester.Name (string) Required, 26], [Property: Semester.StartDate (DateTime) Required, 27] }
            5 -> 0
            6 -> 7
            7 -> 13
            8 -> 16
            9 -> 23
            10 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: Enrollment.CourseClassId (int) Required FK Index, 29], [Property: Enrollment.EnrollDate (DateTime) Required, 30], [Property: Enrollment.StudentId (int) Required FK Index, 31] }
            11 -> 28
        SELECT c0.Id, c0.ClassCode, c0.MaxStudents, c0.Schedule, c0.SemesterId, c0.SubjectId, c0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
        FROM 
        (
            SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM CourseClasses AS c
            ORDER BY c.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS c0
        INNER JOIN Subjects AS s ON c0.SubjectId == s.Id
        INNER JOIN Teachers AS t ON c0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id
        INNER JOIN Semesters AS s0 ON c0.SemesterId == s0.Id
        LEFT JOIN Enrollments AS e ON c0.Id == e.CourseClassId
        ORDER BY c0.Id ASC, s.Id ASC, t.Id ASC, u.Id ASC, s0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 13], [Property: Teacher.Degree (string) Required, 14], [Property: Teacher.TeacherCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: Semester.EndDate (DateTime) Required, 24], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 25], [Property: Semester.Name (string) Required, 26], [Property: Semester.StartDate (DateTime) Required, 27] }
            5 -> 0
            6 -> 7
            7 -> 13
            8 -> 16
            9 -> 23
            10 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: Enrollment.CourseClassId (int) Required FK Index, 29], [Property: Enrollment.EnrollDate (DateTime) Required, 30], [Property: Enrollment.StudentId (int) Required FK Index, 31] }
            11 -> 28
        SELECT c0.Id, c0.ClassCode, c0.MaxStudents, c0.Schedule, c0.SemesterId, c0.SubjectId, c0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
        FROM 
        (
            SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM CourseClasses AS c
            ORDER BY c.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS c0
        INNER JOIN Subjects AS s ON c0.SubjectId == s.Id
        INNER JOIN Teachers AS t ON c0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id
        INNER JOIN Semesters AS s0 ON c0.SemesterId == s0.Id
        LEFT JOIN Enrollments AS e ON c0.Id == e.CourseClassId
        ORDER BY c0.Id ASC, s.Id ASC, t.Id ASC, u.Id ASC, s0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            CourseClass entity;
            Subject entity;
            Teacher entity;
            User entity;
            Semester entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                CourseClass instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(CourseClass);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (CourseClass)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                            {
                                return 
                                {
                                    CourseClass instance;
                                    instance = new CourseClass();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                    instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                    instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                    instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(CourseClass)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Subject instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Subject);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Subject)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                            {
                                return 
                                {
                                    Subject instance;
                                    instance = new Subject();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                    instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<Name>k__BackingField = dataReader.GetString(10);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                    instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Subject)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                Teacher instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(Teacher);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Teacher.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (Teacher)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                            {
                                return 
                                {
                                    Teacher instance;
                                    instance = new Teacher();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                    instance.<Degree>k__BackingField = dataReader.GetString(14);
                                    instance.<TeacherCode>k__BackingField = dataReader.GetString(15);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext3.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Teacher)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            entity = 
            {
                MaterializationContext materializationContext4;
                IEntityType entityType4;
                User instance4;
                InternalEntityEntry entry4;
                bool hasNullKey4;
                materializationContext4 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance4 = default(User);
                entry4 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey4);
                !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                {
                    entityType4 = entry4.EntityType;
                    return instance4 = (User)entry4.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot4;
                    shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                    instance4 = switch (entityType4)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<FullName>k__BackingField = dataReader.GetString(18);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                    instance.<Role>k__BackingField = dataReader.GetString(21);
                                    instance.<Username>k__BackingField = dataReader.GetString(22);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext4.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType4, 
                        entity: instance4, 
                        snapshot: shadowSnapshot4);
                    return instance4;
                } : default(void);
                return instance4;
            };
            entity = 
            {
                MaterializationContext materializationContext5;
                IEntityType entityType5;
                Semester instance5;
                InternalEntityEntry entry5;
                bool hasNullKey5;
                materializationContext5 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance5 = default(Semester);
                entry5 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey5);
                !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                {
                    entityType5 = entry5.EntityType;
                    return instance5 = (Semester)entry5.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot5;
                    shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType5 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Semester")];
                    instance5 = switch (entityType5)
                    {
                        case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("Semester")]: 
                            {
                                return 
                                {
                                    Semester instance;
                                    instance = new Semester();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                    instance.<EndDate>k__BackingField = dataReader.GetDateTime(24);
                                    instance.<IsOpen>k__BackingField = dataReader.GetBoolean(25);
                                    instance.<Name>k__BackingField = dataReader.GetString(26);
                                    instance.<StartDate>k__BackingField = dataReader.GetDateTime(27);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext5.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Semester)
                    }
                    ;
                    entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType5, 
                        entity: instance5, 
                        snapshot: shadowSnapshot5);
                    return instance5;
                } : default(void);
                return instance5;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity, 
                entity, 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Subject)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{17}, namelessParameter{18}) => 
                {
                    namelessParameter{17}.<Subject>k__BackingField = namelessParameter{18};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{18}, 
                        value: namelessParameter{17}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
                queryContext: queryContext, 
                entity: (Teacher)(resultContext.Values[2]), 
                relatedEntity: (User)(resultContext.Values[3]), 
                navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
                fixup: (namelessParameter{22}, namelessParameter{23}) => 
                {
                    namelessParameter{22}.<User>k__BackingField = namelessParameter{23};
                    return namelessParameter{23}.<Teacher>k__BackingField = namelessParameter{22};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Teacher>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Teacher)(resultContext.Values[2]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Teacher (Teacher) ToPrincipal Teacher Inverse: CourseClasses | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Teacher")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Teacher.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Teacher | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{26}, namelessParameter{27}) => 
                {
                    namelessParameter{26}.<Teacher>k__BackingField = namelessParameter{27};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Teacher, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{27}, 
                        value: namelessParameter{26}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Semester)(resultContext.Values[4]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{31}, namelessParameter{32}) => 
                {
                    namelessParameter{31}.<Semester>k__BackingField = namelessParameter{32};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{32}, 
                        value: namelessParameter{31}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<CourseClass, CourseClass>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (CourseClass)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(7), 
                    (object)(int?)dataReader.GetInt32(13), 
                    (object)(int?)dataReader.GetInt32(16), 
                    (object)(int?)dataReader.GetInt32(23) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(7), 
                    (object)(int?)dataReader.GetInt32(13), 
                    (object)(int?)dataReader.GetInt32(16), 
                    (object)(int?)dataReader.GetInt32(23) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<CourseClass, Enrollment>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(7), 
                (object)(int?)dataReader.GetInt32(13), 
                (object)(int?)dataReader.GetInt32(16), 
                (object)(int?)dataReader.GetInt32(23) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(7), 
                (object)(int?)dataReader.GetInt32(13), 
                (object)(int?)dataReader.GetInt32(16), 
                (object)(int?)dataReader.GetInt32(23) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(28) ? default(int?) : (int?)dataReader.GetInt32(28) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Enrollment entity;
                entity = 
                {
                    MaterializationContext materializationContext6;
                    IEntityType entityType6;
                    Enrollment instance6;
                    InternalEntityEntry entry6;
                    bool hasNullKey6;
                    materializationContext6 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance6 = default(Enrollment);
                    entry6 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(28) ? default(object) : (object)dataReader.GetInt32(28) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey6);
                    !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                    {
                        entityType6 = entry6.EntityType;
                        return instance6 = (Enrollment)entry6.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot6;
                        shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType6 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Enrollment")];
                        instance6 = switch (entityType6)
                        {
                            case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("Enrollment")]: 
                                {
                                    return 
                                    {
                                        Enrollment instance;
                                        instance = new Enrollment();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(28) ? default(int) : dataReader.GetInt32(28);
                                        instance.<CourseClassId>k__BackingField = dataReader.IsDBNull(29) ? default(int) : dataReader.GetInt32(29);
                                        instance.<EnrollDate>k__BackingField = dataReader.IsDBNull(30) ? default(DateTime) : dataReader.GetDateTime(30);
                                        instance.<StudentId>k__BackingField = dataReader.IsDBNull(31) ? default(int) : dataReader.GetInt32(31);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext6.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Enrollment)
                        }
                        ;
                        entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType6, 
                            entity: instance6, 
                            snapshot: shadowSnapshot6);
                        return instance6;
                    } : default(void);
                    return instance6;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{39} => namelessParameter{39}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            fixup: (namelessParameter{40}, namelessParameter{41}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{42} => namelessParameter{42}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{40}, 
                    value: namelessParameter{41}, 
                    forMaterialization: True);
                return namelessParameter{41}.<CourseClass>k__BackingField = namelessParameter{40};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (CourseClass)(resultContext.Values[0]) : default(CourseClass);
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 09:58:50.462 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-08 09:58:50.458 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:58:50.463 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-08 09:58:50.464 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.475 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 09:58:50.476 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2025-08-08 09:58:50.481 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.480 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:50.482 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.485 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 09:58:50.486 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 09:58:50.486 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.487 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-08 09:58:50.488 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 9ms reading results.
2025-08-08 09:58:50.495 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:50.496 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.497 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 09:58:50.497 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-08-08 09:58:50.499 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.500 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-08 09:58:50.501 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 7ms reading results.
2025-08-08 09:58:50.505 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[EnrollmentId], [s0].[Final], [s0].[Midterm], [s0].[Other], [s0].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s1].[Id], [s1].[DateOfBirth], [s1].[DepartmentId], [s1].[Gender], [s1].[ProgramId], [s1].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s2].[Id], [s2].[Credit], [s2].[Description], [s2].[Name], [s2].[SemesterId], [s2].[SubjectCode]
FROM (
    SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total]
    FROM [Scores] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Enrollments] AS [e] ON [s0].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s1] ON [e].[StudentId] = [s1].[Id]
INNER JOIN [Users] AS [u] ON [s1].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s2] ON [c].[SubjectId] = [s2].[Id]
ORDER BY [s0].[Id]
2025-08-08 09:58:50.506 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-08 09:58:50.508 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-08-08 09:58:50.508 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.509 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.515 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-08 09:58:50.517 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 13ms reading results.
2025-08-08 09:58:50.518 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (9ms).
2025-08-08 09:58:50.522 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[EnrollmentId], [s0].[Final], [s0].[Midterm], [s0].[Other], [s0].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s1].[Id], [s1].[DateOfBirth], [s1].[DepartmentId], [s1].[Gender], [s1].[ProgramId], [s1].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s2].[Id], [s2].[Credit], [s2].[Description], [s2].[Name], [s2].[SemesterId], [s2].[SubjectCode]
FROM (
    SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total]
    FROM [Scores] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Enrollments] AS [e] ON [s0].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s1] ON [e].[StudentId] = [s1].[Id]
INNER JOIN [Users] AS [u] ON [s1].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s2] ON [c].[SubjectId] = [s2].[Id]
ORDER BY [s0].[Id]
2025-08-08 09:58:50.523 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.525 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:50.528 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-08 09:58:50.529 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-08 09:58:50.531 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.531 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:50.531 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:50.537 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.539 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:50.540 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:50.540 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:50.542 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:50.543 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:50.546 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:50.546 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:50.548 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:50.549 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:50.549 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:50.551 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:50.551 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:50.553 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Teacher.TeacherDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:50.556 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:50.559 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:50.564 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI) in 688.4937ms
2025-08-08 09:58:50.564 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 678.8696ms
2025-08-08 09:58:50.565 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 695.1684ms
2025-08-08 09:58:50.565 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:50.567 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.567 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 09:58:50.569 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 09:58:50.569 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.570 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:50.572 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:50.574 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:50.576 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.577 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.577 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.578 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.579 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.583 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-08 09:58:50.586 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-08 09:58:50.586 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.587 +07:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-08-08 09:58:50.589 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 930.2335ms
2025-08-08 09:58:50.591 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - 200 null application/json; charset=utf-8 854.3249ms
2025-08-08 09:58:50.593 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.594 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 923.397ms
2025-08-08 09:58:50.597 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.606 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.617 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.618 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.619 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.621 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.624 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.624 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.627 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.628 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.629 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.630 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.632 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.636 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.637 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 110ms reading results.
2025-08-08 09:58:50.640 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.641 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:50.650 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.651 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:50.653 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:50.655 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:50.657 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.657 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:50.659 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 125ms reading results.
2025-08-08 09:58:50.660 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:50.661 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.662 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:50.663 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 09:58:50.665 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:50.672 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:50.675 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:50.676 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:50.677 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:50.678 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:50.680 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:50.680 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI) in 803.4725ms
2025-08-08 09:58:50.683 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:50.685 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:50.686 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.688 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI) in 808.9204ms
2025-08-08 09:58:50.688 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:58:50.689 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-08 09:58:50.691 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/score/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 1021.6453ms
2025-08-08 09:58:50.692 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:50.697 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:50.698 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:58:50.700 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - 200 null application/json; charset=utf-8 1007.0396ms
2025-08-08 09:58:52.473 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:58:52.476 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:58:52.478 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:52.480 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:52.481 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:52.482 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:52.483 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:52.484 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 12.0307ms
2025-08-08 09:58:52.491 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-08 09:58:52.495 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-08 09:58:52.497 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-08 09:58:52.500 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-08 09:58:52.502 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:52.503 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:52.504 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:52.506 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:52.507 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:52.508 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:52.509 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:52.510 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:52.515 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-08 09:58:52.517 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:52.518 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:52.521 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:52.523 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:52.524 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:52.526 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:58:52.528 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-08 09:58:52.530 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:58:52.531 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:58:52.533 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:58:52.536 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:58:52.538 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:58:52.539 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:58:52.542 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:52.543 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:52.545 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:58:52.546 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:52.551 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:52.553 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Count()'
2025-08-08 09:58:52.559 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Users AS u) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Users AS u, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 09:58:52.562 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:52.563 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 09:58:52.564 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:52.566 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:52.569 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:52.570 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:58:52.572 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:58:52.575 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:58:52.581 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-08 09:58:52.585 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:52.586 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:58:52.588 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:52.590 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 09:58:52.593 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .OrderBy(u => u.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-08 09:58:52.599 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM Users AS u
        ORDER BY u.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM Users AS u
        ORDER BY u.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<FullName>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<Role>k__BackingField = dataReader.GetString(5);
                                instance.<Username>k__BackingField = dataReader.GetString(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 09:58:52.602 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:52.605 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:52.608 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:52.609 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:58:52.611 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:58:52.613 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:58:52.617 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-08 09:58:52.619 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:52.621 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:52.623 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:52.625 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:52.627 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:52.628 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:52.629 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:52.631 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:52.633 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:52.634 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:52.636 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:52.637 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 17ms reading results.
2025-08-08 09:58:52.640 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:52.641 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:52.646 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:52.648 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:52.649 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:52.650 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:52.650 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:52.652 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:52.656 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 130.5198ms
2025-08-08 09:58:52.658 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:52.659 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:52.661 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:52.662 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:58:52.664 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 173.4135ms
2025-08-08 09:58:54.057 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - null null
2025-08-08 09:58:54.060 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 09:58:54.062 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:54.064 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:54.066 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:54.067 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:54.069 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:54.071 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - 204 null null 14.8629ms
2025-08-08 09:58:54.081 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - null null
2025-08-08 09:58:54.085 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 09:58:54.087 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-08 09:58:54.089 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 09:58:54.091 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:54.092 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:54.093 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:54.095 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:54.096 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:54.098 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:54.098 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 09:58:54.099 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 09:58:54.101 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:54.103 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:54.104 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:54.106 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:54.107 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:54.111 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 09:58:54.112 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 09:58:54.114 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:54.115 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 09:58:54.116 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:54.118 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:54.119 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:54.120 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:54.121 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:54.122 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 09:58:54.124 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:54.125 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:54.126 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:54.127 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:54.129 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-08 09:58:54.130 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-08 09:58:54.131 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-08 09:58:54.133 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 09:58:54.134 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 09:58:54.136 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-08 09:58:54.137 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-08 09:58:54.139 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:54.141 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:54.142 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:58:54.143 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:54.144 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:54.146 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:54.147 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:58:54.148 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:58:54.150 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 09:58:54.154 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 09:58:54.157 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:54.159 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 09:58:54.161 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:54.163 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:54.165 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:54.167 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:54.168 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:54.169 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 09:58:54.170 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:58:54.171 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 09:58:54.176 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 09:58:54.178 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:54.180 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 09:58:54.182 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:54.183 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:54.185 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:54.188 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:54.189 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:54.190 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:54.190 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:54.192 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:54.193 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 82.5191ms
2025-08-08 09:58:54.195 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 09:58:54.196 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:54.198 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:54.199 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:58:54.201 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - 200 null application/json; charset=utf-8 121.3943ms
2025-08-08 09:58:55.474 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=5 - null null
2025-08-08 09:58:55.477 +07:00 [DBG] 1 candidate(s) found for the request path '/api/teachers/paged'
2025-08-08 09:58:55.480 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:55.481 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:55.482 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:55.483 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:55.484 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:55.486 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=5 - 204 null null 12.3709ms
2025-08-08 09:58:55.489 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=5 - null null
2025-08-08 09:58:55.494 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/paged'
2025-08-08 09:58:55.495 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)' with route pattern 'api/teachers/paged' is valid for the request path '/api/teachers/paged'
2025-08-08 09:58:55.498 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/paged'
2025-08-08 09:58:55.500 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:55.501 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:55.502 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:55.503 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:55.504 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:55.506 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:55.508 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:55.509 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:55.511 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-08 09:58:55.513 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:55.515 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:55.517 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:55.519 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:55.521 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:55.523 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 09:58:55.525 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 09:58:55.527 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:55.529 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 09:58:55.531 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:55.532 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:55.533 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:55.536 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:55.538 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:55.539 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 09:58:55.542 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:55.544 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:55.545 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:55.546 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:55.549 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' ...
2025-08-08 09:58:55.551 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' using the name '' in request data ...
2025-08-08 09:58:55.553 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'teacherCode' of type 'System.String'.
2025-08-08 09:58:55.555 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-08 09:58:55.557 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-08 09:58:55.558 +07:00 [DBG] Attempting to validate the bound parameter 'teacherCode' of type 'System.String' ...
2025-08-08 09:58:55.560 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherCode' of type 'System.String'.
2025-08-08 09:58:55.562 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:55.565 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:55.566 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:58:55.567 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:55.569 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:55.570 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:55.572 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:58:55.574 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:58:55.577 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-08 09:58:55.580 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-08 09:58:55.586 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:55.588 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 09:58:55.590 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:55.591 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:55.594 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:55.595 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:55.596 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:55.598 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:58:55.599 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:58:55.600 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-08 09:58:55.605 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-08 09:58:55.607 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:55.608 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:58:55.610 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:55.612 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 09:58:55.613 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:55.616 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:55.616 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:55.618 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:55.619 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:55.622 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Teacher.TeacherDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:55.623 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI) in 100.778ms
2025-08-08 09:58:55.626 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:55.627 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:55.628 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:55.630 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:58:55.632 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=5 - 200 null application/json; charset=utf-8 143.1642ms
2025-08-08 09:58:55.890 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - null null
2025-08-08 09:58:55.893 +07:00 [DBG] 1 candidate(s) found for the request path '/api/subjects/paged'
2025-08-08 09:58:55.894 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:55.896 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:55.897 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:55.898 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:55.899 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:55.901 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - 204 null null 11.5332ms
2025-08-08 09:58:55.904 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - null null
2025-08-08 09:58:55.908 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/paged'
2025-08-08 09:58:55.910 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)' with route pattern 'api/subjects/paged' is valid for the request path '/api/subjects/paged'
2025-08-08 09:58:55.912 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/paged'
2025-08-08 09:58:55.914 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:55.916 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:55.917 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:55.919 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:55.920 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:55.921 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:55.923 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:55.925 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:55.927 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.Nullable`1[System.Int32]) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-08 09:58:55.928 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:55.931 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:55.933 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:55.935 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:55.937 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:55.939 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 09:58:55.941 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 09:58:55.943 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:55.944 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 09:58:55.946 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:55.948 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:55.949 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 09:58:55.951 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 09:58:55.953 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:55.954 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 09:58:55.957 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:55.959 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:55.960 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:58:55.962 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:58:55.963 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2025-08-08 09:58:55.965 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name '' in request data ...
2025-08-08 09:58:55.967 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'keyword' of type 'System.String'.
2025-08-08 09:58:55.968 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-08 09:58:55.970 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-08 09:58:55.971 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2025-08-08 09:58:55.974 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2025-08-08 09:58:55.975 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-08 09:58:55.976 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-08-08 09:58:55.979 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 09:58:55.981 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 09:58:55.983 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 09:58:55.984 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-08 09:58:55.986 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 09:58:55.989 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:55.999 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:56.001 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 09:58:56.006 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:56.010 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:56.011 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:56.012 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:56.013 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:56.015 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:56.018 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI) in 78.739ms
2025-08-08 09:58:56.019 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-08 09:58:56.021 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:56.023 +07:00 [DBG] Disposing connection to database '' on server ''.
2025-08-08 09:58:56.025 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:58:56.027 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - 200 null application/json; charset=utf-8 123.7472ms
2025-08-08 09:58:56.286 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1000 - null null
2025-08-08 09:58:56.290 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-08 09:58:56.292 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:56.293 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:56.294 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:56.295 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:56.296 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:56.297 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1000 - 204 null null 11.8562ms
2025-08-08 09:58:56.301 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1000 - null null
2025-08-08 09:58:56.306 +07:00 [DBG] 2 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-08 09:58:56.307 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)' with route pattern 'api/CourseClass/paged' is valid for the request path '/api/CourseClass/paged'
2025-08-08 09:58:56.309 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetById (StudentManagementAPI)' with route pattern 'api/CourseClass/{id}' is valid for the request path '/api/CourseClass/paged'
2025-08-08 09:58:56.311 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-08 09:58:56.313 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:56.314 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:56.315 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:56.316 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:56.317 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:56.318 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:56.319 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-08 09:58:56.321 +07:00 [INF] Route matched with {action = "GetPaged", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedAsync(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-08 09:58:56.323 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:56.326 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:56.327 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:56.329 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:56.331 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:56.333 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-08 09:58:56.335 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-08 09:58:56.336 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:58:56.338 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:58:56.339 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:58:56.342 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:58:56.343 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:58:56.345 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:58:56.347 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:56.349 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:56.350 +07:00 [DBG] Attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:58:56.352 +07:00 [DBG] Done attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:56.354 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:56.356 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:56.357 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:58:56.358 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.359 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.361 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:56.362 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:58:56.364 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:58:56.365 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-08 09:58:56.370 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-08 09:58:56.373 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.375 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 09:58:56.377 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.378 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:56.380 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.383 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.384 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:56.386 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:58:56.387 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:58:56.389 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-08 09:58:56.392 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-08 09:58:56.398 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.400 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.401 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.403 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.405 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.406 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.408 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.410 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.412 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.413 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.415 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.417 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.418 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.420 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.421 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.423 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.425 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.426 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.428 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.429 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.431 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.433 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.434 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.436 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.437 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.439 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.441 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.443 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.445 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.446 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.448 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.450 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.452 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.454 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.456 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.458 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.460 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.461 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.462 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.464 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.466 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.467 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.469 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.470 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.472 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.474 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.475 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.476 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.478 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.480 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.482 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.483 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.484 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.486 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.488 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.489 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.491 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.492 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.494 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.495 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.496 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.498 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.499 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.501 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.503 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.504 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.505 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.515 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.516 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.517 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.519 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.521 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.522 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.524 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.525 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.526 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.528 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.529 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.531 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.532 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.533 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.535 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.537 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.538 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.539 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.541 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.542 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.543 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.545 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.546 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.548 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.550 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.551 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.553 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.554 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.556 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.557 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.559 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.560 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.561 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.563 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.564 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.566 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.567 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.569 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.570 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.571 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.573 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.574 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.576 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.577 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.579 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.580 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.582 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.584 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.585 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.586 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.588 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.589 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.591 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.592 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.593 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.595 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.596 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.597 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.599 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.600 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.601 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.603 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.605 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.606 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.607 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.609 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.610 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.612 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.614 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.615 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.616 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.618 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.620 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.621 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:56.622 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.623 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 225ms reading results.
2025-08-08 09:58:56.625 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.627 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:56.628 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:56.631 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:56.632 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:56.633 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:56.634 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:56.635 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:56.639 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI) in 306.4922ms
2025-08-08 09:58:56.641 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-08 09:58:56.642 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:56.646 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.648 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:58:56.649 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1000 - 200 null application/json; charset=utf-8 349.0528ms
2025-08-08 09:58:56.703 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-08 09:58:56.706 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 09:58:56.708 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:56.709 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:56.710 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:56.711 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:56.712 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:56.713 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - 204 null null 10.2591ms
2025-08-08 09:58:56.716 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-08 09:58:56.721 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 09:58:56.723 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 09:58:56.725 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 09:58:56.726 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:56.727 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:56.729 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:56.730 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:56.731 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:56.733 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:56.734 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 09:58:56.736 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 09:58:56.738 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:56.740 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:56.741 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:56.744 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:56.746 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:56.747 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 09:58:56.749 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 09:58:56.752 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:58:56.753 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:58:56.754 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:58:56.756 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:58:56.758 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:58:56.760 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:58:56.762 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:56.763 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:56.765 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:58:56.767 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:58:56.768 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:56.772 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:56.773 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:58:56.774 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.775 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.777 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:56.779 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:58:56.780 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:58:56.781 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-08 09:58:56.784 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-08 09:58:56.789 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.790 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:58:56.793 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.794 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:56.799 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.801 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.802 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:56.803 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 09:58:56.804 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:58:56.807 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 09:58:56.810 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 09:58:56.812 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.814 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:58:56.816 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.817 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:56.818 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:56.822 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:56.823 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:56.824 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:56.825 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:56.827 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:56.828 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 81.1437ms
2025-08-08 09:58:56.830 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 09:58:56.831 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:56.833 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:56.834 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:58:56.836 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - 200 null application/json; charset=utf-8 120.9636ms
2025-08-08 09:58:57.159 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-08 09:58:57.162 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 09:58:57.163 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:57.164 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:57.165 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:57.166 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:57.167 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:57.168 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 9.8909ms
2025-08-08 09:58:57.177 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-08 09:58:57.180 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 09:58:57.181 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-08 09:58:57.183 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 09:58:57.184 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:57.185 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:57.187 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:57.189 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:57.190 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:57.191 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:57.192 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 09:58:57.196 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-08 09:58:57.198 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:57.199 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:57.202 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:57.204 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:57.206 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:57.208 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 09:58:57.211 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 09:58:57.214 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:57.218 +07:00 [DBG] Compiling query expression: 
'DbSet<Semester>()
    .OrderByDescending(s => s.StartDate)'
2025-08-08 09:58:57.224 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Semester>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.EndDate (DateTime) Required, 1], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 2], [Property: Semester.Name (string) Required, 3], [Property: Semester.StartDate (DateTime) Required, 4] }
        SELECT s.Id, s.EndDate, s.IsOpen, s.Name, s.StartDate
        FROM Semesters AS s
        ORDER BY s.StartDate DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.EndDate (DateTime) Required, 1], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 2], [Property: Semester.Name (string) Required, 3], [Property: Semester.StartDate (DateTime) Required, 4] }
        SELECT s.Id, s.EndDate, s.IsOpen, s.Name, s.StartDate
        FROM Semesters AS s
        ORDER BY s.StartDate DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Semester instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Semester);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Semester)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Semester")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(1);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(2);
                                instance.<Name>k__BackingField = dataReader.GetString(3);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 09:58:57.228 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:57.229 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 09:58:57.231 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:57.233 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:57.234 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:57.235 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:58:57.237 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:58:57.238 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 09:58:57.243 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 09:58:57.247 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.249 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.251 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.252 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:57.253 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 6ms reading results.
2025-08-08 09:58:57.255 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:57.257 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:57.261 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:57.265 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:57.266 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:57.266 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:57.267 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:57.268 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:57.272 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 63.74ms
2025-08-08 09:58:57.274 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 09:58:57.275 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:57.277 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:57.278 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:58:57.280 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 103.177ms
2025-08-08 09:58:57.744 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/programs - null null
2025-08-08 09:58:57.749 +07:00 [DBG] 1 candidate(s) found for the request path '/api/programs'
2025-08-08 09:58:57.751 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:58:57.752 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:57.754 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:57.755 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:57.757 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:58:57.758 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/programs - 204 null null 14.6591ms
2025-08-08 09:58:57.763 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/programs - null null
2025-08-08 09:58:57.767 +07:00 [DBG] 1 candidate(s) found for the request path '/api/programs'
2025-08-08 09:58:57.769 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)' with route pattern 'api/programs' is valid for the request path '/api/programs'
2025-08-08 09:58:57.771 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)'
2025-08-08 09:58:57.773 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:57.774 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:57.775 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:57.776 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:57.778 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:57.779 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:57.780 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)'
2025-08-08 09:58:57.784 +07:00 [INF] Route matched with {action = "GetAll", controller = "EducationProgram"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.EducationProgramController (StudentManagementAPI).
2025-08-08 09:58:57.787 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:57.788 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:57.790 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:57.793 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:57.795 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:57.797 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.EducationProgramController (StudentManagementAPI)
2025-08-08 09:58:57.800 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.EducationProgramController (StudentManagementAPI)
2025-08-08 09:58:57.804 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:57.808 +07:00 [DBG] Compiling query expression: 
'DbSet<EducationProgram>()
    .Include(p => p.Students)'
2025-08-08 09:58:57.810 +07:00 [DBG] Including navigation: 'EducationProgram.Students'.
2025-08-08 09:58:57.823 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EducationProgram>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: EducationProgram.Name (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 2], [Property: Student.DateOfBirth (DateTime) Required, 3], [Property: Student.DepartmentId (int) Required FK Index, 4], [Property: Student.Gender (string) Required, 5], [Property: Student.ProgramId (int) Required FK Index, 6], [Property: Student.StudentCode (string) Required, 7] }
            3 -> 2
        SELECT e.Id, e.Name, s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
        FROM EducationPrograms AS e
        LEFT JOIN Students AS s ON e.Id == s.ProgramId
        ORDER BY e.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: EducationProgram.Name (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 2], [Property: Student.DateOfBirth (DateTime) Required, 3], [Property: Student.DepartmentId (int) Required FK Index, 4], [Property: Student.Gender (string) Required, 5], [Property: Student.ProgramId (int) Required FK Index, 6], [Property: Student.StudentCode (string) Required, 7] }
            3 -> 2
        SELECT e.Id, e.Name, s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
        FROM EducationPrograms AS e
        LEFT JOIN Students AS s ON e.Id == s.ProgramId
        ORDER BY e.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            EducationProgram entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                EducationProgram instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(EducationProgram);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EducationProgram.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EducationProgram").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (EducationProgram)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EducationProgram")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EducationProgram")]: 
                            {
                                return 
                                {
                                    EducationProgram instance;
                                    instance = new EducationProgram();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EducationProgram")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(EducationProgram)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<EducationProgram, EducationProgram>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (EducationProgram)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                navigation: [LIFTABLE Constant: Navigation: EducationProgram.Students (ICollection<Student>) Collection ToDependent Student Inverse: Program | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<EducationProgram, ICollection<Student>, Student> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<EducationProgram, Student>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Student entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Student instance2;
                    InternalEntityEntry entry2;
                    bool hasNullKey2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Student);
                    entry2 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(2) ? default(object) : (object)dataReader.GetInt32(2) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey2);
                    !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                    {
                        entityType2 = entry2.EntityType;
                        return instance2 = (Student)entry2.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Student")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")]: 
                                {
                                    return 
                                    {
                                        Student instance;
                                        instance = new Student();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(2) ? default(int) : dataReader.GetInt32(2);
                                        instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime) : dataReader.GetDateTime(3);
                                        instance.<DepartmentId>k__BackingField = dataReader.IsDBNull(4) ? default(int) : dataReader.GetInt32(4);
                                        instance.<Gender>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                        instance.<ProgramId>k__BackingField = dataReader.IsDBNull(6) ? default(int) : dataReader.GetInt32(6);
                                        instance.<StudentCode>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Student)
                        }
                        ;
                        entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType2, 
                            entity: instance2, 
                            snapshot: shadowSnapshot2);
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Program (EducationProgram) ToPrincipal EducationProgram Inverse: Students | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student").FindNavigation("Program")], 
            fixup: (namelessParameter{9}, namelessParameter{10}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<EducationProgram, ICollection<Student>, Student> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students").GetCollectionAccessor()].Add(
                    entity: namelessParameter{9}, 
                    value: namelessParameter{10}, 
                    forMaterialization: True);
                return namelessParameter{10}.<Program>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (EducationProgram)(resultContext.Values[0]) : default(EducationProgram);
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 09:58:57.831 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:57.832 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 09:58:57.834 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:57.836 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:57.838 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:57.839 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:58:57.841 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:58:57.843 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [EducationPrograms] AS [e]
LEFT JOIN [Students] AS [s] ON [e].[Id] = [s].[ProgramId]
ORDER BY [e].[Id]
2025-08-08 09:58:57.849 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [EducationPrograms] AS [e]
LEFT JOIN [Students] AS [s] ON [e].[Id] = [s].[ProgramId]
ORDER BY [e].[Id]
2025-08-08 09:58:57.855 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.861 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.863 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.865 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.866 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.869 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.870 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.872 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.873 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.876 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.878 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.880 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.882 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:57.884 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:57.885 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 32ms reading results.
2025-08-08 09:58:57.887 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:57.889 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:57.894 +07:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.EducationProgram.EducationProgramDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:57.897 +07:00 [INF] Executed action StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI) in 99.762ms
2025-08-08 09:58:57.901 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)'
2025-08-08 09:58:57.903 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:57.904 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:57.906 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:58:57.907 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/programs - 200 null application/json; charset=utf-8 144.3058ms
2025-08-08 09:58:58.788 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-08 09:58:58.792 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 09:58:58.793 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-08 09:58:58.795 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 09:58:58.796 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:58.797 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:58.799 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:58.800 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:58.801 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:58.803 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:58.804 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 09:58:58.806 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-08 09:58:58.808 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:58.810 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:58.813 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:58.816 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:58.818 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:58.821 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 09:58:58.823 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 09:58:58.826 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:58.828 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:58.829 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:58:58.830 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:58.832 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:58.834 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:58.835 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:58:58.836 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:58:58.837 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 09:58:58.848 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 09:58:58.851 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:58.852 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:58.854 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:58.855 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:58.857 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 6ms reading results.
2025-08-08 09:58:58.859 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:58.860 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:58.862 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:58:58.864 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:58:58.866 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:58:58.866 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:58:58.868 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:58:58.869 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:58.870 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 49.5193ms
2025-08-08 09:58:58.872 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 09:58:58.873 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:58.875 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:58.876 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:58:58.878 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 90.5517ms
2025-08-08 09:58:59.507 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/programs - null null
2025-08-08 09:58:59.510 +07:00 [DBG] 1 candidate(s) found for the request path '/api/programs'
2025-08-08 09:58:59.511 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)' with route pattern 'api/programs' is valid for the request path '/api/programs'
2025-08-08 09:58:59.513 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)'
2025-08-08 09:58:59.515 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:58:59.516 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:58:59.517 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:58:59.518 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:58:59.519 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:58:59.521 +07:00 [DBG] Authorization was successful.
2025-08-08 09:58:59.522 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)'
2025-08-08 09:58:59.523 +07:00 [INF] Route matched with {action = "GetAll", controller = "EducationProgram"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.EducationProgramController (StudentManagementAPI).
2025-08-08 09:58:59.526 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:58:59.528 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:58:59.530 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:58:59.532 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:58:59.534 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:58:59.537 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.EducationProgramController (StudentManagementAPI)
2025-08-08 09:58:59.540 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.EducationProgramController (StudentManagementAPI)
2025-08-08 09:58:59.542 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:58:59.544 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:58:59.545 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:58:59.546 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:59.548 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:59.550 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:58:59.551 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:58:59.552 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:58:59.553 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [EducationPrograms] AS [e]
LEFT JOIN [Students] AS [s] ON [e].[Id] = [s].[ProgramId]
ORDER BY [e].[Id]
2025-08-08 09:58:59.557 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [EducationPrograms] AS [e]
LEFT JOIN [Students] AS [s] ON [e].[Id] = [s].[ProgramId]
ORDER BY [e].[Id]
2025-08-08 09:58:59.562 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:59.563 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:59.565 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:59.566 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:59.568 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:59.569 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:59.571 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:59.572 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:59.574 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:59.575 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:59.578 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:59.579 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:59.580 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:58:59.582 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:58:59.584 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 22ms reading results.
2025-08-08 09:58:59.586 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:59.588 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:58:59.590 +07:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.EducationProgram.EducationProgramDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:58:59.591 +07:00 [INF] Executed action StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI) in 54.1905ms
2025-08-08 09:58:59.593 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)'
2025-08-08 09:58:59.594 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:58:59.596 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:58:59.597 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:58:59.599 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/programs - 200 null application/json; charset=utf-8 91.915ms
2025-08-08 09:59:00.370 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/departments - null null
2025-08-08 09:59:00.373 +07:00 [DBG] 1 candidate(s) found for the request path '/api/departments'
2025-08-08 09:59:00.374 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:59:00.375 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:00.376 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:00.377 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:00.378 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:59:00.379 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/departments - 204 null null 9.3724ms
2025-08-08 09:59:00.388 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/departments - null null
2025-08-08 09:59:00.391 +07:00 [DBG] 1 candidate(s) found for the request path '/api/departments'
2025-08-08 09:59:00.392 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)' with route pattern 'api/departments' is valid for the request path '/api/departments'
2025-08-08 09:59:00.394 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:00.395 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:00.397 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:00.398 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:00.400 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:59:00.401 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:59:00.402 +07:00 [DBG] Authorization was successful.
2025-08-08 09:59:00.403 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:00.410 +07:00 [INF] Route matched with {action = "GetAll", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.DepartmentController (StudentManagementAPI).
2025-08-08 09:59:00.412 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:59:00.413 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:59:00.415 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:59:00.417 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:59:00.419 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:59:00.421 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.DepartmentController (StudentManagementAPI)
2025-08-08 09:59:00.423 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.DepartmentController (StudentManagementAPI)
2025-08-08 09:59:00.427 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:59:00.430 +07:00 [DBG] Compiling query expression: 
'DbSet<Department>()
    .Include(d => d.Students)'
2025-08-08 09:59:00.432 +07:00 [DBG] Including navigation: 'Department.Students'.
2025-08-08 09:59:00.442 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.Name (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 2], [Property: Student.DateOfBirth (DateTime) Required, 3], [Property: Student.DepartmentId (int) Required FK Index, 4], [Property: Student.Gender (string) Required, 5], [Property: Student.ProgramId (int) Required FK Index, 6], [Property: Student.StudentCode (string) Required, 7] }
            3 -> 2
        SELECT d.Id, d.Name, s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
        FROM Departments AS d
        LEFT JOIN Students AS s ON d.Id == s.DepartmentId
        ORDER BY d.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.Name (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 2], [Property: Student.DateOfBirth (DateTime) Required, 3], [Property: Student.DepartmentId (int) Required FK Index, 4], [Property: Student.Gender (string) Required, 5], [Property: Student.ProgramId (int) Required FK Index, 6], [Property: Student.StudentCode (string) Required, 7] }
            3 -> 2
        SELECT d.Id, d.Name, s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
        FROM Departments AS d
        LEFT JOIN Students AS s ON d.Id == s.DepartmentId
        ORDER BY d.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Department entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Department instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Department);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Department.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Department").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Department)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Department")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Department")]: 
                            {
                                return 
                                {
                                    Department instance;
                                    instance = new Department();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Department")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Department)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Department, Department>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Department)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                navigation: [LIFTABLE Constant: Navigation: Department.Students (ICollection<Student>) Collection ToDependent Student Inverse: Department | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Department, ICollection<Student>, Student> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Department, Student>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Student entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Student instance2;
                    InternalEntityEntry entry2;
                    bool hasNullKey2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Student);
                    entry2 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(2) ? default(object) : (object)dataReader.GetInt32(2) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey2);
                    !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                    {
                        entityType2 = entry2.EntityType;
                        return instance2 = (Student)entry2.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Student")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")]: 
                                {
                                    return 
                                    {
                                        Student instance;
                                        instance = new Student();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(2) ? default(int) : dataReader.GetInt32(2);
                                        instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime) : dataReader.GetDateTime(3);
                                        instance.<DepartmentId>k__BackingField = dataReader.IsDBNull(4) ? default(int) : dataReader.GetInt32(4);
                                        instance.<Gender>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                        instance.<ProgramId>k__BackingField = dataReader.IsDBNull(6) ? default(int) : dataReader.GetInt32(6);
                                        instance.<StudentCode>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Student)
                        }
                        ;
                        entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType2, 
                            entity: instance2, 
                            snapshot: shadowSnapshot2);
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Department (Department) ToPrincipal Department Inverse: Students | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student").FindNavigation("Department")], 
            fixup: (namelessParameter{9}, namelessParameter{10}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Department, ICollection<Student>, Student> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students").GetCollectionAccessor()].Add(
                    entity: namelessParameter{9}, 
                    value: namelessParameter{10}, 
                    forMaterialization: True);
                return namelessParameter{10}.<Department>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Department)(resultContext.Values[0]) : default(Department);
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 09:59:00.449 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:59:00.451 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 09:59:00.453 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:00.454 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:00.456 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:59:00.457 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:59:00.459 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:59:00.460 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Departments] AS [d]
LEFT JOIN [Students] AS [s] ON [d].[Id] = [s].[DepartmentId]
ORDER BY [d].[Id]
2025-08-08 09:59:00.464 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Departments] AS [d]
LEFT JOIN [Students] AS [s] ON [d].[Id] = [s].[DepartmentId]
ORDER BY [d].[Id]
2025-08-08 09:59:00.470 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:00.476 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:00.477 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:00.479 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:00.481 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:00.482 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:00.483 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:00.485 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:00.487 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:00.488 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:00.490 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:00.491 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:59:00.492 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 23ms reading results.
2025-08-08 09:59:00.495 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:00.496 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:59:00.501 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:59:00.504 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:59:00.504 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:59:00.505 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:59:00.506 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:59:00.508 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Department.DepartmentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:59:00.510 +07:00 [INF] Executed action StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI) in 89.6169ms
2025-08-08 09:59:00.512 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:00.513 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:59:00.515 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:00.516 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:59:00.518 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/departments - 200 null application/json; charset=utf-8 130.7624ms
2025-08-08 09:59:01.196 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - null null
2025-08-08 09:59:01.197 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-08 09:59:01.197 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/enrollments/paged?page=1&pageSize=10 - null null
2025-08-08 09:59:01.200 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 09:59:01.204 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 09:59:01.208 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/paged'
2025-08-08 09:59:01.210 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:59:01.211 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-08 09:59:01.213 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:59:01.214 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:01.216 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:01.218 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:01.220 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:01.221 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:01.222 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:01.224 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:01.225 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:01.226 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:01.227 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:59:01.229 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:01.230 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:59:01.233 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:59:01.231 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - 204 null null 35.2814ms
2025-08-08 09:59:01.236 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:59:01.237 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/enrollments/paged?page=1&pageSize=10 - null null
2025-08-08 09:59:01.234 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/enrollments/paged?page=1&pageSize=10 - 204 null null 37.4749ms
2025-08-08 09:59:01.233 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - null null
2025-08-08 09:59:01.241 +07:00 [DBG] Authorization was successful.
2025-08-08 09:59:01.245 +07:00 [DBG] 2 candidate(s) found for the request path '/api/enrollments/paged'
2025-08-08 09:59:01.251 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 09:59:01.252 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:01.253 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.EnrollmentController.GetPagedEnrollments (StudentManagementAPI)' with route pattern 'api/enrollments/paged' is valid for the request path '/api/enrollments/paged'
2025-08-08 09:59:01.255 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-08 09:59:01.256 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-08 09:59:01.258 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.EnrollmentController.GetEnrollmentById (StudentManagementAPI)' with route pattern 'api/enrollments/{id}' is valid for the request path '/api/enrollments/paged'
2025-08-08 09:59:01.260 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 09:59:01.262 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:59:01.264 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.EnrollmentController.GetPagedEnrollments (StudentManagementAPI)'
2025-08-08 09:59:01.265 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:01.267 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:59:01.268 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:01.268 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:01.270 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:59:01.272 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:01.273 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:01.275 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:59:01.275 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:01.276 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:59:01.278 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:59:01.279 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:59:01.280 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:59:01.282 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 09:59:01.282 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:59:01.283 +07:00 [DBG] Authorization was successful.
2025-08-08 09:59:01.287 +07:00 [DBG] Authorization was successful.
2025-08-08 09:59:01.288 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 09:59:01.288 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.EnrollmentController.GetPagedEnrollments (StudentManagementAPI)'
2025-08-08 09:59:01.289 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 09:59:01.290 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 09:59:01.293 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:59:01.294 +07:00 [INF] Route matched with {action = "GetPagedEnrollments", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedEnrollments(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI).
2025-08-08 09:59:01.295 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:59:01.297 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:59:01.299 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:59:01.301 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:59:01.302 +07:00 [DBG] Created DbConnection. (4ms).
2025-08-08 09:59:01.303 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:59:01.305 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:59:01.307 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.308 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:59:01.310 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:59:01.311 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.314 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:59:01.316 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:59:01.317 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:59:01.318 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:59:01.320 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 09:59:01.321 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-08 09:59:01.323 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-08 09:59:01.326 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-08 09:59:01.327 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 09:59:01.328 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-08 09:59:01.329 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 09:59:01.330 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 09:59:01.331 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:59:01.336 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 09:59:01.338 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 09:59:01.340 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:59:01.342 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.343 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:59:01.345 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:59:01.347 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.348 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 09:59:01.349 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:59:01.351 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.352 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 09:59:01.354 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:59:01.356 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.357 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 09:59:01.359 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:59:01.360 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 18ms reading results.
2025-08-08 09:59:01.362 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:59:01.363 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:59:01.365 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.366 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 09:59:01.368 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:59:01.370 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-08 09:59:01.371 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:59:01.372 +07:00 [DBG] Attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:59:01.374 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:59:01.376 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:59:01.377 +07:00 [DBG] Done attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:59:01.379 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:59:01.380 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 09:59:01.383 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:59:01.384 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 09:59:01.385 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:59:01.385 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:59:01.390 +07:00 [DBG] Compiling query expression: 
'DbSet<Enrollment>()
    .Include(e => e.Student)
    .ThenInclude(s => s.User)
    .Include(e => e.CourseClass)
    .ThenInclude(c => c.Subject)
    .Include(e => e.CourseClass)
    .ThenInclude(c => c.Semester)
    .OrderBy(e => e.StudentId)
    .Count()'
2025-08-08 09:59:01.386 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-08 09:59:01.390 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:59:01.393 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-08 09:59:01.394 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:59:01.394 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Enrollments AS e) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Enrollments AS e, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 09:59:01.397 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 115.8254ms
2025-08-08 09:59:01.396 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-08 09:59:01.400 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:59:01.401 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:01.403 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 09:59:01.403 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-08 09:59:01.404 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:59:01.408 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 09:59:01.409 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.410 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.412 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-08 09:59:01.413 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.414 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 09:59:01.415 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-08 09:59:01.417 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:59:01.418 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 221.4011ms
2025-08-08 09:59:01.420 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:59:01.421 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:59:01.428 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:59:01.429 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-08-08 09:59:01.431 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 09:59:01.433 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
2025-08-08 09:59:01.435 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.442 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.443 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:59:01.444 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:59:01.445 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
2025-08-08 09:59:01.446 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:59:01.448 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.449 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 09:59:01.450 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 09:59:01.454 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 09:59:01.457 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.459 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.460 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-08 09:59:01.462 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 09:59:01.464 +07:00 [DBG] Compiling query expression: 
'DbSet<Enrollment>()
    .Include(e => e.Student)
    .ThenInclude(s => s.User)
    .Include(e => e.CourseClass)
    .ThenInclude(c => c.Subject)
    .Include(e => e.CourseClass)
    .ThenInclude(c => c.Semester)
    .OrderBy(e => e.StudentId)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-08 09:59:01.465 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.467 +07:00 [DBG] Including navigation: 'Enrollment.Student'.
2025-08-08 09:59:01.468 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 09:59:01.470 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-08 09:59:01.471 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.473 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-08 09:59:01.473 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.475 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 09:59:01.476 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:59:01.477 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-08 09:59:01.478 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:59:01.481 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 09:59:01.482 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 09:59:01.486 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 09:59:01.488 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.489 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:59:01.491 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.492 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:59:01.494 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:59:01.496 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Enrollment>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Enrollment.CourseClassId (int) Required FK Index, 1], [Property: Enrollment.EnrollDate (DateTime) Required, 2], [Property: Enrollment.StudentId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 4], [Property: Student.DateOfBirth (DateTime) Required, 5], [Property: Student.DepartmentId (int) Required FK Index, 6], [Property: Student.Gender (string) Required, 7], [Property: Student.ProgramId (int) Required FK Index, 8], [Property: Student.StudentCode (string) Required, 9] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 10], [Property: User.Email (string), 11], [Property: User.FullName (string) Required, 12], [Property: User.PasswordHash (string) Required, 13], [Property: User.Phone (string), 14], [Property: User.Role (string) Required, 15], [Property: User.Username (string) Required, 16] }
            3 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 17], [Property: CourseClass.ClassCode (string) Required, 18], [Property: CourseClass.MaxStudents (int?), 19], [Property: CourseClass.Schedule (string), 20], [Property: CourseClass.SemesterId (int) Required FK Index, 21], [Property: CourseClass.SubjectId (int) Required FK Index, 22], [Property: CourseClass.TeacherId (int) Required FK Index, 23] }
            4 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: Subject.Credit (int) Required, 25], [Property: Subject.Description (string), 26], [Property: Subject.Name (string) Required, 27], [Property: Subject.SemesterId (int) Required FK Index, 28], [Property: Subject.SubjectCode (string) Required, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Semester.EndDate (DateTime) Required, 31], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 32], [Property: Semester.Name (string) Required, 33], [Property: Semester.StartDate (DateTime) Required, 34] }
        SELECT e0.Id, e0.CourseClassId, e0.EnrollDate, e0.StudentId, s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s0.Id, s0.Credit, s0.Description, s0.Name, s0.SemesterId, s0.SubjectCode, s1.Id, s1.EndDate, s1.IsOpen, s1.Name, s1.StartDate
        FROM 
        (
            SELECT e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
            FROM Enrollments AS e
            ORDER BY e.StudentId ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS e0
        INNER JOIN Students AS s ON e0.StudentId == s.Id
        INNER JOIN Users AS u ON s.Id == u.Id
        INNER JOIN CourseClasses AS c ON e0.CourseClassId == c.Id
        INNER JOIN Subjects AS s0 ON c.SubjectId == s0.Id
        INNER JOIN Semesters AS s1 ON c.SemesterId == s1.Id
        ORDER BY e0.StudentId ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Enrollment.CourseClassId (int) Required FK Index, 1], [Property: Enrollment.EnrollDate (DateTime) Required, 2], [Property: Enrollment.StudentId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 4], [Property: Student.DateOfBirth (DateTime) Required, 5], [Property: Student.DepartmentId (int) Required FK Index, 6], [Property: Student.Gender (string) Required, 7], [Property: Student.ProgramId (int) Required FK Index, 8], [Property: Student.StudentCode (string) Required, 9] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 10], [Property: User.Email (string), 11], [Property: User.FullName (string) Required, 12], [Property: User.PasswordHash (string) Required, 13], [Property: User.Phone (string), 14], [Property: User.Role (string) Required, 15], [Property: User.Username (string) Required, 16] }
            3 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 17], [Property: CourseClass.ClassCode (string) Required, 18], [Property: CourseClass.MaxStudents (int?), 19], [Property: CourseClass.Schedule (string), 20], [Property: CourseClass.SemesterId (int) Required FK Index, 21], [Property: CourseClass.SubjectId (int) Required FK Index, 22], [Property: CourseClass.TeacherId (int) Required FK Index, 23] }
            4 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: Subject.Credit (int) Required, 25], [Property: Subject.Description (string), 26], [Property: Subject.Name (string) Required, 27], [Property: Subject.SemesterId (int) Required FK Index, 28], [Property: Subject.SubjectCode (string) Required, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Semester.EndDate (DateTime) Required, 31], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 32], [Property: Semester.Name (string) Required, 33], [Property: Semester.StartDate (DateTime) Required, 34] }
        SELECT e0.Id, e0.CourseClassId, e0.EnrollDate, e0.StudentId, s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s0.Id, s0.Credit, s0.Description, s0.Name, s0.SemesterId, s0.SubjectCode, s1.Id, s1.EndDate, s1.IsOpen, s1.Name, s1.StartDate
        FROM 
        (
            SELECT e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
            FROM Enrollments AS e
            ORDER BY e.StudentId ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS e0
        INNER JOIN Students AS s ON e0.StudentId == s.Id
        INNER JOIN Users AS u ON s.Id == u.Id
        INNER JOIN CourseClasses AS c ON e0.CourseClassId == c.Id
        INNER JOIN Subjects AS s0 ON c.SubjectId == s0.Id
        INNER JOIN Semesters AS s1 ON c.SemesterId == s1.Id
        ORDER BY e0.StudentId ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Enrollment entity;
        Student entity;
        User entity;
        CourseClass entity;
        Subject entity;
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Enrollment instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Enrollment);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Enrollment)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Enrollment")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(1);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(2);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Student instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Student);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(4) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Student)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Student")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(4);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(5);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(6);
                                instance.<Gender>k__BackingField = dataReader.GetString(7);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(8);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            User instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(User);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(10) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (User)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("User")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(10);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<FullName>k__BackingField = dataReader.GetString(12);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(13);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                instance.<Role>k__BackingField = dataReader.GetString(15);
                                instance.<Username>k__BackingField = dataReader.GetString(16);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            CourseClass instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(CourseClass);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(17) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (CourseClass)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CourseClass")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(17);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(18);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(21);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(22);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(23);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            Subject instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(Subject);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(24) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (Subject)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(24);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(25);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                instance.<Name>k__BackingField = dataReader.GetString(27);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(28);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(29);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        entity = 
        {
            MaterializationContext materializationContext6;
            IEntityType entityType6;
            Semester instance6;
            InternalEntityEntry entry6;
            bool hasNullKey6;
            materializationContext6 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance6 = default(Semester);
            entry6 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(30) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey6);
            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
            {
                entityType6 = entry6.EntityType;
                return instance6 = (Semester)entry6.Entity;
            } : 
            {
                ISnapshot shadowSnapshot6;
                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType6 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("Semester")];
                instance6 = switch (entityType6)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(30);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(31);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(32);
                                instance.<Name>k__BackingField = dataReader.GetString(33);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(34);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext6.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType6, 
                    entity: instance6, 
                    snapshot: shadowSnapshot6);
                return instance6;
            } : default(void);
            return instance6;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{20}, namelessParameter{21}) => 
            {
                namelessParameter{20}.<User>k__BackingField = namelessParameter{21};
                return namelessParameter{21}.<Student>k__BackingField = namelessParameter{20};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, Student>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.Student (Student) ToPrincipal Student Inverse: Enrollments | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Student")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: Student | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{24}, namelessParameter{25}) => 
            {
                namelessParameter{24}.<Student>k__BackingField = namelessParameter{25};
                return [LIFTABLE Constant: ClrICollectionAccessor<Student, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{25}, 
                    value: namelessParameter{24}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{27} => namelessParameter{27}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{29}, namelessParameter{30}) => 
            {
                namelessParameter{29}.<Subject>k__BackingField = namelessParameter{30};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{30}, 
                    value: namelessParameter{29}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{32} => namelessParameter{32}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{34}, namelessParameter{35}) => 
            {
                namelessParameter{34}.<Semester>k__BackingField = namelessParameter{35};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{35}, 
                    value: namelessParameter{34}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{39}, namelessParameter{40}) => 
            {
                namelessParameter{39}.<CourseClass>k__BackingField = namelessParameter{40};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{40}, 
                    value: namelessParameter{39}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 09:59:01.496 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:59:01.503 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:59:01.504 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:59:01.505 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:59:01.506 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:59:01.508 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 187.432ms
2025-08-08 09:59:01.509 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 09:59:01.510 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.510 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:59:01.512 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.513 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.515 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:59:01.516 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 09:59:01.517 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:59:01.518 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - 200 null application/json; charset=utf-8 285.0934ms
2025-08-08 09:59:01.520 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 09:59:01.524 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Id], [e0].[CourseClassId], [e0].[EnrollDate], [e0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s0].[Id], [s0].[Credit], [s0].[Description], [s0].[Name], [s0].[SemesterId], [s0].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
    FROM [Enrollments] AS [e]
    ORDER BY [e].[StudentId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [e0]
INNER JOIN [Students] AS [s] ON [e0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e0].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [c].[SubjectId] = [s0].[Id]
INNER JOIN [Semesters] AS [s1] ON [c].[SemesterId] = [s1].[Id]
ORDER BY [e0].[StudentId]
2025-08-08 09:59:01.533 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Id], [e0].[CourseClassId], [e0].[EnrollDate], [e0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s0].[Id], [s0].[Credit], [s0].[Description], [s0].[Name], [s0].[SemesterId], [s0].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
    FROM [Enrollments] AS [e]
    ORDER BY [e].[StudentId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [e0]
INNER JOIN [Students] AS [s] ON [e0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e0].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [c].[SubjectId] = [s0].[Id]
INNER JOIN [Semesters] AS [s1] ON [c].[SemesterId] = [s1].[Id]
ORDER BY [e0].[StudentId]
2025-08-08 09:59:01.537 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.538 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.539 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.541 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.542 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.544 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.545 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.546 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.548 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.549 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.551 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.552 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.554 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.556 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.557 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.559 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.560 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.561 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.563 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.564 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.566 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.567 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.569 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.570 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.571 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.573 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.574 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.576 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.577 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.579 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.580 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.581 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.583 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.584 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.586 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.587 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.589 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.590 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.592 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.593 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.595 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.596 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.598 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.599 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.601 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.602 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.604 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.605 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.607 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.608 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.610 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.612 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.613 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.615 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.616 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.618 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.620 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.621 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.622 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.624 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:01.626 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.627 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 90ms reading results.
2025-08-08 09:59:01.629 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.630 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:59:01.635 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:59:01.638 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:59:01.639 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:59:01.641 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:59:01.641 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:59:01.643 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Enrollment.EnrollmentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:59:01.649 +07:00 [INF] Executed action StudentManagementAPI.Controllers.EnrollmentController.GetPagedEnrollments (StudentManagementAPI) in 326.1235ms
2025-08-08 09:59:01.651 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.EnrollmentController.GetPagedEnrollments (StudentManagementAPI)'
2025-08-08 09:59:01.653 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:59:01.655 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:01.659 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 09:59:01.661 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/enrollments/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 425.0618ms
2025-08-08 09:59:13.395 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/departments - null null
2025-08-08 09:59:13.399 +07:00 [DBG] 1 candidate(s) found for the request path '/api/departments'
2025-08-08 09:59:13.400 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:59:13.402 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:13.403 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:13.405 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:13.407 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:59:13.408 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/departments - 204 null null 13.5997ms
2025-08-08 09:59:13.418 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/departments - null null
2025-08-08 09:59:13.422 +07:00 [DBG] 1 candidate(s) found for the request path '/api/departments'
2025-08-08 09:59:13.424 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)' with route pattern 'api/departments' is valid for the request path '/api/departments'
2025-08-08 09:59:13.426 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:13.427 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:13.428 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:13.430 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:13.431 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:59:13.432 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:59:13.434 +07:00 [DBG] Authorization was successful.
2025-08-08 09:59:13.434 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:13.435 +07:00 [INF] Route matched with {action = "GetAll", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.DepartmentController (StudentManagementAPI).
2025-08-08 09:59:13.439 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:59:13.441 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:59:13.442 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:59:13.444 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:59:13.446 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:59:13.448 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.DepartmentController (StudentManagementAPI)
2025-08-08 09:59:13.450 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.DepartmentController (StudentManagementAPI)
2025-08-08 09:59:13.452 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:59:13.455 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:59:13.456 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 09:59:13.457 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:13.459 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:13.461 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:59:13.462 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:59:13.463 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:59:13.465 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Departments] AS [d]
LEFT JOIN [Students] AS [s] ON [d].[Id] = [s].[DepartmentId]
ORDER BY [d].[Id]
2025-08-08 09:59:13.468 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Departments] AS [d]
LEFT JOIN [Students] AS [s] ON [d].[Id] = [s].[DepartmentId]
ORDER BY [d].[Id]
2025-08-08 09:59:13.473 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:13.475 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:13.476 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:13.477 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:13.479 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:13.481 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:13.483 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:13.485 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:13.486 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:13.488 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:13.490 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:13.491 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:59:13.493 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 19ms reading results.
2025-08-08 09:59:13.495 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:13.496 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:59:13.498 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:59:13.501 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:59:13.502 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:59:13.503 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:59:13.504 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:59:13.505 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Department.DepartmentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:59:13.507 +07:00 [INF] Executed action StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI) in 59.1872ms
2025-08-08 09:59:13.509 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:13.512 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:59:13.514 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:13.516 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:59:13.518 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/departments - 200 null application/json; charset=utf-8 100.1712ms
2025-08-08 09:59:15.301 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/programs - null null
2025-08-08 09:59:15.304 +07:00 [DBG] 1 candidate(s) found for the request path '/api/programs'
2025-08-08 09:59:15.305 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:59:15.307 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:15.308 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:15.309 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:15.310 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:59:15.311 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/programs - 204 null null 11.1266ms
2025-08-08 09:59:15.318 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/programs - null null
2025-08-08 09:59:15.321 +07:00 [DBG] 1 candidate(s) found for the request path '/api/programs'
2025-08-08 09:59:15.323 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)' with route pattern 'api/programs' is valid for the request path '/api/programs'
2025-08-08 09:59:15.324 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:15.326 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:15.327 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:15.329 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:15.330 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:59:15.331 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:59:15.332 +07:00 [DBG] Authorization was successful.
2025-08-08 09:59:15.333 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:15.335 +07:00 [INF] Route matched with {action = "GetAll", controller = "EducationProgram"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.EducationProgramController (StudentManagementAPI).
2025-08-08 09:59:15.337 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:59:15.338 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:59:15.340 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:59:15.342 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:59:15.344 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:59:15.345 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.EducationProgramController (StudentManagementAPI)
2025-08-08 09:59:15.348 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.EducationProgramController (StudentManagementAPI)
2025-08-08 09:59:15.350 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:59:15.352 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:59:15.353 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:59:15.355 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:15.357 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:15.358 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:59:15.359 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 09:59:15.360 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:59:15.363 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [EducationPrograms] AS [e]
LEFT JOIN [Students] AS [s] ON [e].[Id] = [s].[ProgramId]
ORDER BY [e].[Id]
2025-08-08 09:59:15.365 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [EducationPrograms] AS [e]
LEFT JOIN [Students] AS [s] ON [e].[Id] = [s].[ProgramId]
ORDER BY [e].[Id]
2025-08-08 09:59:15.370 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:15.372 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:15.373 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:15.374 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:15.377 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:15.378 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:15.379 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:15.380 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:15.381 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:15.383 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:15.385 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:15.386 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:15.387 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:15.390 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:59:15.392 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 21ms reading results.
2025-08-08 09:59:15.393 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:15.395 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:59:15.397 +07:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.EducationProgram.EducationProgramDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:59:15.398 +07:00 [INF] Executed action StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI) in 53.0766ms
2025-08-08 09:59:15.401 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:15.402 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:59:15.404 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:15.406 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:59:15.408 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/programs - 200 null application/json; charset=utf-8 90.2122ms
2025-08-08 09:59:16.065 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-08 09:59:16.069 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 09:59:16.071 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:59:16.072 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:16.073 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:16.074 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:16.075 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:59:16.076 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 10.6338ms
2025-08-08 09:59:16.079 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-08 09:59:16.083 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 09:59:16.085 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-08 09:59:16.087 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:16.089 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:16.090 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:16.091 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:16.093 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:59:16.094 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:59:16.095 +07:00 [DBG] Authorization was successful.
2025-08-08 09:59:16.097 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:16.098 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-08 09:59:16.100 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:59:16.102 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:59:16.104 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:59:16.107 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:59:16.108 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:59:16.110 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 09:59:16.112 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 09:59:16.114 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:59:16.116 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:59:16.118 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 09:59:16.119 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:16.121 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:16.123 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:59:16.125 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:59:16.127 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:59:16.129 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 09:59:16.133 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 09:59:16.138 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:16.139 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:16.141 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 09:59:16.142 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:59:16.144 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 6ms reading results.
2025-08-08 09:59:16.146 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:16.147 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:59:16.149 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:59:16.152 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:59:16.153 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:59:16.154 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:59:16.155 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:59:16.156 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:59:16.158 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 48.1121ms
2025-08-08 09:59:16.160 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 09:59:16.161 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:59:16.163 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:16.164 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:59:16.166 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 87.2661ms
2025-08-08 09:59:18.918 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-08 09:59:18.922 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 09:59:18.924 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 09:59:18.926 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:18.927 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:18.929 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:18.930 +07:00 [DBG] The request is a preflight request.
2025-08-08 09:59:18.931 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - 204 null null 13.3026ms
2025-08-08 09:59:18.938 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-08 09:59:18.941 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 09:59:18.943 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 09:59:18.945 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 09:59:18.947 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 09:59:18.948 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 09:59:18.950 +07:00 [INF] CORS policy execution successful.
2025-08-08 09:59:18.951 +07:00 [DBG] Successfully validated the token.
2025-08-08 09:59:18.952 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 09:59:18.954 +07:00 [DBG] Authorization was successful.
2025-08-08 09:59:18.954 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 09:59:18.956 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 09:59:18.957 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 09:59:18.959 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 09:59:18.961 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 09:59:18.963 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 09:59:18.965 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 09:59:18.967 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 09:59:18.969 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 09:59:18.971 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:59:18.973 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 09:59:18.975 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 09:59:18.977 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 09:59:18.978 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 09:59:18.982 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 09:59:18.983 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:59:18.985 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:59:18.986 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 09:59:18.988 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 09:59:18.990 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 09:59:18.992 +07:00 [DBG] Creating DbConnection.
2025-08-08 09:59:18.993 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 09:59:18.994 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:18.996 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:18.997 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:59:18.998 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 09:59:18.999 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 09:59:19.002 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-08 09:59:19.005 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-08 09:59:19.010 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:59:19.011 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:59:19.013 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:19.014 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:59:19.017 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:19.019 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:19.020 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 09:59:19.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 09:59:19.023 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 09:59:19.024 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 09:59:19.027 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 09:59:19.031 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 09:59:19.032 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 09:59:19.034 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:19.036 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 09:59:19.038 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 09:59:19.040 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 09:59:19.040 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 09:59:19.041 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 09:59:19.043 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 09:59:19.044 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:59:19.046 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 78.7172ms
2025-08-08 09:59:19.048 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 09:59:19.050 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 09:59:19.051 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 09:59:19.052 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 09:59:19.054 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - 200 null application/json; charset=utf-8 116.3122ms
2025-08-08 10:01:08.055 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-08 10:01:08.063 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 10:01:08.064 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:01:08.065 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:01:08.066 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:01:08.067 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:01:08.068 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:01:08.068 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 13.7074ms
2025-08-08 10:01:08.071 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-08 10:01:08.074 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 10:01:08.075 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-08 10:01:08.077 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 10:01:08.078 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:01:08.079 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:01:08.079 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:01:08.080 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 10:01:08.081 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 10:01:08.083 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 10:01:08.085 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:01:08.086 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:01:08.087 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:01:08.088 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:01:08.090 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:01:08.092 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 10:01:08.094 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 10:01:08.096 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 10:01:08.097 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 10:01:08.099 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 10:01:08.100 +07:00 [DBG] Connection id "0HNEM4T57JRAB", Request id "0HNEM4T57JRAB:00000061": started reading request body.
2025-08-08 10:01:08.101 +07:00 [DBG] Connection id "0HNEM4T57JRAB", Request id "0HNEM4T57JRAB:00000061": done reading request body.
2025-08-08 10:01:08.102 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 10:01:08.103 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 10:01:08.104 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 10:01:08.105 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 10:01:08.106 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 10:01:08.108 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: student1
2025-08-08 10:01:08.109 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:01:08.112 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:01:08.112 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 10:01:08.113 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.114 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.115 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:01:08.116 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 10:01:08.118 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:01:08.119 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 10:01:08.124 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 10:01:08.126 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:01:08.127 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.128 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 10:01:08.129 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.130 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:01:08.132 +07:00 [INF] 🔓 Login successful for user: student1
2025-08-08 10:01:08.147 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-08-08 10:01:08.152 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Student>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Student>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            WHERE s.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            WHERE s.Id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Student entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Student instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Student);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Student)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Student")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Student")]: 
                            {
                                return 
                                {
                                    Student instance;
                                    instance = new Student();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DepartmentId>k__BackingField = dataReader.GetInt32(2);
                                    instance.<Gender>k__BackingField = dataReader.GetString(3);
                                    instance.<ProgramId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<StudentCode>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Student)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 10:01:08.156 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.157 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.158 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:01:08.159 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:01:08.161 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:01:08.162 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 10:01:08.165 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 10:01:08.169 +07:00 [DBG] The navigation 'User.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:01:08.170 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:01:08.172 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.173 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-08 10:01:08.175 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.176 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:01:08.177 +07:00 [INF] ✅ Đăng nhập thành công cho user: student1
2025-08-08 10:01:08.178 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:01:08.180 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:01:08.181 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:01:08.182 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:01:08.182 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:01:08.183 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 10:01:08.184 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 92.3849ms
2025-08-08 10:01:08.186 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 10:01:08.187 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:01:08.189 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.190 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 10:01:08.191 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 120.8246ms
2025-08-08 10:01:08.294 +07:00 [DBG] Connection id "0HNEM4T57JRAC" accepted.
2025-08-08 10:01:08.295 +07:00 [DBG] Connection id "0HNEM4T57JRAC" started.
2025-08-08 10:01:08.312 +07:00 [DBG] Connection 0HNEM4T57JRAC established using the following protocol: "Tls13"
2025-08-08 10:01:08.317 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 10:01:08.320 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 10:01:08.321 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 10:01:08.322 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:01:08.323 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:01:08.324 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:01:08.325 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:01:08.327 +07:00 [DBG] Authorization was successful.
2025-08-08 10:01:08.328 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:01:08.329 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 10:01:08.331 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:01:08.333 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:01:08.334 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:01:08.336 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:01:08.337 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:01:08.338 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:01:08.340 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:01:08.341 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:01:08.343 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 10:01:08.344 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 10:01:08.346 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 10:01:08.348 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 10:01:08.350 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 10:01:08.352 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:01:08.354 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:01:08.355 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:01:08.357 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:01:08.362 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:01:08.365 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .Where(n => n.TargetRole == __role_0 || n.TargetRole == "All")
    .OrderByDescending(n => n.Id)
    .Count()'
2025-08-08 10:01:08.370 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All'), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 10:01:08.373 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:01:08.375 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 10:01:08.377 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.378 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.379 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:01:08.380 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 10:01:08.382 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:01:08.383 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 10:01:08.388 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 10:01:08.391 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.392 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:01:08.393 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.395 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:01:08.397 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .Where(n => n.TargetRole == __role_0 || n.TargetRole == "All")
    .OrderByDescending(n => n.Id)
    .Skip(__p_1)
    .Take(__p_2)
    .Select(dtoNotification => new NotificationDto{ 
        Id = dtoNotification.Id, 
        Title = dtoNotification.Title, 
        Content = dtoNotification.Content, 
        CreatorName = dtoNotification.Creator != null ? dtoNotification.Creator.FullName : "", 
        CreatedAt = dtoNotification.CreatedAt, 
        TargetRole = dtoNotification.TargetRole 
    }
    )'
2025-08-08 10:01:08.401 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<NotificationDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')
            ORDER BY n.Id DESC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')
            ORDER BY n.Id DESC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        DateTime? value5;
        string value6;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.GetString(2);
        value4 = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
        value5 = (DateTime?)dataReader.GetDateTime(4);
        value6 = dataReader.GetString(5);
        return new NotificationDto{ 
            Id = (int)value1, 
            Title = value2, 
            Content = value3, 
            CreatorName = value4, 
            CreatedAt = (DateTime)value5, 
            TargetRole = value6 
        }
        ;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 10:01:08.404 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.405 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.407 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:01:08.408 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 10:01:08.409 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:01:08.411 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:01:08.415 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:01:08.418 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.420 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:01:08.421 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.422 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:01:08.424 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:01:08.427 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:01:08.427 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:01:08.428 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:01:08.429 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:01:08.430 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:01:08.433 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 94.5572ms
2025-08-08 10:01:08.435 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:01:08.436 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:01:08.438 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:08.438 +07:00 [DBG] Connection id "0HNEM4T57JRAC" received FIN.
2025-08-08 10:01:08.439 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 10:01:08.440 +07:00 [DBG] Connection id "0HNEM4T57JRAC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:01:08.441 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 124.2627ms
2025-08-08 10:01:08.443 +07:00 [DBG] Connection id "0HNEM4T57JRAC" disconnecting.
2025-08-08 10:01:08.447 +07:00 [DBG] Connection id "0HNEM4T57JRAC" stopped.
2025-08-08 10:01:39.037 +07:00 [DBG] Connection id "0HNEM4T57JRAD" accepted.
2025-08-08 10:01:39.038 +07:00 [DBG] Connection id "0HNEM4T57JRAD" started.
2025-08-08 10:01:39.043 +07:00 [DBG] Connection 0HNEM4T57JRAD established using the following protocol: "Tls13"
2025-08-08 10:01:39.045 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 10:01:39.048 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 10:01:39.049 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 10:01:39.051 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:01:39.051 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:01:39.052 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:01:39.054 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:01:39.055 +07:00 [DBG] Authorization was successful.
2025-08-08 10:01:39.056 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:01:39.057 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 10:01:39.059 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:01:39.060 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:01:39.061 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:01:39.063 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:01:39.065 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:01:39.066 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:01:39.067 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:01:39.069 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:01:39.070 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 10:01:39.072 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 10:01:39.073 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 10:01:39.074 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 10:01:39.076 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 10:01:39.078 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:01:39.079 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:01:39.080 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:01:39.081 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:01:39.083 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:01:39.085 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:01:39.086 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 10:01:39.087 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:39.088 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:39.089 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:01:39.090 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 10:01:39.092 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:01:39.093 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 10:01:39.096 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 10:01:39.099 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:01:39.100 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:01:39.102 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:39.103 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:01:39.104 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:39.106 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:39.108 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:01:39.109 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:01:39.110 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:01:39.112 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:01:39.115 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:01:39.118 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:01:39.120 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:01:39.122 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:39.123 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:01:39.125 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:01:39.127 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:01:39.127 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:01:39.128 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:01:39.129 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:01:39.130 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:01:39.131 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 64.9512ms
2025-08-08 10:01:39.133 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:01:39.134 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:01:39.135 +07:00 [DBG] Connection id "0HNEM4T57JRAD" received FIN.
2025-08-08 10:01:39.135 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:01:39.136 +07:00 [DBG] Connection id "0HNEM4T57JRAD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:01:39.138 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 10:01:39.139 +07:00 [DBG] Connection id "0HNEM4T57JRAD" disconnecting.
2025-08-08 10:01:39.140 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 95.2952ms
2025-08-08 10:01:39.143 +07:00 [DBG] Connection id "0HNEM4T57JRAD" stopped.
2025-08-08 10:02:09.035 +07:00 [DBG] Connection id "0HNEM4T57JRAE" accepted.
2025-08-08 10:02:09.036 +07:00 [DBG] Connection id "0HNEM4T57JRAE" started.
2025-08-08 10:02:09.041 +07:00 [DBG] Connection 0HNEM4T57JRAE established using the following protocol: "Tls13"
2025-08-08 10:02:09.042 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 10:02:09.045 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 10:02:09.047 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 10:02:09.048 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:02:09.049 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:02:09.050 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:02:09.051 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:02:09.052 +07:00 [DBG] Authorization was successful.
2025-08-08 10:02:09.053 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:02:09.054 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 10:02:09.055 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:02:09.057 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:02:09.058 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:02:09.060 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:02:09.061 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:02:09.062 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:02:09.064 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:02:09.065 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:02:09.067 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 10:02:09.068 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 10:02:09.069 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 10:02:09.071 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 10:02:09.072 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 10:02:09.074 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:02:09.075 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:02:09.077 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:02:09.078 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:02:09.080 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:02:09.083 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:02:09.084 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 10:02:09.085 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:09.087 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:09.089 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:02:09.091 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:02:09.093 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:02:09.094 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 10:02:09.099 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 10:02:09.101 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:02:09.102 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:02:09.104 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:09.105 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:02:09.106 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:09.108 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:09.109 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:02:09.110 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 10:02:09.111 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:02:09.112 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:02:09.117 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:02:09.119 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:02:09.120 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:02:09.122 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:09.123 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:02:09.125 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:02:09.126 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:02:09.127 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:02:09.128 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:02:09.129 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:02:09.130 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:02:09.131 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 68.8183ms
2025-08-08 10:02:09.133 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:02:09.134 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:02:09.135 +07:00 [DBG] Connection id "0HNEM4T57JRAE" received FIN.
2025-08-08 10:02:09.141 +07:00 [DBG] Connection id "0HNEM4T57JRAE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:02:09.139 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:09.142 +07:00 [DBG] Connection id "0HNEM4T57JRAE" disconnecting.
2025-08-08 10:02:09.143 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 10:02:09.145 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 102.8677ms
2025-08-08 10:02:09.148 +07:00 [DBG] Connection id "0HNEM4T57JRAE" stopped.
2025-08-08 10:02:39.032 +07:00 [DBG] Connection id "0HNEM4T57JRAF" accepted.
2025-08-08 10:02:39.033 +07:00 [DBG] Connection id "0HNEM4T57JRAF" started.
2025-08-08 10:02:39.039 +07:00 [DBG] Connection 0HNEM4T57JRAF established using the following protocol: "Tls13"
2025-08-08 10:02:39.041 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 10:02:39.048 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 10:02:39.049 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 10:02:39.051 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:02:39.051 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:02:39.052 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:02:39.053 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:02:39.054 +07:00 [DBG] Authorization was successful.
2025-08-08 10:02:39.055 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:02:39.056 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 10:02:39.058 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:02:39.059 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:02:39.061 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:02:39.062 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:02:39.063 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:02:39.064 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:02:39.066 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:02:39.067 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:02:39.068 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 10:02:39.070 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 10:02:39.071 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 10:02:39.073 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 10:02:39.075 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 10:02:39.076 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:02:39.078 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:02:39.079 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:02:39.081 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:02:39.084 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:02:39.086 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:02:39.087 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 10:02:39.088 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:39.089 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:39.090 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:02:39.091 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 10:02:39.092 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:02:39.093 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 10:02:39.097 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 10:02:39.104 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:02:39.105 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:02:39.106 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:39.107 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:02:39.109 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:39.110 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:39.111 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:02:39.112 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 10:02:39.113 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:02:39.115 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:02:39.118 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:02:39.120 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:02:39.121 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:02:39.122 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:39.124 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:02:39.125 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:02:39.127 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:02:39.128 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:02:39.128 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:02:39.129 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:02:39.130 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:02:39.132 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 67.1023ms
2025-08-08 10:02:39.133 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:02:39.134 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:02:39.135 +07:00 [DBG] Connection id "0HNEM4T57JRAF" received FIN.
2025-08-08 10:02:39.135 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:02:39.136 +07:00 [DBG] Connection id "0HNEM4T57JRAF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:02:39.137 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 10:02:39.138 +07:00 [DBG] Connection id "0HNEM4T57JRAF" disconnecting.
2025-08-08 10:02:39.140 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 99.0789ms
2025-08-08 10:02:39.143 +07:00 [DBG] Connection id "0HNEM4T57JRAF" stopped.
2025-08-08 10:03:09.034 +07:00 [DBG] Connection id "0HNEM4T57JRAG" accepted.
2025-08-08 10:03:09.035 +07:00 [DBG] Connection id "0HNEM4T57JRAG" started.
2025-08-08 10:03:09.040 +07:00 [DBG] Connection 0HNEM4T57JRAG established using the following protocol: "Tls13"
2025-08-08 10:03:09.046 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 10:03:09.050 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 10:03:09.051 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 10:03:09.053 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:03:09.055 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:09.056 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:03:09.057 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:03:09.059 +07:00 [DBG] Authorization was successful.
2025-08-08 10:03:09.060 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:03:09.061 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 10:03:09.064 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:03:09.065 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:03:09.067 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:03:09.069 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:03:09.071 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:03:09.073 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:03:09.075 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:03:09.077 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:03:09.078 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 10:03:09.080 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 10:03:09.082 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 10:03:09.084 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 10:03:09.086 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 10:03:09.088 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:03:09.090 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:03:09.091 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:03:09.093 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:03:09.095 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:03:09.098 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:03:09.099 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 10:03:09.100 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:09.102 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:09.103 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:09.105 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:03:09.106 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 10:03:09.108 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 10:03:09.114 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 10:03:09.117 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:09.119 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:03:09.121 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:09.122 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:03:09.125 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:09.126 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:09.128 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:09.129 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:03:09.131 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:03:09.132 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:03:09.138 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:03:09.141 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:09.142 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:03:09.144 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:09.145 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:03:09.147 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:03:09.150 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:03:09.151 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:03:09.152 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:03:09.153 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:03:09.154 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:03:09.156 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 83.2234ms
2025-08-08 10:03:09.158 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:03:09.159 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:03:09.160 +07:00 [DBG] Connection id "0HNEM4T57JRAG" received FIN.
2025-08-08 10:03:09.161 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:09.162 +07:00 [DBG] Connection id "0HNEM4T57JRAG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:03:09.164 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 10:03:09.165 +07:00 [DBG] Connection id "0HNEM4T57JRAG" disconnecting.
2025-08-08 10:03:09.167 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 121.3875ms
2025-08-08 10:03:09.173 +07:00 [DBG] Connection id "0HNEM4T57JRAG" stopped.
2025-08-08 10:03:33.089 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/me - null null
2025-08-08 10:03:33.100 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 10:03:33.102 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:03:33.103 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:33.104 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:03:33.106 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:03:33.107 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:03:33.109 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/me - 204 null null 20.228ms
2025-08-08 10:03:33.112 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/me - null null
2025-08-08 10:03:33.116 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 10:03:33.119 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)' with route pattern 'api/student/me' is valid for the request path '/api/student/me'
2025-08-08 10:03:33.121 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 10:03:33.123 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:33.124 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:03:33.126 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:03:33.128 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:03:33.129 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:03:33.131 +07:00 [DBG] Authorization was successful.
2025-08-08 10:03:33.132 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 10:03:33.138 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 10:03:33.140 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:03:33.142 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:03:33.144 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:03:33.146 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:03:33.148 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:03:33.150 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:03:33.151 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:03:33.156 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:03:33.159 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .Include(s => s.User)
    .Include(s => s.Department)
    .Include(s => s.Program)
    .FirstOrDefault(s => s.Id == __id_0)'
2025-08-08 10:03:33.162 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-08 10:03:33.163 +07:00 [DBG] Including navigation: 'Student.Department'.
2025-08-08 10:03:33.164 +07:00 [DBG] Including navigation: 'Student.Program'.
2025-08-08 10:03:33.173 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Student>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Student>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
                2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
                3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
            FROM Students AS s
            INNER JOIN Users AS u ON s.Id == u.Id
            INNER JOIN Departments AS d ON s.DepartmentId == d.Id
            INNER JOIN EducationPrograms AS e ON s.ProgramId == e.Id
            WHERE s.Id == @__id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
                2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
                3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
            FROM Students AS s
            INNER JOIN Users AS u ON s.Id == u.Id
            INNER JOIN Departments AS d ON s.DepartmentId == d.Id
            INNER JOIN EducationPrograms AS e ON s.ProgramId == e.Id
            WHERE s.Id == @__id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Student entity;
            User entity;
            Department entity;
            EducationProgram entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Student instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Student);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Student)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Student")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Student")]: 
                            {
                                return 
                                {
                                    Student instance;
                                    instance = new Student();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DepartmentId>k__BackingField = dataReader.GetInt32(2);
                                    instance.<Gender>k__BackingField = dataReader.GetString(3);
                                    instance.<ProgramId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<StudentCode>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Student)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                User instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(User);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (User)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("User")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<FullName>k__BackingField = dataReader.GetString(8);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(9);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<Role>k__BackingField = dataReader.GetString(11);
                                    instance.<Username>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                Department instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(Department);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Department.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Department").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (Department)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Department")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Department")]: 
                            {
                                return 
                                {
                                    Department instance;
                                    instance = new Department();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                    instance.<Name>k__BackingField = dataReader.GetString(14);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext3.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Department")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Department)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            entity = 
            {
                MaterializationContext materializationContext4;
                IEntityType entityType4;
                EducationProgram instance4;
                InternalEntityEntry entry4;
                bool hasNullKey4;
                materializationContext4 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance4 = default(EducationProgram);
                entry4 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EducationProgram.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EducationProgram").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(15) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey4);
                !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                {
                    entityType4 = entry4.EntityType;
                    return instance4 = (EducationProgram)entry4.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot4;
                    shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType4 = [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("EducationProgram")];
                    instance4 = switch (entityType4)
                    {
                        case [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("EducationProgram")]: 
                            {
                                return 
                                {
                                    EducationProgram instance;
                                    instance = new EducationProgram();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(15);
                                    instance.<Name>k__BackingField = dataReader.GetString(16);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext4.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("EducationProgram")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(EducationProgram)
                    }
                    ;
                    entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType4, 
                        entity: instance4, 
                        snapshot: shadowSnapshot4);
                    return instance4;
                } : default(void);
                return instance4;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
                fixup: (namelessParameter{14}, namelessParameter{15}) => 
                {
                    namelessParameter{14}.<User>k__BackingField = namelessParameter{15};
                    return namelessParameter{15}.<Student>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, Department>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Student.Department (Department) ToPrincipal Department Inverse: Students | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("Student").FindNavigation("Department")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Department.Students (ICollection<Student>) Collection ToDependent Student Inverse: Department | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students")], 
                fixup: (namelessParameter{18}, namelessParameter{19}) => 
                {
                    namelessParameter{18}.<Department>k__BackingField = namelessParameter{19};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Department, ICollection<Student>, Student> | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students").GetCollectionAccessor()].Add(
                        entity: namelessParameter{19}, 
                        value: namelessParameter{18}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, EducationProgram>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Student.Program (EducationProgram) ToPrincipal EducationProgram Inverse: Students | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Student").FindNavigation("Program")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: EducationProgram.Students (ICollection<Student>) Collection ToDependent Student Inverse: Program | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students")], 
                fixup: (namelessParameter{23}, namelessParameter{24}) => 
                {
                    namelessParameter{23}.<Program>k__BackingField = namelessParameter{24};
                    return [LIFTABLE Constant: ClrICollectionAccessor<EducationProgram, ICollection<Student>, Student> | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students").GetCollectionAccessor()].Add(
                        entity: namelessParameter{24}, 
                        value: namelessParameter{23}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 10:03:33.182 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:03:33.183 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 10:03:33.185 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.186 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.188 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:33.189 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:03:33.191 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 10:03:33.192 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 10:03:33.201 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 10:03:33.204 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.205 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.207 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.209 +07:00 [DBG] The navigation 'Student.Department' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.211 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.212 +07:00 [DBG] The navigation 'Student.Program' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.214 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.216 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.218 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 14ms reading results.
2025-08-08 10:03:33.220 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.221 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:03:33.227 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:03:33.230 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:03:33.231 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:03:33.232 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:03:33.233 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:03:33.235 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentDto'.
2025-08-08 10:03:33.237 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI) in 87.3848ms
2025-08-08 10:03:33.239 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 10:03:33.241 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:03:33.242 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.245 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 10:03:33.247 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/me - 200 null application/json; charset=utf-8 135.3866ms
2025-08-08 10:03:33.517 +07:00 [DBG] Connection id "0HNEM4T57JRAH" accepted.
2025-08-08 10:03:33.519 +07:00 [DBG] Connection id "0HNEM4T57JRAH" started.
2025-08-08 10:03:33.520 +07:00 [DBG] Connection id "0HNEM4T57JRAI" accepted.
2025-08-08 10:03:33.528 +07:00 [DBG] Connection id "0HNEM4T57JRAI" started.
2025-08-08 10:03:33.531 +07:00 [DBG] Connection 0HNEM4T57JRAH established using the following protocol: "Tls13"
2025-08-08 10:03:33.533 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-08 10:03:33.535 +07:00 [DBG] Connection 0HNEM4T57JRAI established using the following protocol: "Tls13"
2025-08-08 10:03:33.537 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 10:03:33.539 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-08 10:03:33.541 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-08 10:03:33.545 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-08 10:03:33.546 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 10:03:33.548 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-08 10:03:33.550 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:33.552 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 10:03:33.553 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:03:33.554 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:33.555 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:03:33.557 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:03:33.558 +07:00 [DBG] Authorization was successful.
2025-08-08 10:03:33.559 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:03:33.560 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 10:03:33.562 +07:00 [DBG] Authorization was successful.
2025-08-08 10:03:33.564 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-08 10:03:33.565 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 10:03:33.567 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:03:33.572 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:03:33.574 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 10:03:33.574 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:03:33.577 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:03:33.579 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:03:33.581 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:03:33.583 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:03:33.585 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:03:33.587 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 10:03:33.589 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:03:33.590 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 10:03:33.592 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:03:33.594 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:03:33.595 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:03:33.598 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:03:33.600 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:03:33.601 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 10:03:33.603 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.605 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.607 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:03:33.607 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:33.610 +07:00 [DBG] Compiling query expression: 
'DbSet<Enrollment>()
    .Where(e => e.StudentId == __studentId_0)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Subject)'
2025-08-08 10:03:33.611 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-08 10:03:33.614 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-08 10:03:33.615 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-08 10:03:33.617 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 10:03:33.618 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 10:03:33.624 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 10:03:33.628 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.629 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.631 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.633 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Enrollment>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Enrollment.CourseClassId (int) Required FK Index, 1], [Property: Enrollment.EnrollDate (DateTime) Required, 2], [Property: Enrollment.StudentId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: CourseClass.ClassCode (string) Required, 5], [Property: CourseClass.MaxStudents (int?), 6], [Property: CourseClass.Schedule (string), 7], [Property: CourseClass.SemesterId (int) Required FK Index, 8], [Property: CourseClass.SubjectId (int) Required FK Index, 9], [Property: CourseClass.TeacherId (int) Required FK Index, 10] }
            2 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Subject.Credit (int) Required, 12], [Property: Subject.Description (string), 13], [Property: Subject.Name (string) Required, 14], [Property: Subject.SemesterId (int) Required FK Index, 15], [Property: Subject.SubjectCode (string) Required, 16] }
        SELECT e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode
        FROM Enrollments AS e
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        WHERE e.StudentId == @__studentId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Enrollment.CourseClassId (int) Required FK Index, 1], [Property: Enrollment.EnrollDate (DateTime) Required, 2], [Property: Enrollment.StudentId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: CourseClass.ClassCode (string) Required, 5], [Property: CourseClass.MaxStudents (int?), 6], [Property: CourseClass.Schedule (string), 7], [Property: CourseClass.SemesterId (int) Required FK Index, 8], [Property: CourseClass.SubjectId (int) Required FK Index, 9], [Property: CourseClass.TeacherId (int) Required FK Index, 10] }
            2 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Subject.Credit (int) Required, 12], [Property: Subject.Description (string), 13], [Property: Subject.Name (string) Required, 14], [Property: Subject.SemesterId (int) Required FK Index, 15], [Property: Subject.SubjectCode (string) Required, 16] }
        SELECT e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode
        FROM Enrollments AS e
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        WHERE e.StudentId == @__studentId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Enrollment entity;
        CourseClass entity;
        Subject entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Enrollment instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Enrollment);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Enrollment)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Enrollment")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(1);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(2);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            CourseClass instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(CourseClass);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(4) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (CourseClass)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CourseClass")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(4);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(5);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(6) ? default(int?) : (int?)dataReader.GetInt32(6);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(8);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(9);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Subject instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Subject);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(11) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Subject)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(11);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(12);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                instance.<Name>k__BackingField = dataReader.GetString(14);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(15);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(16);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Subject>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<CourseClass>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 10:03:33.633 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.639 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-08 10:03:33.641 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.641 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:03:33.643 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:03:33.643 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 10:03:33.645 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:03:33.646 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.649 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:03:33.651 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.652 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:03:33.654 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:33.655 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:03:33.656 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:03:33.657 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:03:33.658 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 10:03:33.660 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:03:33.662 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 10:03:33.663 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 76.6842ms
2025-08-08 10:03:33.670 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 10:03:33.671 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 10:03:33.671 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:03:33.672 +07:00 [DBG] Connection id "0HNEM4T57JRAH" received FIN.
2025-08-08 10:03:33.675 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.676 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.680 +07:00 [DBG] Connection id "0HNEM4T57JRAJ" accepted.
2025-08-08 10:03:33.677 +07:00 [DBG] Connection id "0HNEM4T57JRAH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:03:33.686 +07:00 [DBG] Disposed connection to database '' on server '' (10ms).
2025-08-08 10:03:33.679 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.688 +07:00 [DBG] Connection id "0HNEM4T57JRAJ" started.
2025-08-08 10:03:33.690 +07:00 [DBG] Connection id "0HNEM4T57JRAH" disconnecting.
2025-08-08 10:03:33.691 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 158.8075ms
2025-08-08 10:03:33.693 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.698 +07:00 [DBG] Connection 0HNEM4T57JRAJ established using the following protocol: "Tls13"
2025-08-08 10:03:33.700 +07:00 [DBG] Connection id "0HNEM4T57JRAH" stopped.
2025-08-08 10:03:33.702 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.704 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-08 10:03:33.706 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.710 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-08 10:03:33.712 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.713 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-08 10:03:33.714 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.716 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-08 10:03:33.718 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.720 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 10:03:33.722 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.723 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:33.725 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.726 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:03:33.728 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.728 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:03:33.730 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.732 +07:00 [DBG] Authorization was successful.
2025-08-08 10:03:33.733 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.734 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 10:03:33.735 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.739 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.741 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.741 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-08 10:03:33.742 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.745 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:03:33.746 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.748 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:03:33.749 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.752 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:03:33.754 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.756 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:03:33.757 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.759 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:03:33.761 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.763 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 10:03:33.764 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.767 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.767 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 10:03:33.769 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.771 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 10:03:33.773 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.775 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-08 10:03:33.777 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.780 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-08 10:03:33.782 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.784 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 10:03:33.786 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.788 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 10:03:33.790 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.792 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 10:03:33.793 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.795 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-08 10:03:33.796 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.800 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.802 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:03:33.802 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.804 +07:00 [DBG] Compiling query expression: 
'DbSet<CourseClass>()
    .Include(cc => cc.Subject)
    .Include(cc => cc.Semester)
    .Where(cc => cc.SemesterId == __semesterId_0)'
2025-08-08 10:03:33.806 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.808 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 10:03:33.809 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.811 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-08 10:03:33.812 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.815 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.816 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.818 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.819 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.821 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.822 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        WHERE c.SemesterId == @__semesterId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        WHERE c.SemesterId == @__semesterId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CourseClass entity;
        Subject entity;
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CourseClass instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CourseClass);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CourseClass)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Subject instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Subject);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Subject)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<Name>k__BackingField = dataReader.GetString(10);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Semester instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Semester);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Semester)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Semester")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(14);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(15);
                                instance.<Name>k__BackingField = dataReader.GetString(16);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(17);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Subject>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<Semester>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 10:03:33.823 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.830 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.831 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:03:33.831 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.832 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 10:03:33.834 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.835 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.837 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.839 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.840 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.843 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:33.844 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.845 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:03:33.847 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.849 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-08 10:03:33.851 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.852 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 10:03:33.854 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.861 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 10:03:33.861 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.864 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.866 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.867 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-08 10:03:33.869 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:33.871 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.872 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.874 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-08 10:03:33.876 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 201ms reading results.
2025-08-08 10:03:33.880 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.881 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:03:33.884 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:03:33.886 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:03:33.886 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:03:33.887 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:03:33.889 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:03:33.890 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:03:33.891 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:03:33.893 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:03:33.893 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:03:33.895 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:03:33.896 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:03:33.899 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 136.0402ms
2025-08-08 10:03:33.900 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.Models.Subject, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:03:33.901 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 10:03:33.905 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 309.1736ms
2025-08-08 10:03:33.905 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:03:33.906 +07:00 [DBG] Connection id "0HNEM4T57JRAJ" received FIN.
2025-08-08 10:03:33.906 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 10:03:33.908 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.909 +07:00 [DBG] Connection id "0HNEM4T57JRAJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:03:33.911 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:03:33.912 +07:00 [DBG] Connection id "0HNEM4T57JRAI" received FIN.
2025-08-08 10:03:33.912 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 10:03:33.914 +07:00 [DBG] Connection id "0HNEM4T57JRAJ" disconnecting.
2025-08-08 10:03:33.915 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:33.917 +07:00 [DBG] Connection id "0HNEM4T57JRAI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:03:33.918 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 214.9368ms
2025-08-08 10:03:33.921 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-08 10:03:33.923 +07:00 [DBG] Connection id "0HNEM4T57JRAI" disconnecting.
2025-08-08 10:03:33.927 +07:00 [DBG] Connection id "0HNEM4T57JRAJ" stopped.
2025-08-08 10:03:33.929 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 389.9272ms
2025-08-08 10:03:33.936 +07:00 [DBG] Connection id "0HNEM4T57JRAI" stopped.
2025-08-08 10:03:34.236 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-08 10:03:34.240 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 10:03:34.241 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:03:34.243 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:34.244 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:03:34.245 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:03:34.246 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:03:34.248 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 11.8756ms
2025-08-08 10:03:34.256 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-08 10:03:34.259 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 10:03:34.261 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-08 10:03:34.263 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 10:03:34.264 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:34.266 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:03:34.267 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:03:34.269 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:03:34.270 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:03:34.272 +07:00 [DBG] Authorization was successful.
2025-08-08 10:03:34.273 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 10:03:34.277 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 10:03:34.279 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:03:34.281 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:03:34.282 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:03:34.284 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:03:34.286 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:03:34.288 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:03:34.289 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:03:34.293 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:03:34.303 +07:00 [DBG] Compiling query expression: 
'DbSet<Enrollment>()
    .Where(e => e.StudentId == __studentId_0)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Subject)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Semester)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Teacher)
    .ThenInclude(t => t.User)
    .Select(e => e.CourseClass)
    .Distinct()'
2025-08-08 10:03:34.306 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 10:03:34.307 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-08 10:03:34.309 +07:00 [DBG] Including navigation: 'CourseClass.Teacher'.
2025-08-08 10:03:34.311 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-08 10:03:34.324 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
            3 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 18], [Property: Teacher.Degree (string) Required, 19], [Property: Teacher.TeacherCode (string) Required, 20] }
            4 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: User.Email (string), 22], [Property: User.FullName (string) Required, 23], [Property: User.PasswordHash (string) Required, 24], [Property: User.Phone (string), 25], [Property: User.Role (string) Required, 26], [Property: User.Username (string) Required, 27] }
        SELECT s0.Id, s0.ClassCode, s0.MaxStudents, s0.Schedule, s0.SemesterId, s0.SubjectId, s0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s1.Id, s1.EndDate, s1.IsOpen, s1.Name, s1.StartDate, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT DISTINCT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM Enrollments AS e
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            WHERE e.StudentId == @__studentId_0
        ) AS s0
        INNER JOIN Subjects AS s ON s0.SubjectId == s.Id
        INNER JOIN Semesters AS s1 ON s0.SemesterId == s1.Id
        INNER JOIN Teachers AS t ON s0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
            3 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 18], [Property: Teacher.Degree (string) Required, 19], [Property: Teacher.TeacherCode (string) Required, 20] }
            4 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: User.Email (string), 22], [Property: User.FullName (string) Required, 23], [Property: User.PasswordHash (string) Required, 24], [Property: User.Phone (string), 25], [Property: User.Role (string) Required, 26], [Property: User.Username (string) Required, 27] }
        SELECT s0.Id, s0.ClassCode, s0.MaxStudents, s0.Schedule, s0.SemesterId, s0.SubjectId, s0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s1.Id, s1.EndDate, s1.IsOpen, s1.Name, s1.StartDate, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT DISTINCT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM Enrollments AS e
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            WHERE e.StudentId == @__studentId_0
        ) AS s0
        INNER JOIN Subjects AS s ON s0.SubjectId == s.Id
        INNER JOIN Semesters AS s1 ON s0.SemesterId == s1.Id
        INNER JOIN Teachers AS t ON s0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CourseClass entity;
        Subject entity;
        Semester entity;
        Teacher entity;
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CourseClass instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CourseClass);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CourseClass)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Subject instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Subject);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Subject)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<Name>k__BackingField = dataReader.GetString(10);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Semester instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Semester);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Semester)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Semester")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(14);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(15);
                                instance.<Name>k__BackingField = dataReader.GetString(16);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(17);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            Teacher instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(Teacher);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Teacher.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(18) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (Teacher)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                        {
                            return 
                            {
                                Teacher instance;
                                instance = new Teacher();
                                instance.<Id>k__BackingField = dataReader.GetInt32(18);
                                instance.<Degree>k__BackingField = dataReader.GetString(19);
                                instance.<TeacherCode>k__BackingField = dataReader.GetString(20);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Teacher)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            User instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(User);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(21) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (User)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("User")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(21);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<FullName>k__BackingField = dataReader.GetString(23);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(24);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(25) ? default(string) : dataReader.GetString(25);
                                instance.<Role>k__BackingField = dataReader.GetString(26);
                                instance.<Username>k__BackingField = dataReader.GetString(27);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{17}, namelessParameter{18}) => 
            {
                namelessParameter{17}.<Subject>k__BackingField = namelessParameter{18};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{18}, 
                    value: namelessParameter{17}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{22}, namelessParameter{23}) => 
            {
                namelessParameter{22}.<Semester>k__BackingField = namelessParameter{23};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{23}, 
                    value: namelessParameter{22}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
            fixup: (namelessParameter{27}, namelessParameter{28}) => 
            {
                namelessParameter{27}.<User>k__BackingField = namelessParameter{28};
                return namelessParameter{28}.<Teacher>k__BackingField = namelessParameter{27};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Teacher>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Teacher (Teacher) ToPrincipal Teacher Inverse: CourseClasses | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Teacher")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Teacher.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Teacher | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{31}, namelessParameter{32}) => 
            {
                namelessParameter{31}.<Teacher>k__BackingField = namelessParameter{32};
                return [LIFTABLE Constant: ClrICollectionAccessor<Teacher, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{32}, 
                    value: namelessParameter{31}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 10:03:34.335 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:03:34.336 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 10:03:34.338 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:34.339 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:34.341 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:34.343 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:03:34.345 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 10:03:34.346 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 10:03:34.355 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 10:03:34.358 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.359 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.361 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.362 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.364 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.365 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.367 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.368 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.369 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.371 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.373 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.374 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.376 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.378 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.379 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.381 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.382 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.384 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.385 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.387 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.388 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.390 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.391 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.393 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.394 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.395 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.397 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.399 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.400 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.401 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.403 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.405 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.407 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.408 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.409 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.411 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.412 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.414 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.415 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.417 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.419 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.421 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.422 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.424 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.426 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.428 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.430 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.432 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.434 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.436 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.438 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.440 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.442 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.443 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.445 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.446 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.448 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.449 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.451 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.452 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.454 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.456 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.457 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.458 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.460 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.462 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.463 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.465 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.466 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.468 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:34.470 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:34.471 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 113ms reading results.
2025-08-08 10:03:34.473 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:34.475 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:03:34.477 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:03:34.480 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:03:34.481 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:03:34.482 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:03:34.483 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:03:34.484 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:03:34.488 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 199.8983ms
2025-08-08 10:03:34.490 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 10:03:34.491 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:03:34.492 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:34.494 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 10:03:34.495 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 239.9253ms
2025-08-08 10:03:38.247 +07:00 [DBG] Connection id "0HNEM4T57JRAK" accepted.
2025-08-08 10:03:38.249 +07:00 [DBG] Connection id "0HNEM4T57JRAK" started.
2025-08-08 10:03:38.253 +07:00 [DBG] Connection 0HNEM4T57JRAK established using the following protocol: "Tls13"
2025-08-08 10:03:38.254 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 10:03:38.257 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 10:03:38.259 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 10:03:38.260 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:03:38.261 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:38.262 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:03:38.263 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:03:38.265 +07:00 [DBG] Authorization was successful.
2025-08-08 10:03:38.266 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:03:38.267 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 10:03:38.269 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:03:38.270 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:03:38.272 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:03:38.274 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:03:38.275 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:03:38.277 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:03:38.278 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:03:38.280 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:03:38.281 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 10:03:38.282 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 10:03:38.284 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 10:03:38.286 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 10:03:38.288 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 10:03:38.290 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:03:38.291 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:03:38.292 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:03:38.294 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:03:38.296 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:03:38.298 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:03:38.299 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 10:03:38.300 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:38.301 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:38.303 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:38.304 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 10:03:38.305 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:03:38.307 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 10:03:38.310 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 10:03:38.314 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:38.316 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:03:38.318 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:38.320 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:03:38.322 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:38.324 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:38.326 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:38.328 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:03:38.330 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 10:03:38.332 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:03:38.336 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:03:38.338 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:38.339 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:03:38.341 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:38.343 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:03:38.344 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:03:38.346 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:03:38.347 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:03:38.348 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:03:38.349 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:03:38.350 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:03:38.352 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 75.2655ms
2025-08-08 10:03:38.353 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:03:38.355 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:03:38.356 +07:00 [DBG] Connection id "0HNEM4T57JRAK" received FIN.
2025-08-08 10:03:38.356 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:38.358 +07:00 [DBG] Connection id "0HNEM4T57JRAK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:03:38.359 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 10:03:38.360 +07:00 [DBG] Connection id "0HNEM4T57JRAK" disconnecting.
2025-08-08 10:03:38.362 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 107.7143ms
2025-08-08 10:03:38.367 +07:00 [DBG] Connection id "0HNEM4T57JRAK" stopped.
2025-08-08 10:03:49.670 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Score/grouped-by-semester/7 - null null
2025-08-08 10:03:49.673 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Score/grouped-by-semester/7'
2025-08-08 10:03:49.675 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:03:49.677 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:49.678 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:03:49.680 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:03:49.681 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:03:49.682 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Score/grouped-by-semester/7 - 204 null null 12.4032ms
2025-08-08 10:03:49.688 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/Score/grouped-by-semester/7 - null null
2025-08-08 10:03:49.692 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Score/grouped-by-semester/7'
2025-08-08 10:03:49.693 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)' with route pattern 'api/Score/grouped-by-semester/{studentId}' is valid for the request path '/api/Score/grouped-by-semester/7'
2025-08-08 10:03:49.695 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-08 10:03:49.697 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:49.699 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:03:49.700 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:03:49.701 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:03:49.702 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:03:49.704 +07:00 [DBG] Authorization was successful.
2025-08-08 10:03:49.705 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-08 10:03:49.709 +07:00 [INF] Route matched with {action = "GetScoresGroupedBySemester", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresGroupedBySemester(Int32) on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-08 10:03:49.712 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:03:49.714 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:03:49.716 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:03:49.718 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:03:49.720 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:03:49.722 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 10:03:49.725 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 10:03:49.727 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.Int32' ...
2025-08-08 10:03:49.728 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.Int32' using the name 'studentId' in request data ...
2025-08-08 10:03:49.731 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.Int32'.
2025-08-08 10:03:49.732 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.Int32'.
2025-08-08 10:03:49.734 +07:00 [DBG] Attempting to validate the bound parameter 'studentId' of type 'System.Int32' ...
2025-08-08 10:03:49.736 +07:00 [DBG] Done attempting to validate the bound parameter 'studentId' of type 'System.Int32'.
2025-08-08 10:03:49.741 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:03:49.744 +07:00 [DBG] Compiling query expression: 
'DbSet<Score>()
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.Student)
    .ThenInclude(s => s.User)
    .Include(s => s.Enrollment.CourseClass)
    .ThenInclude(c => c.Subject)
    .Include(s => s.Enrollment.CourseClass.Semester)
    .Where(s => s.Enrollment.StudentId == __studentId_0)'
2025-08-08 10:03:49.747 +07:00 [DBG] Including navigation: 'Score.Enrollment'.
2025-08-08 10:03:49.749 +07:00 [DBG] Including navigation: 'Enrollment.Student'.
2025-08-08 10:03:49.750 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-08 10:03:49.751 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-08 10:03:49.753 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 10:03:49.755 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-08 10:03:49.771 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Score>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
            6 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 36], [Property: Semester.EndDate (DateTime) Required, 37], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 38], [Property: Semester.Name (string) Required, 39], [Property: Semester.StartDate (DateTime) Required, 40] }
        SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode, s2.Id, s2.EndDate, s2.IsOpen, s2.Name, s2.StartDate
        FROM Scores AS s
        INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
        INNER JOIN Students AS s0 ON e.StudentId == s0.Id
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
        INNER JOIN Semesters AS s2 ON c.SemesterId == s2.Id
        WHERE e.StudentId == @__studentId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
            6 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 36], [Property: Semester.EndDate (DateTime) Required, 37], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 38], [Property: Semester.Name (string) Required, 39], [Property: Semester.StartDate (DateTime) Required, 40] }
        SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode, s2.Id, s2.EndDate, s2.IsOpen, s2.Name, s2.StartDate
        FROM Scores AS s
        INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
        INNER JOIN Students AS s0 ON e.StudentId == s0.Id
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
        INNER JOIN Semesters AS s2 ON c.SemesterId == s2.Id
        WHERE e.StudentId == @__studentId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Score entity;
        Enrollment entity;
        Student entity;
        User entity;
        CourseClass entity;
        Subject entity;
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Score instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Score);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Score.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Score)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]: 
                        {
                            return 
                            {
                                Score instance;
                                instance = new Score();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EnrollmentId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Final>k__BackingField = dataReader.IsDBNull(2) ? default(double?) : (double?)dataReader.GetDouble(2);
                                instance.<Midterm>k__BackingField = dataReader.IsDBNull(3) ? default(double?) : (double?)dataReader.GetDouble(3);
                                instance.<Other>k__BackingField = dataReader.IsDBNull(4) ? default(double?) : (double?)dataReader.GetDouble(4);
                                instance.<Total>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Score)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Enrollment instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Enrollment);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Enrollment)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Enrollment")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(7);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(8);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Student instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Student);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(10) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Student)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(10);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(11);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(12);
                                instance.<Gender>k__BackingField = dataReader.GetString(13);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(14);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(15);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            User instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(User);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (User)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<FullName>k__BackingField = dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<Role>k__BackingField = dataReader.GetString(21);
                                instance.<Username>k__BackingField = dataReader.GetString(22);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            CourseClass instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(CourseClass);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (CourseClass)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CourseClass")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(24);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(27);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(28);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(29);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        entity = 
        {
            MaterializationContext materializationContext6;
            IEntityType entityType6;
            Subject instance6;
            InternalEntityEntry entry6;
            bool hasNullKey6;
            materializationContext6 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance6 = default(Subject);
            entry6 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(30) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey6);
            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
            {
                entityType6 = entry6.EntityType;
                return instance6 = (Subject)entry6.Entity;
            } : 
            {
                ISnapshot shadowSnapshot6;
                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType6 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance6 = switch (entityType6)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(30);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(31);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(32) ? default(string) : dataReader.GetString(32);
                                instance.<Name>k__BackingField = dataReader.GetString(33);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(34);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(35);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext6.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType6, 
                    entity: instance6, 
                    snapshot: shadowSnapshot6);
                return instance6;
            } : default(void);
            return instance6;
        };
        entity = 
        {
            MaterializationContext materializationContext7;
            IEntityType entityType7;
            Semester instance7;
            InternalEntityEntry entry7;
            bool hasNullKey7;
            materializationContext7 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance7 = default(Semester);
            entry7 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(36) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey7);
            !(hasNullKey7) ? entry7 != default(InternalEntityEntry) ? 
            {
                entityType7 = entry7.EntityType;
                return instance7 = (Semester)entry7.Entity;
            } : 
            {
                ISnapshot shadowSnapshot7;
                shadowSnapshot7 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType7 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Semester")];
                instance7 = switch (entityType7)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(36);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(37);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(38);
                                instance.<Name>k__BackingField = dataReader.GetString(39);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(40);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext7.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry7 = entityType7 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType7, 
                    entity: instance7, 
                    snapshot: shadowSnapshot7);
                return instance7;
            } : default(void);
            return instance7;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{23}, namelessParameter{24}) => 
            {
                namelessParameter{23}.<User>k__BackingField = namelessParameter{24};
                return namelessParameter{24}.<Student>k__BackingField = namelessParameter{23};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, Student>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.Student (Student) ToPrincipal Student Inverse: Enrollments | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Student")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: Student | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{27}, namelessParameter{28}) => 
            {
                namelessParameter{27}.<Student>k__BackingField = namelessParameter{28};
                return [LIFTABLE Constant: ClrICollectionAccessor<Student, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{28}, 
                    value: namelessParameter{27}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{32}, namelessParameter{33}) => 
            {
                namelessParameter{32}.<Subject>k__BackingField = namelessParameter{33};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{33}, 
                    value: namelessParameter{32}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{37}, namelessParameter{38}) => 
            {
                namelessParameter{37}.<Semester>k__BackingField = namelessParameter{38};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{39} => namelessParameter{39}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{38}, 
                    value: namelessParameter{37}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{40} => namelessParameter{40}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{42}, namelessParameter{43}) => 
            {
                namelessParameter{42}.<CourseClass>k__BackingField = namelessParameter{43};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{44} => namelessParameter{44}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{43}, 
                    value: namelessParameter{42}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Score, Score, Enrollment>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Score.Enrollment (Enrollment) ToPrincipal Enrollment Inverse: Score | Resolver: namelessParameter{45} => namelessParameter{45}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindNavigation("Enrollment")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.Score (Score) ToDependent Score Inverse: Enrollment | Resolver: namelessParameter{46} => namelessParameter{46}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Score")], 
            fixup: (namelessParameter{47}, namelessParameter{48}) => 
            {
                namelessParameter{47}.<Enrollment>k__BackingField = namelessParameter{48};
                return namelessParameter{48}.<Score>k__BackingField = namelessParameter{47};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 10:03:49.787 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:03:49.788 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 10:03:49.789 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:49.791 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:49.793 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:49.795 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:03:49.797 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 10:03:49.798 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 10:03:49.811 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 10:03:49.815 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.816 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.818 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.820 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.822 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.824 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.825 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.826 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.829 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.830 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.832 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.833 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.835 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.837 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.839 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.841 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.843 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.845 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.846 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.848 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.850 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.851 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.853 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.854 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.856 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.858 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.860 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.861 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.863 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.864 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.866 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.868 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.870 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.871 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.873 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.875 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.876 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.878 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.880 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.881 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.883 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.885 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.887 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.888 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.890 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.892 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.893 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.895 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.896 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.898 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.900 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.901 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.903 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.905 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.907 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.908 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.909 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.911 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.913 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.914 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.916 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.918 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.920 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.921 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.923 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.924 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.927 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.928 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.929 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.931 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.933 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.935 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.936 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.938 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.940 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.942 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.943 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.945 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.947 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.949 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.950 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.952 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.954 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.955 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.957 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.958 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.961 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.962 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.964 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.965 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.967 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.969 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.970 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.972 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.974 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.975 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.977 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.979 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.982 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.984 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:49.985 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:49.988 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 173ms reading results.
2025-08-08 10:03:49.990 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:49.991 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:03:49.995 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:03:49.998 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:03:49.999 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:03:49.999 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:03:50.000 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:03:50.002 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectEnumerableIterator`2[[System.Linq.IGrouping`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[StudentManagementAPI.Models.Score, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Linq, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[StudentManagementAPI.DTOs.Score.SemesterScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:03:50.007 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI) in 285.1095ms
2025-08-08 10:03:50.010 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-08 10:03:50.011 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:03:50.012 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:50.014 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 10:03:50.016 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/Score/grouped-by-semester/7 - 200 null application/json; charset=utf-8 328.2529ms
2025-08-08 10:03:53.966 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-08 10:03:53.969 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 10:03:53.970 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:03:53.971 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:53.972 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:03:53.973 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:03:53.975 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:03:53.976 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 10.8069ms
2025-08-08 10:03:53.983 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-08 10:03:53.986 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 10:03:53.987 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-08 10:03:53.990 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 10:03:53.991 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:53.992 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:03:53.993 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:03:53.995 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:03:53.996 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:03:53.998 +07:00 [DBG] Authorization was successful.
2025-08-08 10:03:53.999 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 10:03:54.000 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 10:03:54.003 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:03:54.004 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:03:54.006 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:03:54.008 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:03:54.010 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:03:54.012 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:03:54.013 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:03:54.015 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:03:54.018 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:03:54.019 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 10:03:54.020 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:54.021 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:54.023 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:54.024 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:03:54.026 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:03:54.028 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 10:03:54.032 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 10:03:54.036 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.038 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.039 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.040 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.042 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.044 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.046 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.047 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.049 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.051 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.053 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.055 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.057 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.059 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.061 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.062 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.064 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.066 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.067 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.068 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.070 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.072 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.073 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.075 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.076 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.077 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.079 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.081 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.082 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.083 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.085 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.087 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.089 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.090 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.091 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.093 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.095 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.096 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.098 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.099 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.101 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.102 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.104 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.105 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.107 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.109 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.110 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.111 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.113 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.115 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.116 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.118 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.119 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.121 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.122 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.124 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.125 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.126 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.129 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.130 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.131 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.134 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.136 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.138 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.140 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.142 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.143 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.144 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.146 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.148 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:54.150 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:54.151 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 115ms reading results.
2025-08-08 10:03:54.153 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:54.155 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:03:54.157 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:03:54.159 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:03:54.160 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:03:54.161 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:03:54.162 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:03:54.164 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:03:54.165 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 153.5801ms
2025-08-08 10:03:54.167 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 10:03:54.168 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:03:54.170 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:54.172 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 10:03:54.173 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 190.8033ms
2025-08-08 10:03:56.604 +07:00 [DBG] Connection id "0HNEM4T57JRAL" accepted.
2025-08-08 10:03:56.605 +07:00 [DBG] Connection id "0HNEM4T57JRAL" started.
2025-08-08 10:03:56.606 +07:00 [DBG] Connection id "0HNEM4T57JRAM" accepted.
2025-08-08 10:03:56.610 +07:00 [DBG] Connection id "0HNEM4T57JRAM" started.
2025-08-08 10:03:56.613 +07:00 [DBG] Connection 0HNEM4T57JRAL established using the following protocol: "Tls13"
2025-08-08 10:03:56.616 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-08 10:03:56.617 +07:00 [DBG] Connection 0HNEM4T57JRAM established using the following protocol: "Tls13"
2025-08-08 10:03:56.622 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 10:03:56.623 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-08 10:03:56.625 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-08 10:03:56.628 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-08 10:03:56.630 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 10:03:56.632 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-08 10:03:56.633 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:56.635 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 10:03:56.636 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:03:56.637 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:56.638 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:03:56.638 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:03:56.640 +07:00 [DBG] Authorization was successful.
2025-08-08 10:03:56.640 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:03:56.641 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 10:03:56.642 +07:00 [DBG] Authorization was successful.
2025-08-08 10:03:56.643 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-08 10:03:56.644 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 10:03:56.646 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:03:56.648 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 10:03:56.649 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:03:56.651 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:03:56.652 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:03:56.654 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:03:56.656 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:03:56.658 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:03:56.659 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:03:56.661 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:03:56.663 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 10:03:56.664 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:03:56.666 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 10:03:56.667 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:03:56.669 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:03:56.670 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:03:56.672 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:03:56.674 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:03:56.674 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 10:03:56.677 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:03:56.678 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.679 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 10:03:56.680 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.681 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.683 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:56.685 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.685 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:03:56.687 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:56.688 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 10:03:56.689 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:03:56.691 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 10:03:56.692 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 10:03:56.696 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 10:03:56.699 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 10:03:56.700 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.703 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 10:03:56.706 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.709 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.710 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.712 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.713 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.714 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.715 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 14ms reading results.
2025-08-08 10:03:56.717 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.718 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.720 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.721 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 10:03:56.722 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.725 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:03:56.726 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.728 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:03:56.729 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.730 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:03:56.732 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.733 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:03:56.734 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.735 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:03:56.736 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.737 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:03:56.739 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.740 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 77.2618ms
2025-08-08 10:03:56.742 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.743 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 10:03:56.744 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.746 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:03:56.747 +07:00 [DBG] Connection id "0HNEM4T57JRAL" received FIN.
2025-08-08 10:03:56.748 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.749 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.752 +07:00 [DBG] Connection id "0HNEM4T57JRAN" accepted.
2025-08-08 10:03:56.752 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.759 +07:00 [DBG] Disposed connection to database '' on server '' (10ms).
2025-08-08 10:03:56.750 +07:00 [DBG] Connection id "0HNEM4T57JRAL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:03:56.761 +07:00 [DBG] Connection id "0HNEM4T57JRAN" started.
2025-08-08 10:03:56.762 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.764 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 147.7677ms
2025-08-08 10:03:56.768 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.765 +07:00 [DBG] Connection id "0HNEM4T57JRAL" disconnecting.
2025-08-08 10:03:56.769 +07:00 [DBG] Connection 0HNEM4T57JRAN established using the following protocol: "Tls13"
2025-08-08 10:03:56.774 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.775 +07:00 [DBG] Connection id "0HNEM4T57JRAL" stopped.
2025-08-08 10:03:56.776 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-08 10:03:56.777 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.781 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-08 10:03:56.782 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.783 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-08 10:03:56.785 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.787 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-08 10:03:56.789 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.790 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 10:03:56.791 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.792 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:56.794 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.795 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:03:56.796 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.797 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:03:56.798 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.799 +07:00 [DBG] Authorization was successful.
2025-08-08 10:03:56.802 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.803 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 10:03:56.804 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.805 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-08 10:03:56.807 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.809 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:03:56.810 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.812 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:03:56.813 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.815 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:03:56.817 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.819 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:03:56.821 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.823 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:03:56.824 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.826 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 10:03:56.828 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.831 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 10:03:56.832 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.834 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 10:03:56.836 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.838 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-08 10:03:56.839 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.840 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-08 10:03:56.842 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.843 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 10:03:56.845 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.846 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 10:03:56.847 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.849 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 10:03:56.850 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.852 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-08 10:03:56.853 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.855 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:03:56.856 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.859 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:03:56.859 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.860 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 10:03:56.861 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.862 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.864 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.865 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.866 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.867 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:56.869 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.871 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:03:56.872 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.873 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 10:03:56.874 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.875 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 10:03:56.877 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.881 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 10:03:56.884 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.886 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.888 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:56.889 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 10:03:56.891 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.892 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.894 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 185ms reading results.
2025-08-08 10:03:56.895 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 10:03:56.897 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.900 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:03:56.901 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-08 10:03:56.903 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:03:56.905 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:03:56.906 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:03:56.908 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:03:56.909 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:03:56.910 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:03:56.910 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:03:56.912 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:03:56.913 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:03:56.914 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:03:56.915 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 89.3247ms
2025-08-08 10:03:56.917 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.Models.Subject, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:03:56.918 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 10:03:56.920 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 253.1284ms
2025-08-08 10:03:56.921 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:03:56.922 +07:00 [DBG] Connection id "0HNEM4T57JRAN" received FIN.
2025-08-08 10:03:56.923 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 10:03:56.923 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.924 +07:00 [DBG] Connection id "0HNEM4T57JRAN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:03:56.926 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:03:56.927 +07:00 [DBG] Connection id "0HNEM4T57JRAM" received FIN.
2025-08-08 10:03:56.928 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 10:03:56.929 +07:00 [DBG] Connection id "0HNEM4T57JRAN" disconnecting.
2025-08-08 10:03:56.930 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:56.931 +07:00 [DBG] Connection id "0HNEM4T57JRAM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:03:56.933 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 157.0713ms
2025-08-08 10:03:56.935 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-08 10:03:56.937 +07:00 [DBG] Connection id "0HNEM4T57JRAM" disconnecting.
2025-08-08 10:03:56.940 +07:00 [DBG] Connection id "0HNEM4T57JRAN" stopped.
2025-08-08 10:03:56.941 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 317.7859ms
2025-08-08 10:03:56.946 +07:00 [DBG] Connection id "0HNEM4T57JRAM" stopped.
2025-08-08 10:03:58.558 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/me - null null
2025-08-08 10:03:58.561 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 10:03:58.562 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:03:58.563 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:58.565 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:03:58.566 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:03:58.567 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:03:58.569 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/me - 204 null null 11.4376ms
2025-08-08 10:03:58.577 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/me - null null
2025-08-08 10:03:58.581 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 10:03:58.582 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)' with route pattern 'api/student/me' is valid for the request path '/api/student/me'
2025-08-08 10:03:58.584 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 10:03:58.585 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:03:58.587 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:03:58.588 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:03:58.589 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:03:58.591 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:03:58.592 +07:00 [DBG] Authorization was successful.
2025-08-08 10:03:58.594 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 10:03:58.595 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 10:03:58.597 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:03:58.599 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:03:58.601 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:03:58.604 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:03:58.605 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:03:58.608 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:03:58.610 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:03:58.611 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:03:58.615 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:03:58.616 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 10:03:58.617 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:58.618 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:58.621 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:03:58.622 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:03:58.623 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:03:58.625 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 10:03:58.629 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 10:03:58.633 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:58.635 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:58.637 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:58.638 +07:00 [DBG] The navigation 'Student.Department' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:58.640 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:58.642 +07:00 [DBG] The navigation 'Student.Program' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:58.644 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:03:58.645 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:03:58.647 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 14ms reading results.
2025-08-08 10:03:58.650 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:58.651 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:03:58.653 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:03:58.656 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:03:58.657 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:03:58.658 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:03:58.658 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:03:58.660 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentDto'.
2025-08-08 10:03:58.661 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI) in 52.702ms
2025-08-08 10:03:58.664 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 10:03:58.665 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:03:58.667 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:03:58.669 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 10:03:58.671 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/me - 200 null application/json; charset=utf-8 94.0984ms
2025-08-08 10:05:06.814 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-08 10:05:06.823 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 10:05:06.826 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:05:06.827 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:06.829 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:06.831 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:06.833 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:05:06.834 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 19.8747ms
2025-08-08 10:05:06.837 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 43
2025-08-08 10:05:06.851 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 10:05:06.853 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-08 10:05:06.856 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 10:05:06.857 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:06.859 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:06.860 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:06.862 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 10:05:06.864 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 10:05:06.865 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 10:05:06.868 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:05:06.871 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:05:06.873 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:05:06.876 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:05:06.878 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:05:06.880 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 10:05:06.883 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 10:05:06.885 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 10:05:06.887 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 10:05:06.889 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 10:05:06.892 +07:00 [DBG] Connection id "0HNEM4T57JRAB", Request id "0HNEM4T57JRAB:00000079": started reading request body.
2025-08-08 10:05:06.893 +07:00 [DBG] Connection id "0HNEM4T57JRAB", Request id "0HNEM4T57JRAB:00000079": done reading request body.
2025-08-08 10:05:06.897 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 10:05:06.898 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 10:05:06.900 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 10:05:06.902 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 10:05:06.905 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 10:05:06.907 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: admin
2025-08-08 10:05:06.909 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:05:06.912 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:05:06.913 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 10:05:06.915 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:06.917 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:06.919 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:06.921 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:05:06.923 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 10:05:06.925 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 10:05:06.932 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 10:05:06.935 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:06.937 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 10:05:06.940 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:06.942 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:05:06.944 +07:00 [WRN] 🔒 Login failed - User not found: admin
2025-08-08 10:05:06.946 +07:00 [WRN] ❌ Đăng nhập thất bại cho user: admin
2025-08-08 10:05:06.948 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:05:06.951 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:05:06.952 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:05:06.953 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:05:06.954 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-08-08 10:05:06.956 +07:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-08-08 10:05:06.958 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 77.1356ms
2025-08-08 10:05:06.959 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 10:05:06.961 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:05:06.962 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:06.964 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 10:05:06.966 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 401 null text/plain; charset=utf-8 129.3173ms
2025-08-08 10:05:10.518 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 44
2025-08-08 10:05:10.521 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 10:05:10.522 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-08 10:05:10.524 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 10:05:10.525 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:10.525 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:10.527 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:10.528 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 10:05:10.529 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 10:05:10.530 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 10:05:10.532 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:05:10.534 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:05:10.535 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:05:10.538 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:05:10.539 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:05:10.541 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 10:05:10.543 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 10:05:10.544 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 10:05:10.546 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 10:05:10.548 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 10:05:10.549 +07:00 [DBG] Connection id "0HNEM4T57JRAB", Request id "0HNEM4T57JRAB:0000007B": started reading request body.
2025-08-08 10:05:10.551 +07:00 [DBG] Connection id "0HNEM4T57JRAB", Request id "0HNEM4T57JRAB:0000007B": done reading request body.
2025-08-08 10:05:10.553 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 10:05:10.555 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 10:05:10.556 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 10:05:10.558 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 10:05:10.559 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 10:05:10.560 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: admin1
2025-08-08 10:05:10.562 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:05:10.564 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:05:10.565 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 10:05:10.566 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:10.567 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:10.569 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:10.570 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:05:10.572 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:05:10.573 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 10:05:10.579 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 10:05:10.582 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:10.583 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:10.585 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-08 10:05:10.588 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:10.590 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 10:05:10.591 +07:00 [INF] 🔓 Login successful for user: admin1
2025-08-08 10:05:10.592 +07:00 [INF] ✅ Đăng nhập thành công cho user: admin1
2025-08-08 10:05:10.593 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:05:10.597 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:05:10.598 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:05:10.599 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:05:10.600 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:05:10.601 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 10:05:10.603 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 62.1619ms
2025-08-08 10:05:10.605 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 10:05:10.606 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:05:10.608 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:10.610 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 10:05:10.612 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 93.9832ms
2025-08-08 10:05:10.622 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - null null
2025-08-08 10:05:10.623 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/score/paged?page=1&pageSize=1 - null null
2025-08-08 10:05:10.623 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - null null
2025-08-08 10:05:10.622 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - null null
2025-08-08 10:05:10.622 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - null null
2025-08-08 10:05:10.630 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-08 10:05:10.637 +07:00 [DBG] 1 candidate(s) found for the request path '/api/teachers/paged'
2025-08-08 10:05:10.640 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/paged'
2025-08-08 10:05:10.644 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-08 10:05:10.647 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 10:05:10.650 +07:00 [DBG] 1 candidate(s) found for the request path '/api/subjects/paged'
2025-08-08 10:05:10.654 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 10:05:10.656 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:05:10.659 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:05:10.660 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:05:10.662 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:05:10.664 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:05:10.665 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:05:10.667 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:10.668 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:10.670 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:10.671 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:10.672 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:10.674 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:10.674 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:10.675 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:10.676 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:10.677 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:10.678 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:10.679 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:10.680 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:10.681 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:10.683 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:10.684 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:10.686 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:10.687 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:10.688 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:05:10.690 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:05:10.695 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - 204 null null 73.7184ms
2025-08-08 10:05:10.697 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/score/paged?page=1&pageSize=1 - 204 null null 74.201ms
2025-08-08 10:05:10.691 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:05:10.692 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:05:10.692 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:05:10.717 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - null null
2025-08-08 10:05:10.715 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - 204 null null 92.2514ms
2025-08-08 10:05:10.716 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - 204 null null 94.4987ms
2025-08-08 10:05:10.718 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - 204 null null 95.9458ms
2025-08-08 10:05:10.694 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:05:10.702 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/score/paged?page=1&pageSize=1 - null null
2025-08-08 10:05:10.732 +07:00 [DBG] 2 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-08 10:05:10.746 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-08 10:05:10.744 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - 204 null null 113.429ms
2025-08-08 10:05:10.703 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - null null
2025-08-08 10:05:10.718 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - null null
2025-08-08 10:05:10.725 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - null null
2025-08-08 10:05:10.747 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/paged'
2025-08-08 10:05:10.748 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)' with route pattern 'api/CourseClass/paged' is valid for the request path '/api/CourseClass/paged'
2025-08-08 10:05:10.751 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 10:05:10.758 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/paged'
2025-08-08 10:05:10.761 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-08 10:05:10.764 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/paged'
2025-08-08 10:05:10.766 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)' with route pattern 'api/Score/paged' is valid for the request path '/api/score/paged'
2025-08-08 10:05:10.767 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetById (StudentManagementAPI)' with route pattern 'api/CourseClass/{id}' is valid for the request path '/api/CourseClass/paged'
2025-08-08 10:05:10.769 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 10:05:10.771 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)' with route pattern 'api/teachers/paged' is valid for the request path '/api/teachers/paged'
2025-08-08 10:05:10.773 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-08 10:05:10.774 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)' with route pattern 'api/subjects/paged' is valid for the request path '/api/subjects/paged'
2025-08-08 10:05:10.777 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-08 10:05:10.779 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-08 10:05:10.782 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:05:10.784 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/paged'
2025-08-08 10:05:10.787 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 10:05:10.789 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/paged'
2025-08-08 10:05:10.791 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:10.792 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:10.794 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:10.796 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 10:05:10.797 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:10.800 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-08 10:05:10.801 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:10.802 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:10.803 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:10.805 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:10.806 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:10.808 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:10.809 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:10.810 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:10.812 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:10.814 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:10.815 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:10.816 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:10.818 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:05:10.819 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:05:10.820 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:05:10.822 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:10.823 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:05:10.824 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:10.826 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:05:10.827 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:05:10.828 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:05:10.829 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:05:10.830 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:05:10.832 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:05:10.834 +07:00 [DBG] Authorization was successful.
2025-08-08 10:05:10.835 +07:00 [DBG] Authorization was successful.
2025-08-08 10:05:10.837 +07:00 [DBG] Authorization was successful.
2025-08-08 10:05:10.838 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:05:10.839 +07:00 [DBG] Authorization was successful.
2025-08-08 10:05:10.840 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:05:10.842 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-08 10:05:10.843 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-08 10:05:10.844 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:05:10.846 +07:00 [DBG] Authorization was successful.
2025-08-08 10:05:10.847 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 10:05:10.849 +07:00 [DBG] Authorization was successful.
2025-08-08 10:05:10.850 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.String) on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-08 10:05:10.852 +07:00 [INF] Route matched with {action = "GetPaged", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedAsync(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-08 10:05:10.854 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 10:05:10.855 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 10:05:10.856 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 10:05:10.857 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-08 10:05:10.860 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:05:10.863 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:05:10.866 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:05:10.867 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-08 10:05:10.870 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:05:10.872 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.Nullable`1[System.Int32]) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-08 10:05:10.874 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:05:10.877 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:05:10.879 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:05:10.882 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:05:10.884 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:05:10.887 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:05:10.889 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:05:10.891 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:05:10.893 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:05:10.895 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:05:10.897 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:05:10.899 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:05:10.902 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:05:10.905 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:05:10.908 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:05:10.910 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:05:10.912 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:05:10.914 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:05:10.917 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:05:10.919 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:05:10.921 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:05:10.924 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:05:10.926 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:05:10.929 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:05:10.931 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 10:05:10.933 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-08 10:05:10.935 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:05:10.937 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:05:10.939 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:05:10.940 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:05:10.943 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 10:05:10.945 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-08 10:05:10.945 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 10:05:10.947 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 10:05:10.949 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 10:05:10.951 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 10:05:10.958 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 10:05:10.959 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:05:10.961 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:05:10.963 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 10:05:10.965 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 10:05:10.966 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 10:05:10.967 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 10:05:10.969 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 10:05:10.970 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 10:05:10.972 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 10:05:10.974 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 10:05:10.975 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 10:05:10.977 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:10.979 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 10:05:10.980 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 10:05:10.981 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 10:05:10.984 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:10.987 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 10:05:10.988 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:10.990 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 10:05:10.992 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 10:05:10.994 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:10.995 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:10.997 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:10.998 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 10:05:11.000 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 10:05:11.002 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 10:05:11.003 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:11.005 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 10:05:11.007 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:11.008 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:11.010 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 10:05:11.011 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 10:05:11.013 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 10:05:11.015 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:11.016 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 10:05:11.017 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 10:05:11.020 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:05:11.021 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:05:11.023 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:11.025 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 10:05:11.027 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:11.029 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 10:05:11.030 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:05:11.031 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:05:11.033 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 10:05:11.035 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 10:05:11.036 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 10:05:11.038 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:11.039 +07:00 [DBG] Attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:05:11.041 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 10:05:11.042 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 10:05:11.044 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:11.046 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 10:05:11.047 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:11.049 +07:00 [DBG] Done attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:05:11.051 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 10:05:11.052 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:11.054 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:11.055 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:11.057 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 10:05:11.058 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:05:11.060 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:05:11.061 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:11.062 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 10:05:11.064 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:11.065 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:11.068 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:05:11.070 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:05:11.071 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 10:05:11.073 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:11.076 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 10:05:11.077 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-08 10:05:11.078 +07:00 [DBG] Created DbConnection. (10ms).
2025-08-08 10:05:11.079 +07:00 [DBG] Created DbConnection. (9ms).
2025-08-08 10:05:11.080 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:11.082 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-08 10:05:11.084 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:11.086 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-08 10:05:11.087 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.089 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.091 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' ...
2025-08-08 10:05:11.093 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-08 10:05:11.094 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2025-08-08 10:05:11.097 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-08 10:05:11.098 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.100 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.102 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' using the name '' in request data ...
2025-08-08 10:05:11.103 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-08 10:05:11.105 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name '' in request data ...
2025-08-08 10:05:11.107 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 10:05:11.108 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:11.110 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:11.112 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'teacherCode' of type 'System.String'.
2025-08-08 10:05:11.114 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 10:05:11.117 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'keyword' of type 'System.String'.
2025-08-08 10:05:11.119 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 10:05:11.120 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2025-08-08 10:05:11.122 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-08-08 10:05:11.124 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-08 10:05:11.126 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-08 10:05:11.129 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-08 10:05:11.130 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-08 10:05:11.133 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-08-08 10:05:11.134 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-08-08 10:05:11.136 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-08 10:05:11.138 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-08 10:05:11.140 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-08 10:05:11.142 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-08 10:05:11.144 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-08 10:05:11.146 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-08 10:05:11.161 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-08 10:05:11.154 +07:00 [DBG] Attempting to bind parameter 'classCode' of type 'System.String' ...
2025-08-08 10:05:11.148 +07:00 [DBG] Attempting to validate the bound parameter 'teacherCode' of type 'System.String' ...
2025-08-08 10:05:11.150 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-08 10:05:11.152 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2025-08-08 10:05:11.165 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-08 10:05:11.168 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.170 +07:00 [DBG] Attempting to bind parameter 'classCode' of type 'System.String' using the name '' in request data ...
2025-08-08 10:05:11.172 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherCode' of type 'System.String'.
2025-08-08 10:05:11.175 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:05:11.176 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2025-08-08 10:05:11.180 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.181 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 13ms reading results.
2025-08-08 10:05:11.183 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'classCode' of type 'System.String'.
2025-08-08 10:05:11.186 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:05:11.189 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:05:11.190 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-08 10:05:11.192 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 12ms reading results.
2025-08-08 10:05:11.195 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.197 +07:00 [DBG] Done attempting to bind parameter 'classCode' of type 'System.String'.
2025-08-08 10:05:11.200 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:05:11.201 +07:00 [DBG] Created DbConnection. (12ms).
2025-08-08 10:05:11.203 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-08-08 10:05:11.205 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.207 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (12ms).
2025-08-08 10:05:11.209 +07:00 [DBG] Done attempting to bind parameter 'classCode' of type 'System.String'.
2025-08-08 10:05:11.210 +07:00 [DBG] Created DbConnection. (10ms).
2025-08-08 10:05:11.212 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.214 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 10:05:11.216 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (11ms).
2025-08-08 10:05:11.219 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.221 +07:00 [DBG] Attempting to validate the bound parameter 'classCode' of type 'System.String' ...
2025-08-08 10:05:11.222 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.224 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.231 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.233 +07:00 [DBG] Done attempting to validate the bound parameter 'classCode' of type 'System.String'.
2025-08-08 10:05:11.241 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:11.245 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:11.247 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:05:11.248 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.249 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-08 10:05:11.226 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 10:05:11.230 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.253 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-08 10:05:11.256 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:05:11.257 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:11.259 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-08-08 10:05:11.268 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2025-08-08 10:05:11.270 +07:00 [DBG] Created DbConnection. (14ms).
2025-08-08 10:05:11.272 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2025-08-08 10:05:11.274 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 10:05:11.261 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 10:05:11.278 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-08 10:05:11.279 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.287 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-08 10:05:11.281 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2025-08-08 10:05:11.288 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-08 10:05:11.273 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.301 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.305 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.303 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-08 10:05:11.302 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-08 10:05:11.305 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-08 10:05:11.309 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:11.311 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 9ms reading results.
2025-08-08 10:05:11.313 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:11.316 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-08 10:05:11.318 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.320 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:05:11.321 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-08-08 10:05:11.322 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.323 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-08-08 10:05:11.326 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.327 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.329 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:05:11.331 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2025-08-08 10:05:11.332 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (10ms).
2025-08-08 10:05:11.334 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2025-08-08 10:05:11.335 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 9ms reading results.
2025-08-08 10:05:11.337 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.338 +07:00 [DBG] Created DbConnection. (9ms).
2025-08-08 10:05:11.340 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:05:11.342 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.343 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Scores] AS [s]
2025-08-08 10:05:11.357 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:05:11.345 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.348 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.357 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 10:05:11.360 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.365 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:05:11.365 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Scores] AS [s]
2025-08-08 10:05:11.367 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (21ms).
2025-08-08 10:05:11.369 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.371 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.372 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:11.373 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:05:11.376 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.378 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.379 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.381 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-08 10:05:11.383 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-08-08 10:05:11.384 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:05:11.386 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-08 10:05:11.388 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.390 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.392 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.394 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2025-08-08 10:05:11.396 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:05:11.398 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.400 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:11.402 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.404 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (11ms).
2025-08-08 10:05:11.406 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 10:05:11.408 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:05:11.410 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (12ms).
2025-08-08 10:05:11.412 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-08-08 10:05:11.414 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.416 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:05:11.420 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI) in 469.0378ms
2025-08-08 10:05:11.423 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.425 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2025-08-08 10:05:11.427 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-08 10:05:11.428 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.431 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:05:11.433 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-08 10:05:11.435 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.437 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-08 10:05:11.440 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.445 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:05:11.447 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:11.442 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.443 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:05:11.452 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 12ms reading results.
2025-08-08 10:05:11.453 +07:00 [DBG] Disposing connection to database '' on server ''.
2025-08-08 10:05:11.454 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-08 10:05:11.455 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-08 10:05:11.456 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.457 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:05:11.459 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.460 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-08 10:05:11.463 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.464 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-08-08 10:05:11.466 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.467 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:05:11.468 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (9ms).
2025-08-08 10:05:11.470 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 744.5572ms
2025-08-08 10:05:11.471 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 8ms reading results.
2025-08-08 10:05:11.473 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[EnrollmentId], [s0].[Final], [s0].[Midterm], [s0].[Other], [s0].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s1].[Id], [s1].[DateOfBirth], [s1].[DepartmentId], [s1].[Gender], [s1].[ProgramId], [s1].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s2].[Id], [s2].[Credit], [s2].[Description], [s2].[Name], [s2].[SemesterId], [s2].[SubjectCode]
FROM (
    SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total]
    FROM [Scores] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Enrollments] AS [e] ON [s0].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s1] ON [e].[StudentId] = [s1].[Id]
INNER JOIN [Users] AS [u] ON [s1].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s2] ON [c].[SubjectId] = [s2].[Id]
ORDER BY [s0].[Id]
2025-08-08 10:05:11.474 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 156ms reading results.
2025-08-08 10:05:11.477 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:05:11.482 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.475 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:05:11.486 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.489 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:05:11.490 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (8ms).
2025-08-08 10:05:11.493 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 557.5186ms
2025-08-08 10:05:11.494 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-08 10:05:11.495 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:05:11.497 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:05:11.497 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[EnrollmentId], [s0].[Final], [s0].[Midterm], [s0].[Other], [s0].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s1].[Id], [s1].[DateOfBirth], [s1].[DepartmentId], [s1].[Gender], [s1].[ProgramId], [s1].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s2].[Id], [s2].[Credit], [s2].[Description], [s2].[Name], [s2].[SemesterId], [s2].[SubjectCode]
FROM (
    SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total]
    FROM [Scores] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Enrollments] AS [e] ON [s0].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s1] ON [e].[StudentId] = [s1].[Id]
INNER JOIN [Users] AS [u] ON [s1].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s2] ON [c].[SubjectId] = [s2].[Id]
ORDER BY [s0].[Id]
2025-08-08 10:05:11.498 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 10:05:11.500 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:05:11.501 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:05:11.504 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:05:11.506 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.508 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:05:11.511 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:05:11.512 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:05:11.513 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:05:11.514 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.516 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.516 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:05:11.518 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:05:11.518 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:05:11.520 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.522 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-08 10:05:11.523 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:05:11.524 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 585.8161ms
2025-08-08 10:05:11.525 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:05:11.527 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.530 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - 200 null application/json; charset=utf-8 784.0683ms
2025-08-08 10:05:11.531 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:05:11.532 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-08 10:05:11.534 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Teacher.TeacherDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:05:11.535 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.541 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:05:11.542 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:05:11.544 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI) in 597.1239ms
2025-08-08 10:05:11.545 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.547 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI) in 614.1647ms
2025-08-08 10:05:11.548 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.550 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 10:05:11.551 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.553 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-08 10:05:11.556 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-08 10:05:11.557 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:05:11.559 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.560 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:05:11.562 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 844.6636ms
2025-08-08 10:05:11.563 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.565 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.566 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.571 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-08 10:05:11.572 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.573 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-08 10:05:11.576 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 873.0363ms
2025-08-08 10:05:11.577 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 10:05:11.579 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - 200 null application/json; charset=utf-8 861.9882ms
2025-08-08 10:05:11.584 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.590 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 83ms reading results.
2025-08-08 10:05:11.591 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.593 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:05:11.594 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:05:11.597 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:05:11.598 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:05:11.599 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:05:11.600 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:05:11.601 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:05:11.602 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI) in 671.4357ms
2025-08-08 10:05:11.605 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-08 10:05:11.606 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:05:11.607 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:11.609 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 10:05:11.611 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/score/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 908.6691ms
2025-08-08 10:05:12.593 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=5 - null null
2025-08-08 10:05:12.598 +07:00 [DBG] 1 candidate(s) found for the request path '/api/teachers/paged'
2025-08-08 10:05:12.600 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 10:05:12.602 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:12.603 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:12.605 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:12.606 +07:00 [DBG] The request is a preflight request.
2025-08-08 10:05:12.608 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=5 - 204 null null 14.6342ms
2025-08-08 10:05:12.613 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=5 - null null
2025-08-08 10:05:12.615 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/paged'
2025-08-08 10:05:12.618 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)' with route pattern 'api/teachers/paged' is valid for the request path '/api/teachers/paged'
2025-08-08 10:05:12.620 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/paged'
2025-08-08 10:05:12.622 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 10:05:12.624 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 10:05:12.625 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 10:05:12.626 +07:00 [INF] CORS policy execution successful.
2025-08-08 10:05:12.627 +07:00 [DBG] Successfully validated the token.
2025-08-08 10:05:12.628 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 10:05:12.629 +07:00 [DBG] Authorization was successful.
2025-08-08 10:05:12.630 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 10:05:12.633 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-08 10:05:12.635 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 10:05:12.636 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 10:05:12.638 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 10:05:12.641 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 10:05:12.642 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 10:05:12.643 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 10:05:12.646 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 10:05:12.648 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-08 10:05:12.649 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-08 10:05:12.650 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:12.653 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:12.654 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-08 10:05:12.655 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-08 10:05:12.657 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 10:05:12.659 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-08 10:05:12.660 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:12.662 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:12.664 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-08 10:05:12.665 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-08 10:05:12.667 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' ...
2025-08-08 10:05:12.668 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' using the name '' in request data ...
2025-08-08 10:05:12.670 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'teacherCode' of type 'System.String'.
2025-08-08 10:05:12.671 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-08 10:05:12.673 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-08 10:05:12.675 +07:00 [DBG] Attempting to validate the bound parameter 'teacherCode' of type 'System.String' ...
2025-08-08 10:05:12.676 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherCode' of type 'System.String'.
2025-08-08 10:05:12.678 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 10:05:12.682 +07:00 [DBG] Creating DbConnection.
2025-08-08 10:05:12.682 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 10:05:12.684 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:12.686 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:12.688 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:12.689 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 10:05:12.690 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:05:12.692 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-08 10:05:12.696 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-08 10:05:12.700 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:12.702 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:05:12.703 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:12.705 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:05:12.707 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:12.709 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:12.710 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 10:05:12.711 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 10:05:12.712 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 10:05:12.714 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-08 10:05:12.718 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-08 10:05:12.722 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 10:05:12.723 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 10:05:12.725 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:12.726 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 10:05:12.728 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 10:05:12.731 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 10:05:12.732 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 10:05:12.732 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 10:05:12.733 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 10:05:12.735 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Teacher.TeacherDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:05:12.737 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI) in 93.4843ms
2025-08-08 10:05:12.739 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-08 10:05:12.740 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 10:05:12.742 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 10:05:12.743 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 10:05:12.745 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=5 - 200 null application/json; charset=utf-8 132.2338ms
2025-08-08 10:24:05.308 +07:00 [DBG] Connection id "0HNEM4T57JRAB" received FIN.
2025-08-08 10:24:05.308 +07:00 [DBG] Connection id "0HNEM4T57JRAA" received FIN.
2025-08-08 10:24:05.317 +07:00 [DBG] Connection id "0HNEM4T57JRAB" is closed. The last processed stream ID was 151.
2025-08-08 10:24:05.317 +07:00 [DBG] Connection id "0HNEM4T57JRAA" is closed. The last processed stream ID was 17.
2025-08-08 10:24:05.325 +07:00 [DBG] The connection queue processing loop for 0HNEM4T57JRAA completed.
2025-08-08 10:24:05.326 +07:00 [DBG] Connection id "0HNEM4T57JRAB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:24:05.325 +07:00 [DBG] The connection queue processing loop for 0HNEM4T57JRAB completed.
2025-08-08 10:24:05.334 +07:00 [DBG] Connection id "0HNEM4T57JRAA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 10:24:05.339 +07:00 [DBG] Connection id "0HNEM4T57JRAB" stopped.
2025-08-08 10:24:05.341 +07:00 [DBG] Connection id "0HNEM4T57JRAA" stopped.
2025-08-08 15:35:55.553 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-08 15:35:55.769 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-08 15:35:56.159 +07:00 [DBG] The index {'StudentId'} was not created on entity type 'Enrollment' as the properties are already covered by the index {'StudentId', 'CourseClassId'}.
2025-08-08 15:35:56.312 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 15:35:56.329 +07:00 [DBG] Creating DbConnection.
2025-08-08 15:35:56.358 +07:00 [DBG] Created DbConnection. (28ms).
2025-08-08 15:35:56.366 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:35:56.583 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:35:56.589 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-08 15:35:56.595 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2025-08-08 15:35:56.599 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2025-08-08 15:35:56.605 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 15:35:56.626 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 15:35:56.631 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:35:56.638 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-08 15:35:56.641 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-08 15:35:56.642 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-08-08 15:35:56.644 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-08-08 15:35:56.645 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:35:56.647 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:35:56.649 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 15:35:56.700 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 15:35:56.704 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:35:56.706 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 15:35:56.709 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 15:35:56.712 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:35:56.714 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 15:35:56.718 +07:00 [DBG] Hosting starting
2025-08-08 15:35:56.739 +07:00 [INF] User profile is available. Using 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 15:35:56.751 +07:00 [DBG] Reading data from file 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys\key-0dd40cb8-c696-42e2-b5ed-86cb04ecae42.xml'.
2025-08-08 15:35:56.775 +07:00 [DBG] Found key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42}.
2025-08-08 15:35:56.784 +07:00 [DBG] Considering key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} with expiration date 2025-09-17 12:16:10Z as default key.
2025-08-08 15:35:56.789 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-08 15:35:56.791 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-08 15:35:56.794 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-08 15:35:56.797 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-08 15:35:56.799 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-08 15:35:56.802 +07:00 [DBG] Using key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} as the default key.
2025-08-08 15:35:56.804 +07:00 [DBG] Key ring with default key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} was loaded during application startup.
2025-08-08 15:35:56.964 +07:00 [INF] Now listening on: https://localhost:7172
2025-08-08 15:35:56.966 +07:00 [INF] Now listening on: http://localhost:5117
2025-08-08 15:35:56.968 +07:00 [DBG] Loaded hosting startup assembly StudentManagementAPI
2025-08-08 15:35:56.969 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-08 15:35:56.970 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-08 15:35:56.971 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-08 15:35:57.074 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 15:35:57.075 +07:00 [INF] Hosting environment: Development
2025-08-08 15:35:57.076 +07:00 [INF] Content root path: C:\Users\phamv\OneDrive\Desktop\test\StudentManagement\StudentManagementAPI\StudentManagementAPI
2025-08-08 15:35:57.077 +07:00 [DBG] Hosting started
2025-08-08 15:35:57.394 +07:00 [DBG] Connection id "0HNEMAQCB808F" accepted.
2025-08-08 15:35:57.398 +07:00 [DBG] Connection id "0HNEMAQCB808F" started.
2025-08-08 15:35:57.409 +07:00 [DBG] Connection id "0HNEMAQCB808F" received FIN.
2025-08-08 15:35:57.421 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-08 15:35:57.447 +07:00 [DBG] Connection id "0HNEMAQCB808F" stopped.
2025-08-08 15:35:57.451 +07:00 [DBG] Connection id "0HNEMAQCB808F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 15:35:57.617 +07:00 [DBG] Connection id "0HNEMAQCB808G" accepted.
2025-08-08 15:35:57.619 +07:00 [DBG] Connection id "0HNEMAQCB808G" started.
2025-08-08 15:35:57.648 +07:00 [DBG] Connection 0HNEMAQCB808G established using the following protocol: "Tls13"
2025-08-08 15:35:57.704 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger - null null
2025-08-08 15:35:57.804 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-08 15:35:57.832 +07:00 [DBG] No candidates found for the request path '/swagger'
2025-08-08 15:35:57.834 +07:00 [DBG] Request did not match any endpoints
2025-08-08 15:35:57.843 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger - 301 0 null 146.4204ms
2025-08-08 15:35:57.849 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/index.html - null null
2025-08-08 15:35:57.856 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-08 15:35:57.857 +07:00 [DBG] Request did not match any endpoints
2025-08-08 15:35:57.900 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-08 15:35:57.903 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-08 15:35:57.920 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-08 15:35:57.922 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-08 15:35:57.923 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/index.html - 200 null text/html;charset=utf-8 73.7478ms
2025-08-08 15:35:57.933 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/swagger-ui.css - null null
2025-08-08 15:35:57.937 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-08-08 15:35:57.938 +07:00 [DBG] Request did not match any endpoints
2025-08-08 15:35:57.954 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/swagger-ui-bundle.js - null null
2025-08-08 15:35:57.954 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/swagger-ui-standalone-preset.js - null null
2025-08-08 15:35:57.962 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-08-08 15:35:57.965 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - null null
2025-08-08 15:35:57.972 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-08-08 15:35:57.974 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-08-08 15:35:57.977 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/swagger-ui.css - 200 144929 text/css 43.9674ms
2025-08-08 15:35:57.981 +07:00 [DBG] Request did not match any endpoints
2025-08-08 15:35:57.980 +07:00 [DBG] Request did not match any endpoints
2025-08-08 15:35:57.990 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 25.9785ms
2025-08-08 15:35:57.992 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_vs/browserLink - null null
2025-08-08 15:35:58.009 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-08-08 15:35:58.014 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 60.1434ms
2025-08-08 15:35:58.037 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-08-08 15:35:58.039 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 85.9896ms
2025-08-08 15:35:58.072 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.3816ms
2025-08-08 15:35:58.257 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - null null
2025-08-08 15:35:58.260 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-08 15:35:58.262 +07:00 [DBG] Request did not match any endpoints
2025-08-08 15:35:58.312 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.6325ms
2025-08-08 15:48:10.947 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-08 15:48:11.183 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-08 15:48:11.555 +07:00 [DBG] The index {'StudentId'} was not created on entity type 'Enrollment' as the properties are already covered by the index {'StudentId', 'CourseClassId'}.
2025-08-08 15:48:11.703 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 15:48:11.719 +07:00 [DBG] Creating DbConnection.
2025-08-08 15:48:11.749 +07:00 [DBG] Created DbConnection. (28ms).
2025-08-08 15:48:11.756 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:11.962 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:11.968 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-08 15:48:11.973 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2025-08-08 15:48:11.977 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2025-08-08 15:48:11.983 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 15:48:12.005 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 15:48:12.009 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:12.017 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-08 15:48:12.020 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-08 15:48:12.021 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-08-08 15:48:12.023 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-08-08 15:48:12.025 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:12.027 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:12.028 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 15:48:12.069 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 15:48:12.072 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:12.074 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:48:12.076 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 15:48:12.079 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:12.081 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 15:48:12.085 +07:00 [DBG] Hosting starting
2025-08-08 15:48:12.104 +07:00 [INF] User profile is available. Using 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 15:48:12.116 +07:00 [DBG] Reading data from file 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys\key-0dd40cb8-c696-42e2-b5ed-86cb04ecae42.xml'.
2025-08-08 15:48:12.123 +07:00 [DBG] Found key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42}.
2025-08-08 15:48:12.131 +07:00 [DBG] Considering key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} with expiration date 2025-09-17 12:16:10Z as default key.
2025-08-08 15:48:12.136 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-08 15:48:12.139 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-08 15:48:12.142 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-08 15:48:12.145 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-08 15:48:12.149 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-08 15:48:12.151 +07:00 [DBG] Using key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} as the default key.
2025-08-08 15:48:12.153 +07:00 [DBG] Key ring with default key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} was loaded during application startup.
2025-08-08 15:48:12.301 +07:00 [INF] Now listening on: https://localhost:7172
2025-08-08 15:48:12.303 +07:00 [INF] Now listening on: http://localhost:5117
2025-08-08 15:48:12.304 +07:00 [DBG] Loaded hosting startup assembly StudentManagementAPI
2025-08-08 15:48:12.305 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-08 15:48:12.306 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-08 15:48:12.308 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-08 15:48:12.400 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 15:48:12.402 +07:00 [INF] Hosting environment: Development
2025-08-08 15:48:12.403 +07:00 [INF] Content root path: C:\Users\phamv\OneDrive\Desktop\test\StudentManagement\StudentManagementAPI\StudentManagementAPI
2025-08-08 15:48:12.405 +07:00 [DBG] Hosting started
2025-08-08 15:48:12.562 +07:00 [DBG] Connection id "0HNEMB17EBIVL" received FIN.
2025-08-08 15:48:12.571 +07:00 [DBG] Connection id "0HNEMB17EBIVL" accepted.
2025-08-08 15:48:12.574 +07:00 [DBG] Connection id "0HNEMB17EBIVL" started.
2025-08-08 15:48:12.590 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-08 15:48:12.611 +07:00 [DBG] Connection id "0HNEMB17EBIVL" stopped.
2025-08-08 15:48:12.617 +07:00 [DBG] Connection id "0HNEMB17EBIVL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 15:48:12.735 +07:00 [DBG] Connection id "0HNEMB17EBIVM" accepted.
2025-08-08 15:48:12.744 +07:00 [DBG] Connection id "0HNEMB17EBIVM" started.
2025-08-08 15:48:12.805 +07:00 [DBG] Connection 0HNEMB17EBIVM established using the following protocol: "Tls13"
2025-08-08 15:48:12.873 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/index.html - null null
2025-08-08 15:48:12.964 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-08 15:48:12.990 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-08 15:48:12.991 +07:00 [DBG] Request did not match any endpoints
2025-08-08 15:48:13.028 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-08 15:48:13.032 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-08 15:48:13.053 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-08 15:48:13.055 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-08 15:48:13.061 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/index.html - 200 null text/html;charset=utf-8 196.1919ms
2025-08-08 15:48:13.066 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - null null
2025-08-08 15:48:13.077 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 10.9264ms
2025-08-08 15:48:13.126 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_vs/browserLink - null null
2025-08-08 15:48:13.168 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.8602ms
2025-08-08 15:48:13.261 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - null null
2025-08-08 15:48:13.264 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-08 15:48:13.266 +07:00 [DBG] Request did not match any endpoints
2025-08-08 15:48:13.306 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.9818ms
2025-08-08 15:48:31.537 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/auth/login - application/json 57
2025-08-08 15:48:31.547 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-08-08 15:48:31.550 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-08-08 15:48:31.553 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 15:48:31.557 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 15:48:31.560 +07:00 [DBG] The request has an origin header: 'https://localhost:7172'.
2025-08-08 15:48:31.561 +07:00 [INF] CORS policy execution successful.
2025-08-08 15:48:31.618 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 15:48:31.627 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 15:48:31.659 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 15:48:31.663 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 15:48:31.665 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 15:48:31.668 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 15:48:31.671 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 15:48:31.673 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 15:48:31.677 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:48:31.703 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:48:31.716 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 15:48:31.721 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 15:48:31.723 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 15:48:31.730 +07:00 [DBG] Connection id "0HNEMB17EBIVM", Request id "0HNEMB17EBIVM:00000009": started reading request body.
2025-08-08 15:48:31.734 +07:00 [DBG] Connection id "0HNEMB17EBIVM", Request id "0HNEMB17EBIVM:00000009": done reading request body.
2025-08-08 15:48:31.743 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 15:48:31.746 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 15:48:31.749 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 15:48:31.750 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 15:48:31.771 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 15:48:31.777 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: student1
2025-08-08 15:48:31.829 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 15:48:31.870 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2025-08-08 15:48:32.186 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<FullName>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Role>k__BackingField = dataReader.GetString(5);
                                    instance.<Username>k__BackingField = dataReader.GetString(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 15:48:32.237 +07:00 [DBG] Creating DbConnection.
2025-08-08 15:48:32.239 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 15:48:32.242 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:32.247 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:32.250 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:48:32.251 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:48:32.258 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-08 15:48:32.263 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 15:48:32.314 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 15:48:32.355 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:48:32.382 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:48:32.387 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 68ms reading results.
2025-08-08 15:48:32.392 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:32.395 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 15:48:32.399 +07:00 [INF] 🔓 Login successful for user: student1
2025-08-08 15:48:32.415 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-08-08 15:48:32.446 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Student>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Student>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            WHERE s.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            WHERE s.Id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Student entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Student instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Student);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Student)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Student")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Student")]: 
                            {
                                return 
                                {
                                    Student instance;
                                    instance = new Student();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DepartmentId>k__BackingField = dataReader.GetInt32(2);
                                    instance.<Gender>k__BackingField = dataReader.GetString(3);
                                    instance.<ProgramId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<StudentCode>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Student)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 15:48:32.452 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:32.455 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:32.457 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:48:32.459 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:48:32.461 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 15:48:32.464 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 15:48:32.476 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 15:48:32.508 +07:00 [DBG] The navigation 'User.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:48:32.513 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:48:32.524 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:48:32.527 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 47ms reading results.
2025-08-08 15:48:32.529 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:32.532 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 15:48:32.562 +07:00 [INF] ✅ Đăng nhập thành công cho user: student1
2025-08-08 15:48:32.567 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 15:48:32.570 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 15:48:32.571 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 15:48:32.573 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 15:48:32.575 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 15:48:32.577 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 15:48:32.585 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 907.4358ms
2025-08-08 15:48:32.588 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 15:48:32.591 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 15:48:32.594 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:48:32.596 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 15:48:32.599 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/auth/login - 200 null application/json; charset=utf-8 1061.7262ms
2025-08-08 15:48:45.573 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/auth/me - null null
2025-08-08 15:48:45.580 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/me'
2025-08-08 15:48:45.582 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.GetCurrentUser (StudentManagementAPI)' with route pattern 'api/auth/me' is valid for the request path '/api/auth/me'
2025-08-08 15:48:45.584 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.GetCurrentUser (StudentManagementAPI)'
2025-08-08 15:48:45.586 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 15:48:45.622 +07:00 [DBG] Successfully validated the token.
2025-08-08 15:48:45.625 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 15:48:45.632 +07:00 [DBG] Authorization was successful.
2025-08-08 15:48:45.634 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.GetCurrentUser (StudentManagementAPI)'
2025-08-08 15:48:45.639 +07:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCurrentUser() on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 15:48:45.641 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 15:48:45.643 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 15:48:45.645 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 15:48:45.647 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 15:48:45.649 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 15:48:45.652 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:48:45.655 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:48:45.658 +07:00 [INF] 👤 Truy xuất thông tin người dùng: student1 - Role: Student
2025-08-08 15:48:45.660 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 15:48:45.662 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 15:48:45.663 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 15:48:45.664 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 15:48:45.666 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 15:48:45.667 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-08 15:48:45.674 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.GetCurrentUser (StudentManagementAPI) in 22.5357ms
2025-08-08 15:48:45.677 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.GetCurrentUser (StudentManagementAPI)'
2025-08-08 15:48:45.679 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/auth/me - 200 null application/json; charset=utf-8 106.9343ms
2025-08-08 15:50:05.076 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/index.html - null null
2025-08-08 15:50:05.090 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-08 15:50:05.092 +07:00 [DBG] Request did not match any endpoints
2025-08-08 15:50:05.098 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-08 15:50:05.098 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-08 15:50:05.101 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-08 15:50:05.103 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-08 15:50:05.104 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/index.html - 200 null text/html;charset=utf-8 28.5128ms
2025-08-08 15:50:05.156 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_vs/browserLink - null null
2025-08-08 15:50:05.176 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - null null
2025-08-08 15:50:05.192 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 15.2618ms
2025-08-08 15:50:05.192 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.7351ms
2025-08-08 15:50:05.315 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - null null
2025-08-08 15:50:05.319 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-08 15:50:05.321 +07:00 [DBG] Request did not match any endpoints
2025-08-08 15:50:05.324 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/favicon-32x32.png - null null
2025-08-08 15:50:05.329 +07:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-08-08 15:50:05.330 +07:00 [DBG] Request did not match any endpoints
2025-08-08 15:50:05.338 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-08-08 15:50:05.340 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/favicon-32x32.png - 200 628 image/png 16.4009ms
2025-08-08 15:50:05.380 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.9465ms
2025-08-08 15:50:17.480 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/auth/login - application/json 57
2025-08-08 15:50:17.484 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-08-08 15:50:17.485 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-08-08 15:50:17.488 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 15:50:17.490 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 15:50:17.491 +07:00 [DBG] The request has an origin header: 'https://localhost:7172'.
2025-08-08 15:50:17.493 +07:00 [INF] CORS policy execution successful.
2025-08-08 15:50:17.496 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 15:50:17.498 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 15:50:17.502 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 15:50:17.504 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 15:50:17.505 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 15:50:17.507 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 15:50:17.509 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 15:50:17.510 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 15:50:17.512 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:50:17.516 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:50:17.518 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 15:50:17.519 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 15:50:17.521 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 15:50:17.523 +07:00 [DBG] Connection id "0HNEMB17EBIVM", Request id "0HNEMB17EBIVM:00000017": started reading request body.
2025-08-08 15:50:17.524 +07:00 [DBG] Connection id "0HNEMB17EBIVM", Request id "0HNEMB17EBIVM:00000017": done reading request body.
2025-08-08 15:50:17.526 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 15:50:17.528 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 15:50:17.529 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 15:50:17.531 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 15:50:17.534 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 15:50:17.536 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: student1
2025-08-08 15:50:17.581 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 15:50:17.588 +07:00 [DBG] Creating DbConnection.
2025-08-08 15:50:17.589 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 15:50:17.590 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:17.592 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:17.594 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:50:17.595 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:50:17.597 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 15:50:17.598 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 15:50:17.611 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 15:50:17.614 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:50:17.615 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:50:17.617 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-08 15:50:17.618 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:17.620 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:50:17.622 +07:00 [INF] 🔓 Login successful for user: student1
2025-08-08 15:50:17.625 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:17.626 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:17.628 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:50:17.629 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 15:50:17.631 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 15:50:17.632 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 15:50:17.637 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 15:50:17.639 +07:00 [DBG] The navigation 'User.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:50:17.641 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:50:17.642 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:50:17.644 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-08 15:50:17.645 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:17.646 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:50:17.649 +07:00 [INF] ✅ Đăng nhập thành công cho user: student1
2025-08-08 15:50:17.649 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 15:50:17.652 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 15:50:17.652 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 15:50:17.653 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 15:50:17.654 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 15:50:17.656 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 15:50:17.658 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 146.6257ms
2025-08-08 15:50:17.660 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 15:50:17.662 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 15:50:17.663 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:17.664 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 15:50:17.666 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/auth/login - 200 null application/json; charset=utf-8 186.256ms
2025-08-08 15:50:33.490 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/auth/me - null null
2025-08-08 15:50:33.495 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/me'
2025-08-08 15:50:33.497 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.GetCurrentUser (StudentManagementAPI)' with route pattern 'api/auth/me' is valid for the request path '/api/auth/me'
2025-08-08 15:50:33.499 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.GetCurrentUser (StudentManagementAPI)'
2025-08-08 15:50:33.500 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 15:50:33.501 +07:00 [DBG] Successfully validated the token.
2025-08-08 15:50:33.503 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 15:50:33.505 +07:00 [DBG] Authorization was successful.
2025-08-08 15:50:33.506 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.GetCurrentUser (StudentManagementAPI)'
2025-08-08 15:50:33.508 +07:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCurrentUser() on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 15:50:33.510 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 15:50:33.512 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 15:50:33.513 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 15:50:33.515 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 15:50:33.518 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 15:50:33.519 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:50:33.521 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:50:33.522 +07:00 [INF] 👤 Truy xuất thông tin người dùng: student1 - Role: Student
2025-08-08 15:50:33.524 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 15:50:33.526 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 15:50:33.526 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 15:50:33.527 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 15:50:33.532 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 15:50:33.534 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-08 15:50:33.536 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.GetCurrentUser (StudentManagementAPI) in 16.3367ms
2025-08-08 15:50:33.538 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.GetCurrentUser (StudentManagementAPI)'
2025-08-08 15:50:33.539 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/auth/me - 200 null application/json; charset=utf-8 49.5922ms
2025-08-08 15:50:57.422 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/auth/change-password - application/json 105
2025-08-08 15:50:57.436 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/change-password'
2025-08-08 15:50:57.437 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.ChangePassword (StudentManagementAPI)' with route pattern 'api/auth/change-password' is valid for the request path '/api/auth/change-password'
2025-08-08 15:50:57.438 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.ChangePassword (StudentManagementAPI)'
2025-08-08 15:50:57.440 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 15:50:57.442 +07:00 [DBG] The request has an origin header: 'https://localhost:7172'.
2025-08-08 15:50:57.443 +07:00 [INF] CORS policy execution successful.
2025-08-08 15:50:57.444 +07:00 [DBG] Successfully validated the token.
2025-08-08 15:50:57.445 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 15:50:57.447 +07:00 [DBG] Authorization was successful.
2025-08-08 15:50:57.449 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.ChangePassword (StudentManagementAPI)'
2025-08-08 15:50:57.452 +07:00 [INF] Route matched with {action = "ChangePassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(StudentManagementAPI.DTOs.Auth.ChangePasswordRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 15:50:57.455 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 15:50:57.457 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 15:50:57.459 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 15:50:57.461 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 15:50:57.463 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 15:50:57.464 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:50:57.466 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:50:57.467 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest' ...
2025-08-08 15:50:57.468 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest' using the name '' in request data ...
2025-08-08 15:50:57.471 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 15:50:57.472 +07:00 [DBG] Connection id "0HNEMB17EBIVM", Request id "0HNEMB17EBIVM:0000001B": started reading request body.
2025-08-08 15:50:57.473 +07:00 [DBG] Connection id "0HNEMB17EBIVM", Request id "0HNEMB17EBIVM:0000001B": done reading request body.
2025-08-08 15:50:57.475 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest'
2025-08-08 15:50:57.477 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest'.
2025-08-08 15:50:57.478 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest'.
2025-08-08 15:50:57.479 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest' ...
2025-08-08 15:50:57.482 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest'.
2025-08-08 15:50:57.484 +07:00 [INF] 🔒 Đang xử lý đổi mật khẩu cho user: student1
2025-08-08 15:50:57.487 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 15:50:57.490 +07:00 [DBG] Creating DbConnection.
2025-08-08 15:50:57.491 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 15:50:57.492 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:57.493 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:57.494 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:50:57.495 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 15:50:57.497 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 15:50:57.499 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 15:50:57.509 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 15:50:57.512 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:50:57.514 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:50:57.515 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 15:50:57.516 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:57.518 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:50:57.527 +07:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:50:57.530 +07:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-08-08 15:50:57.534 +07:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-08-08 15:50:57.541 +07:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-08-08 15:50:57.586 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:57.588 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:57.591 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:50:57.593 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:50:57.594 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 15:50:57.596 +07:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [FullName] = @p1, [PasswordHash] = @p2, [Phone] = @p3, [Role] = @p4, [Username] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-08-08 15:50:57.605 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [FullName] = @p1, [PasswordHash] = @p2, [Phone] = @p3, [Role] = @p4, [Username] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-08-08 15:50:57.611 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:50:57.613 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 6ms reading results.
2025-08-08 15:50:57.616 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:57.617 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:50:57.621 +07:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:50:57.625 +07:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-08-08 15:50:57.626 +07:00 [INF] 🔒 Đổi mật khẩu thành công cho user: student1
2025-08-08 15:50:57.628 +07:00 [INF] ✅ Đổi mật khẩu thành công cho user: student1
2025-08-08 15:50:57.629 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 15:50:57.631 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 15:50:57.632 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 15:50:57.633 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 15:50:57.634 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-08-08 15:50:57.635 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-08 15:50:57.637 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.ChangePassword (StudentManagementAPI) in 172.2926ms
2025-08-08 15:50:57.639 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.ChangePassword (StudentManagementAPI)'
2025-08-08 15:50:57.645 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 15:50:57.647 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:50:57.648 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 15:50:57.650 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/auth/change-password - 200 null text/plain; charset=utf-8 227.7343ms
2025-08-08 15:51:12.561 +07:00 [DBG] Connection id "0HNEMB17EBIVN" accepted.
2025-08-08 15:51:12.563 +07:00 [DBG] Connection id "0HNEMB17EBIVN" started.
2025-08-08 15:51:12.568 +07:00 [DBG] Connection 0HNEMB17EBIVN established using the following protocol: "Tls13"
2025-08-08 15:51:12.572 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-08 15:51:12.578 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 15:51:12.579 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 15:51:12.580 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 15:51:12.582 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 15:51:12.583 +07:00 [INF] CORS policy execution successful.
2025-08-08 15:51:12.584 +07:00 [DBG] The request is a preflight request.
2025-08-08 15:51:12.586 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 13.8038ms
2025-08-08 15:51:12.588 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 46
2025-08-08 15:51:12.592 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 15:51:12.593 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-08 15:51:12.595 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 15:51:12.596 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 15:51:12.597 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 15:51:12.598 +07:00 [INF] CORS policy execution successful.
2025-08-08 15:51:12.601 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/8/2025 4:05:10 AM', Current time (UTC): '8/8/2025 8:51:12 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-08 15:51:12.604 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/8/2025 4:05:10 AM', Current time (UTC): '8/8/2025 8:51:12 AM'.
2025-08-08 15:51:12.605 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 15:51:12.606 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 15:51:12.607 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 15:51:12.609 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 15:51:12.610 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 15:51:12.612 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 15:51:12.614 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 15:51:12.615 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:51:12.617 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:51:12.618 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 15:51:12.620 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 15:51:12.621 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 15:51:12.623 +07:00 [DBG] Connection id "0HNEMB17EBIVN", Request id "0HNEMB17EBIVN:00000003": started reading request body.
2025-08-08 15:51:12.625 +07:00 [DBG] Connection id "0HNEMB17EBIVN", Request id "0HNEMB17EBIVN:00000003": done reading request body.
2025-08-08 15:51:12.626 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 15:51:12.627 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 15:51:12.629 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 15:51:12.631 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 15:51:12.632 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 15:51:12.633 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: student1
2025-08-08 15:51:12.635 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 15:51:12.637 +07:00 [DBG] Creating DbConnection.
2025-08-08 15:51:12.638 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 15:51:12.639 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:12.641 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:12.642 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:51:12.643 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:51:12.645 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 15:51:12.646 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 15:51:12.651 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 15:51:12.653 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:51:12.655 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:51:12.656 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 15:51:12.658 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:12.659 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:51:12.660 +07:00 [INF] 🔓 Login successful for user: student1
2025-08-08 15:51:12.662 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:12.663 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:12.665 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:51:12.666 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:51:12.667 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 15:51:12.668 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 15:51:12.674 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 15:51:12.676 +07:00 [DBG] The navigation 'User.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:51:12.677 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:51:12.678 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:51:12.680 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-08 15:51:12.682 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:12.683 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:51:12.684 +07:00 [INF] ✅ Đăng nhập thành công cho user: student1
2025-08-08 15:51:12.686 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 15:51:12.688 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 15:51:12.688 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 15:51:12.689 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 15:51:12.690 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 15:51:12.691 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 15:51:12.693 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 77.6934ms
2025-08-08 15:51:12.694 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 15:51:12.695 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 15:51:12.696 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:12.698 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 15:51:12.700 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 112.1863ms
2025-08-08 15:51:12.755 +07:00 [DBG] Connection id "0HNEMB17EBIVO" accepted.
2025-08-08 15:51:12.757 +07:00 [DBG] Connection id "0HNEMB17EBIVO" started.
2025-08-08 15:51:12.763 +07:00 [DBG] Connection 0HNEMB17EBIVO established using the following protocol: "Tls13"
2025-08-08 15:51:12.768 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 15:51:12.771 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 15:51:12.772 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 15:51:12.774 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:51:12.775 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 15:51:12.776 +07:00 [DBG] Successfully validated the token.
2025-08-08 15:51:12.777 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 15:51:12.779 +07:00 [DBG] Authorization was successful.
2025-08-08 15:51:12.780 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:51:12.785 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 15:51:12.788 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 15:51:12.791 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 15:51:12.792 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 15:51:12.795 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 15:51:12.797 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 15:51:12.799 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 15:51:12.914 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 15:51:12.919 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 15:51:12.923 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 15:51:12.929 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 15:51:12.933 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 15:51:12.936 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 15:51:12.939 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 15:51:12.941 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:51:12.943 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:51:12.944 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 15:51:12.947 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:51:12.951 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 15:51:12.958 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .Where(n => n.TargetRole == __role_0 || n.TargetRole == "All")
    .OrderByDescending(n => n.Id)
    .Count()'
2025-08-08 15:51:12.980 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All'), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 15:51:12.989 +07:00 [DBG] Creating DbConnection.
2025-08-08 15:51:12.990 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 15:51:12.992 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:12.993 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:12.994 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:51:12.995 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 15:51:12.996 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:51:12.998 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 15:51:13.003 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 15:51:13.008 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:51:13.010 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 15:51:13.011 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:13.013 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:51:13.035 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .Where(n => n.TargetRole == __role_0 || n.TargetRole == "All")
    .OrderByDescending(n => n.Id)
    .Skip(__p_1)
    .Take(__p_2)
    .Select(dtoNotification => new NotificationDto{ 
        Id = dtoNotification.Id, 
        Title = dtoNotification.Title, 
        Content = dtoNotification.Content, 
        CreatorName = dtoNotification.Creator != null ? dtoNotification.Creator.FullName : "", 
        CreatedAt = dtoNotification.CreatedAt, 
        TargetRole = dtoNotification.TargetRole 
    }
    )'
2025-08-08 15:51:13.091 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<NotificationDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')
            ORDER BY n.Id DESC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')
            ORDER BY n.Id DESC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        DateTime? value5;
        string value6;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.GetString(2);
        value4 = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
        value5 = (DateTime?)dataReader.GetDateTime(4);
        value6 = dataReader.GetString(5);
        return new NotificationDto{ 
            Id = (int)value1, 
            Title = value2, 
            Content = value3, 
            CreatorName = value4, 
            CreatedAt = (DateTime)value5, 
            TargetRole = value6 
        }
        ;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 15:51:13.100 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:13.102 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:13.104 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:51:13.105 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:51:13.106 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 15:51:13.108 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 15:51:13.113 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 15:51:13.118 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:51:13.120 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-08 15:51:13.122 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:13.124 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 15:51:13.127 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 15:51:13.129 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 15:51:13.131 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 15:51:13.132 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 15:51:13.133 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 15:51:13.135 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 15:51:13.147 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 348.1002ms
2025-08-08 15:51:13.149 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:51:13.151 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 15:51:13.151 +07:00 [DBG] Connection id "0HNEMB17EBIVO" received FIN.
2025-08-08 15:51:13.152 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:13.153 +07:00 [DBG] Connection id "0HNEMB17EBIVO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 15:51:13.154 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 15:51:13.155 +07:00 [DBG] Connection id "0HNEMB17EBIVO" disconnecting.
2025-08-08 15:51:13.157 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 388.9836ms
2025-08-08 15:51:13.163 +07:00 [DBG] Connection id "0HNEMB17EBIVO" stopped.
2025-08-08 15:51:29.585 +07:00 [DBG] Connection id "0HNEMB17EBIVP" accepted.
2025-08-08 15:51:29.587 +07:00 [DBG] Connection id "0HNEMB17EBIVP" started.
2025-08-08 15:51:29.592 +07:00 [DBG] Connection 0HNEMB17EBIVP established using the following protocol: "Tls13"
2025-08-08 15:51:29.594 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 15:51:29.598 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 15:51:29.599 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 15:51:29.602 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:51:29.603 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 15:51:29.605 +07:00 [DBG] Successfully validated the token.
2025-08-08 15:51:29.606 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 15:51:29.608 +07:00 [DBG] Authorization was successful.
2025-08-08 15:51:29.609 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:51:29.611 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 15:51:29.614 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 15:51:29.616 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 15:51:29.617 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 15:51:29.619 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 15:51:29.621 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 15:51:29.622 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 15:51:29.624 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 15:51:29.626 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 15:51:29.627 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 15:51:29.629 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 15:51:29.631 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 15:51:29.633 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 15:51:29.635 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 15:51:29.637 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:51:29.638 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:51:29.640 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 15:51:29.641 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:51:29.643 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 15:51:29.645 +07:00 [DBG] Creating DbConnection.
2025-08-08 15:51:29.646 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 15:51:29.647 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:29.649 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:29.650 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:51:29.652 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:51:29.654 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 15:51:29.655 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 15:51:29.659 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 15:51:29.663 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:51:29.665 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 15:51:29.666 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:29.668 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:51:29.672 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:29.675 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:29.676 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:51:29.677 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:51:29.679 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 15:51:29.680 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 15:51:29.683 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 15:51:29.685 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:51:29.686 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 15:51:29.688 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:29.689 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:51:29.691 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 15:51:29.694 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 15:51:29.695 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 15:51:29.695 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 15:51:29.696 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 15:51:29.697 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 15:51:29.698 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 76.2135ms
2025-08-08 15:51:29.701 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:51:29.702 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 15:51:29.703 +07:00 [DBG] Connection id "0HNEMB17EBIVP" received FIN.
2025-08-08 15:51:29.703 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:29.704 +07:00 [DBG] Connection id "0HNEMB17EBIVP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 15:51:29.705 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 15:51:29.707 +07:00 [DBG] Connection id "0HNEMB17EBIVP" disconnecting.
2025-08-08 15:51:29.708 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 114.4432ms
2025-08-08 15:51:29.712 +07:00 [DBG] Connection id "0HNEMB17EBIVP" stopped.
2025-08-08 15:51:59.925 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/auth/change-password - application/json 107
2025-08-08 15:51:59.928 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/change-password'
2025-08-08 15:51:59.929 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.ChangePassword (StudentManagementAPI)' with route pattern 'api/auth/change-password' is valid for the request path '/api/auth/change-password'
2025-08-08 15:51:59.934 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.ChangePassword (StudentManagementAPI)'
2025-08-08 15:51:59.936 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 15:51:59.937 +07:00 [DBG] The request has an origin header: 'https://localhost:7172'.
2025-08-08 15:51:59.939 +07:00 [INF] CORS policy execution successful.
2025-08-08 15:51:59.940 +07:00 [DBG] Successfully validated the token.
2025-08-08 15:51:59.941 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 15:51:59.943 +07:00 [DBG] Authorization was successful.
2025-08-08 15:51:59.944 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.ChangePassword (StudentManagementAPI)'
2025-08-08 15:51:59.946 +07:00 [INF] Route matched with {action = "ChangePassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(StudentManagementAPI.DTOs.Auth.ChangePasswordRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 15:51:59.947 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 15:51:59.949 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 15:51:59.950 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 15:51:59.952 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 15:51:59.953 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 15:51:59.955 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:51:59.957 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 15:51:59.958 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest' ...
2025-08-08 15:51:59.960 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest' using the name '' in request data ...
2025-08-08 15:51:59.962 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 15:51:59.963 +07:00 [DBG] Connection id "0HNEMB17EBIVM", Request id "0HNEMB17EBIVM:0000001D": started reading request body.
2025-08-08 15:51:59.965 +07:00 [DBG] Connection id "0HNEMB17EBIVM", Request id "0HNEMB17EBIVM:0000001D": done reading request body.
2025-08-08 15:51:59.966 +07:00 [DBG] Connection id "0HNEMB17EBIVQ" accepted.
2025-08-08 15:51:59.972 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest'
2025-08-08 15:51:59.973 +07:00 [DBG] Connection id "0HNEMB17EBIVQ" started.
2025-08-08 15:51:59.975 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest'.
2025-08-08 15:51:59.978 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest'.
2025-08-08 15:51:59.980 +07:00 [DBG] Connection 0HNEMB17EBIVQ established using the following protocol: "Tls13"
2025-08-08 15:51:59.981 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest' ...
2025-08-08 15:51:59.982 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 15:51:59.983 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.ChangePasswordRequest'.
2025-08-08 15:51:59.985 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 15:51:59.987 +07:00 [INF] 🔒 Đang xử lý đổi mật khẩu cho user: student1
2025-08-08 15:51:59.988 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 15:51:59.989 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 15:51:59.992 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:51:59.995 +07:00 [DBG] Creating DbConnection.
2025-08-08 15:51:59.995 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 15:51:59.996 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 15:51:59.997 +07:00 [DBG] Successfully validated the token.
2025-08-08 15:51:59.998 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:51:59.998 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 15:52:00.000 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.001 +07:00 [DBG] Authorization was successful.
2025-08-08 15:52:00.002 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:52:00.003 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:52:00.003 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:52:00.004 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 15:52:00.005 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 15:52:00.007 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 15:52:00.009 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 15:52:00.010 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 15:52:00.016 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 15:52:00.018 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 15:52:00.019 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 15:52:00.021 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 15:52:00.023 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 15:52:00.024 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 15:52:00.025 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:52:00.026 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 15:52:00.027 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.029 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 15:52:00.030 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-08 15:52:00.031 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 15:52:00.032 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.033 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 15:52:00.034 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 15:52:00.036 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 15:52:00.038 +07:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:52:00.039 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 15:52:00.041 +07:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-08-08 15:52:00.042 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:52:00.043 +07:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-08-08 15:52:00.044 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:52:00.045 +07:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-08-08 15:52:00.046 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 15:52:00.047 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.048 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:52:00.049 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.051 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 15:52:00.051 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:52:00.053 +07:00 [DBG] Creating DbConnection.
2025-08-08 15:52:00.053 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 15:52:00.054 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 15:52:00.055 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 15:52:00.056 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.057 +07:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [FullName] = @p1, [PasswordHash] = @p2, [Phone] = @p3, [Role] = @p4, [Username] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-08-08 15:52:00.068 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [FullName] = @p1, [PasswordHash] = @p2, [Phone] = @p3, [Role] = @p4, [Username] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-08-08 15:52:00.072 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.074 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 15:52:00.076 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.077 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.078 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:52:00.079 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:52:00.079 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:52:00.081 +07:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 15:52:00.081 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 15:52:00.083 +07:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-08-08 15:52:00.085 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 15:52:00.086 +07:00 [INF] 🔒 Đổi mật khẩu thành công cho user: student1
2025-08-08 15:52:00.088 +07:00 [INF] ✅ Đổi mật khẩu thành công cho user: student1
2025-08-08 15:52:00.089 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 15:52:00.090 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 15:52:00.091 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 15:52:00.093 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.094 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 15:52:00.095 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 15:52:00.096 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 15:52:00.098 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.099 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-08-08 15:52:00.100 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:52:00.101 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-08 15:52:00.103 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.104 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.ChangePassword (StudentManagementAPI) in 149.4819ms
2025-08-08 15:52:00.106 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.107 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.ChangePassword (StudentManagementAPI)'
2025-08-08 15:52:00.109 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:52:00.110 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 15:52:00.111 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 15:52:00.112 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.113 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 15:52:00.115 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 15:52:00.116 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 15:52:00.117 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/auth/change-password - 200 null text/plain; charset=utf-8 192.6363ms
2025-08-08 15:52:00.123 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 15:52:00.125 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.127 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 15:52:00.128 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.129 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:52:00.131 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 15:52:00.133 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 15:52:00.134 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 15:52:00.134 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 15:52:00.135 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 15:52:00.136 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 15:52:00.137 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 116.1228ms
2025-08-08 15:52:00.138 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:52:00.140 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 15:52:00.140 +07:00 [DBG] Connection id "0HNEMB17EBIVQ" received FIN.
2025-08-08 15:52:00.141 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:00.142 +07:00 [DBG] Connection id "0HNEMB17EBIVQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 15:52:00.143 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 15:52:00.144 +07:00 [DBG] Connection id "0HNEMB17EBIVQ" disconnecting.
2025-08-08 15:52:00.145 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 163.3928ms
2025-08-08 15:52:00.149 +07:00 [DBG] Connection id "0HNEMB17EBIVQ" stopped.
2025-08-08 15:52:29.955 +07:00 [DBG] Connection id "0HNEMB17EBIVR" accepted.
2025-08-08 15:52:29.956 +07:00 [DBG] Connection id "0HNEMB17EBIVR" started.
2025-08-08 15:52:29.961 +07:00 [DBG] Connection 0HNEMB17EBIVR established using the following protocol: "Tls13"
2025-08-08 15:52:29.962 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 15:52:29.965 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 15:52:29.967 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 15:52:29.968 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:52:29.969 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 15:52:29.970 +07:00 [DBG] Successfully validated the token.
2025-08-08 15:52:29.971 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 15:52:29.972 +07:00 [DBG] Authorization was successful.
2025-08-08 15:52:29.974 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:52:29.975 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 15:52:29.977 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 15:52:29.978 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 15:52:29.980 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 15:52:29.983 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 15:52:29.984 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 15:52:29.986 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 15:52:29.987 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 15:52:29.990 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 15:52:29.991 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 15:52:29.993 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 15:52:29.994 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 15:52:29.996 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 15:52:29.998 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 15:52:30.000 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:52:30.001 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:52:30.003 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 15:52:30.005 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:52:30.007 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 15:52:30.009 +07:00 [DBG] Creating DbConnection.
2025-08-08 15:52:30.010 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 15:52:30.011 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:30.012 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:30.015 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:52:30.017 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:52:30.018 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 15:52:30.019 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 15:52:30.023 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 15:52:30.027 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:52:30.028 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 15:52:30.030 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:30.031 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:52:30.033 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:30.035 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:30.036 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:52:30.037 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:52:30.039 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 15:52:30.040 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 15:52:30.043 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 15:52:30.046 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:52:30.047 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 15:52:30.049 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:30.051 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:52:30.053 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 15:52:30.055 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 15:52:30.056 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 15:52:30.058 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 15:52:30.059 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 15:52:30.061 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 15:52:30.063 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 77.7233ms
2025-08-08 15:52:30.066 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:52:30.067 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 15:52:30.068 +07:00 [DBG] Connection id "0HNEMB17EBIVR" received FIN.
2025-08-08 15:52:30.069 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:52:30.070 +07:00 [DBG] Connection id "0HNEMB17EBIVR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 15:52:30.071 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 15:52:30.073 +07:00 [DBG] Connection id "0HNEMB17EBIVR" disconnecting.
2025-08-08 15:52:30.074 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 111.842ms
2025-08-08 15:52:30.080 +07:00 [DBG] Connection id "0HNEMB17EBIVR" stopped.
2025-08-08 15:52:59.960 +07:00 [DBG] Connection id "0HNEMB17EBIVS" accepted.
2025-08-08 15:52:59.962 +07:00 [DBG] Connection id "0HNEMB17EBIVS" started.
2025-08-08 15:52:59.967 +07:00 [DBG] Connection 0HNEMB17EBIVS established using the following protocol: "Tls13"
2025-08-08 15:52:59.968 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 15:52:59.971 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 15:52:59.972 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 15:52:59.973 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:52:59.975 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 15:52:59.976 +07:00 [DBG] Successfully validated the token.
2025-08-08 15:52:59.977 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 15:52:59.978 +07:00 [DBG] Authorization was successful.
2025-08-08 15:52:59.979 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:52:59.980 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 15:52:59.982 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 15:52:59.984 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 15:52:59.986 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 15:52:59.988 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 15:52:59.990 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 15:52:59.991 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 15:52:59.993 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 15:52:59.995 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 15:52:59.997 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 15:52:59.998 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 15:53:00.000 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 15:53:00.002 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 15:53:00.004 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 15:53:00.006 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:53:00.007 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:53:00.009 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 15:53:00.010 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 15:53:00.013 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 15:53:00.016 +07:00 [DBG] Creating DbConnection.
2025-08-08 15:53:00.017 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 15:53:00.018 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:53:00.019 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:53:00.020 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:53:00.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:53:00.022 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 15:53:00.024 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 15:53:00.039 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 15:53:00.043 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:53:00.044 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 15:53:00.047 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:53:00.048 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:53:00.050 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:53:00.052 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:53:00.053 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 15:53:00.054 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 15:53:00.055 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 15:53:00.057 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 15:53:00.062 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 15:53:00.065 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 15:53:00.067 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 15:53:00.068 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:53:00.069 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 15:53:00.071 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 15:53:00.072 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 15:53:00.073 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 15:53:00.074 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 15:53:00.074 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 15:53:00.075 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 15:53:00.077 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 85.4329ms
2025-08-08 15:53:00.079 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 15:53:00.081 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 15:53:00.082 +07:00 [DBG] Connection id "0HNEMB17EBIVS" received FIN.
2025-08-08 15:53:00.082 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 15:53:00.083 +07:00 [DBG] Connection id "0HNEMB17EBIVS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 15:53:00.084 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 15:53:00.086 +07:00 [DBG] Connection id "0HNEMB17EBIVS" disconnecting.
2025-08-08 15:53:00.087 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 119.2269ms
2025-08-08 15:53:00.091 +07:00 [DBG] Connection id "0HNEMB17EBIVS" stopped.
2025-08-08 15:54:05.300 +07:00 [DBG] Connection id "0HNEMB17EBIVN" received FIN.
2025-08-08 15:54:05.300 +07:00 [DBG] Connection id "0HNEMB17EBIVM" received FIN.
2025-08-08 15:54:05.310 +07:00 [DBG] Connection id "0HNEMB17EBIVN" is closed. The last processed stream ID was 3.
2025-08-08 15:54:05.311 +07:00 [DBG] Connection id "0HNEMB17EBIVM" is closed. The last processed stream ID was 29.
2025-08-08 15:54:05.314 +07:00 [DBG] The connection queue processing loop for 0HNEMB17EBIVN completed.
2025-08-08 15:54:05.317 +07:00 [DBG] Connection id "0HNEMB17EBIVN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 15:54:05.313 +07:00 [DBG] The connection queue processing loop for 0HNEMB17EBIVM completed.
2025-08-08 15:54:05.320 +07:00 [DBG] Connection id "0HNEMB17EBIVM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 15:54:05.331 +07:00 [DBG] Connection id "0HNEMB17EBIVN" stopped.
2025-08-08 15:54:05.331 +07:00 [DBG] Connection id "0HNEMB17EBIVM" stopped.
2025-08-08 16:02:52.268 +07:00 [DBG] Connection id "0HNEMB17EBIVT" accepted.
2025-08-08 16:02:52.276 +07:00 [DBG] Connection id "0HNEMB17EBIVT" started.
2025-08-08 16:02:52.289 +07:00 [DBG] Connection 0HNEMB17EBIVT established using the following protocol: "Tls13"
2025-08-08 16:02:52.297 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-08 16:02:52.308 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:02:52.310 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:02:52.311 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:02:52.312 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:02:52.313 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:02:52.315 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:02:52.316 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 18.9601ms
2025-08-08 16:02:52.318 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-08 16:02:52.325 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:02:52.326 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-08 16:02:52.328 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:02:52.329 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:02:52.330 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:02:52.332 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:02:52.333 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:02:52.334 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:02:52.336 +07:00 [DBG] Authorization was successful.
2025-08-08 16:02:52.337 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:02:52.341 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:02:52.343 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:02:52.346 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:02:52.348 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:02:52.350 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:02:52.352 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:02:52.354 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:02:52.356 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:02:52.363 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:02:52.367 +07:00 [DBG] Compiling query expression: 
'DbSet<Enrollment>()
    .Where(e => e.StudentId == __studentId_0)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Subject)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Semester)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Teacher)
    .ThenInclude(t => t.User)
    .Select(e => e.CourseClass)
    .Distinct()'
2025-08-08 16:02:52.373 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 16:02:52.376 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-08 16:02:52.379 +07:00 [DBG] Including navigation: 'CourseClass.Teacher'.
2025-08-08 16:02:52.381 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-08 16:02:52.411 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
            3 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 18], [Property: Teacher.Degree (string) Required, 19], [Property: Teacher.TeacherCode (string) Required, 20] }
            4 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: User.Email (string), 22], [Property: User.FullName (string) Required, 23], [Property: User.PasswordHash (string) Required, 24], [Property: User.Phone (string), 25], [Property: User.Role (string) Required, 26], [Property: User.Username (string) Required, 27] }
        SELECT s0.Id, s0.ClassCode, s0.MaxStudents, s0.Schedule, s0.SemesterId, s0.SubjectId, s0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s1.Id, s1.EndDate, s1.IsOpen, s1.Name, s1.StartDate, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT DISTINCT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM Enrollments AS e
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            WHERE e.StudentId == @__studentId_0
        ) AS s0
        INNER JOIN Subjects AS s ON s0.SubjectId == s.Id
        INNER JOIN Semesters AS s1 ON s0.SemesterId == s1.Id
        INNER JOIN Teachers AS t ON s0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
            3 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 18], [Property: Teacher.Degree (string) Required, 19], [Property: Teacher.TeacherCode (string) Required, 20] }
            4 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: User.Email (string), 22], [Property: User.FullName (string) Required, 23], [Property: User.PasswordHash (string) Required, 24], [Property: User.Phone (string), 25], [Property: User.Role (string) Required, 26], [Property: User.Username (string) Required, 27] }
        SELECT s0.Id, s0.ClassCode, s0.MaxStudents, s0.Schedule, s0.SemesterId, s0.SubjectId, s0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s1.Id, s1.EndDate, s1.IsOpen, s1.Name, s1.StartDate, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT DISTINCT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM Enrollments AS e
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            WHERE e.StudentId == @__studentId_0
        ) AS s0
        INNER JOIN Subjects AS s ON s0.SubjectId == s.Id
        INNER JOIN Semesters AS s1 ON s0.SemesterId == s1.Id
        INNER JOIN Teachers AS t ON s0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CourseClass entity;
        Subject entity;
        Semester entity;
        Teacher entity;
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CourseClass instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CourseClass);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CourseClass)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Subject instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Subject);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Subject)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<Name>k__BackingField = dataReader.GetString(10);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Semester instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Semester);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Semester)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Semester")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(14);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(15);
                                instance.<Name>k__BackingField = dataReader.GetString(16);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(17);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            Teacher instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(Teacher);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Teacher.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(18) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (Teacher)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                        {
                            return 
                            {
                                Teacher instance;
                                instance = new Teacher();
                                instance.<Id>k__BackingField = dataReader.GetInt32(18);
                                instance.<Degree>k__BackingField = dataReader.GetString(19);
                                instance.<TeacherCode>k__BackingField = dataReader.GetString(20);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Teacher)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            User instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(User);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(21) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (User)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("User")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(21);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<FullName>k__BackingField = dataReader.GetString(23);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(24);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(25) ? default(string) : dataReader.GetString(25);
                                instance.<Role>k__BackingField = dataReader.GetString(26);
                                instance.<Username>k__BackingField = dataReader.GetString(27);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{17}, namelessParameter{18}) => 
            {
                namelessParameter{17}.<Subject>k__BackingField = namelessParameter{18};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{18}, 
                    value: namelessParameter{17}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{22}, namelessParameter{23}) => 
            {
                namelessParameter{22}.<Semester>k__BackingField = namelessParameter{23};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{23}, 
                    value: namelessParameter{22}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
            fixup: (namelessParameter{27}, namelessParameter{28}) => 
            {
                namelessParameter{27}.<User>k__BackingField = namelessParameter{28};
                return namelessParameter{28}.<Teacher>k__BackingField = namelessParameter{27};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Teacher>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Teacher (Teacher) ToPrincipal Teacher Inverse: CourseClasses | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Teacher")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Teacher.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Teacher | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{31}, namelessParameter{32}) => 
            {
                namelessParameter{31}.<Teacher>k__BackingField = namelessParameter{32};
                return [LIFTABLE Constant: ClrICollectionAccessor<Teacher, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{32}, 
                    value: namelessParameter{31}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 16:02:52.423 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:02:52.425 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:02:52.426 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:02:52.440 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:02:52.443 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:02:52.445 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:02:52.446 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:02:52.448 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:02:52.469 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:02:52.475 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.491 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.498 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.508 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.512 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.515 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.523 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.526 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.531 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.534 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.537 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.538 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.540 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.542 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.543 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.545 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.546 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.548 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.550 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.551 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.553 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.554 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.555 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.557 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.558 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.560 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.561 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.563 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.564 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.565 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.567 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.568 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.569 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.571 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.572 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.573 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.574 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.576 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.578 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.579 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.580 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.581 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.583 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.584 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.586 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.587 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.588 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.589 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.590 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.591 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.593 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.594 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.595 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.596 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.597 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.598 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.600 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.601 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.602 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.603 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.604 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.605 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.606 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.607 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.609 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.610 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.611 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.612 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.613 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.614 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:02:52.615 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:02:52.616 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 144ms reading results.
2025-08-08 16:02:52.619 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:02:52.621 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:02:52.624 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:02:52.626 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:02:52.627 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:02:52.628 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:02:52.628 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:02:52.629 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:02:52.633 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 279.52ms
2025-08-08 16:02:52.635 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:02:52.636 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:02:52.637 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:02:52.639 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:02:52.640 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 322.5892ms
2025-08-08 16:03:00.052 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/me - null null
2025-08-08 16:03:00.055 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 16:03:00.058 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:03:00.059 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:03:00.060 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:03:00.061 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:03:00.062 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:03:00.062 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/me - 204 null null 10.838ms
2025-08-08 16:03:00.068 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/me - null null
2025-08-08 16:03:00.071 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 16:03:00.073 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)' with route pattern 'api/student/me' is valid for the request path '/api/student/me'
2025-08-08 16:03:00.074 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:03:00.075 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:03:00.076 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:03:00.078 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:03:00.079 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:03:00.080 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:03:00.082 +07:00 [DBG] Authorization was successful.
2025-08-08 16:03:00.083 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:03:00.086 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:03:00.088 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:03:00.090 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:03:00.091 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:03:00.093 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:03:00.094 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:03:00.095 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:03:00.097 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:03:00.100 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:03:00.103 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .Include(s => s.User)
    .Include(s => s.Department)
    .Include(s => s.Program)
    .FirstOrDefault(s => s.Id == __id_0)'
2025-08-08 16:03:00.106 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-08 16:03:00.107 +07:00 [DBG] Including navigation: 'Student.Department'.
2025-08-08 16:03:00.109 +07:00 [DBG] Including navigation: 'Student.Program'.
2025-08-08 16:03:00.120 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Student>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Student>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
                2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
                3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
            FROM Students AS s
            INNER JOIN Users AS u ON s.Id == u.Id
            INNER JOIN Departments AS d ON s.DepartmentId == d.Id
            INNER JOIN EducationPrograms AS e ON s.ProgramId == e.Id
            WHERE s.Id == @__id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
                2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
                3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
            FROM Students AS s
            INNER JOIN Users AS u ON s.Id == u.Id
            INNER JOIN Departments AS d ON s.DepartmentId == d.Id
            INNER JOIN EducationPrograms AS e ON s.ProgramId == e.Id
            WHERE s.Id == @__id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Student entity;
            User entity;
            Department entity;
            EducationProgram entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Student instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Student);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Student)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Student")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Student")]: 
                            {
                                return 
                                {
                                    Student instance;
                                    instance = new Student();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DepartmentId>k__BackingField = dataReader.GetInt32(2);
                                    instance.<Gender>k__BackingField = dataReader.GetString(3);
                                    instance.<ProgramId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<StudentCode>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Student)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                User instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(User);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (User)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("User")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<FullName>k__BackingField = dataReader.GetString(8);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(9);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<Role>k__BackingField = dataReader.GetString(11);
                                    instance.<Username>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                Department instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(Department);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Department.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Department").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (Department)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Department")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Department")]: 
                            {
                                return 
                                {
                                    Department instance;
                                    instance = new Department();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                    instance.<Name>k__BackingField = dataReader.GetString(14);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext3.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Department")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Department)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            entity = 
            {
                MaterializationContext materializationContext4;
                IEntityType entityType4;
                EducationProgram instance4;
                InternalEntityEntry entry4;
                bool hasNullKey4;
                materializationContext4 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance4 = default(EducationProgram);
                entry4 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EducationProgram.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EducationProgram").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(15) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey4);
                !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                {
                    entityType4 = entry4.EntityType;
                    return instance4 = (EducationProgram)entry4.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot4;
                    shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType4 = [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("EducationProgram")];
                    instance4 = switch (entityType4)
                    {
                        case [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("EducationProgram")]: 
                            {
                                return 
                                {
                                    EducationProgram instance;
                                    instance = new EducationProgram();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(15);
                                    instance.<Name>k__BackingField = dataReader.GetString(16);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext4.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("EducationProgram")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(EducationProgram)
                    }
                    ;
                    entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType4, 
                        entity: instance4, 
                        snapshot: shadowSnapshot4);
                    return instance4;
                } : default(void);
                return instance4;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
                fixup: (namelessParameter{14}, namelessParameter{15}) => 
                {
                    namelessParameter{14}.<User>k__BackingField = namelessParameter{15};
                    return namelessParameter{15}.<Student>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, Department>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Student.Department (Department) ToPrincipal Department Inverse: Students | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("Student").FindNavigation("Department")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Department.Students (ICollection<Student>) Collection ToDependent Student Inverse: Department | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students")], 
                fixup: (namelessParameter{18}, namelessParameter{19}) => 
                {
                    namelessParameter{18}.<Department>k__BackingField = namelessParameter{19};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Department, ICollection<Student>, Student> | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students").GetCollectionAccessor()].Add(
                        entity: namelessParameter{19}, 
                        value: namelessParameter{18}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, EducationProgram>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Student.Program (EducationProgram) ToPrincipal EducationProgram Inverse: Students | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Student").FindNavigation("Program")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: EducationProgram.Students (ICollection<Student>) Collection ToDependent Student Inverse: Program | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students")], 
                fixup: (namelessParameter{23}, namelessParameter{24}) => 
                {
                    namelessParameter{23}.<Program>k__BackingField = namelessParameter{24};
                    return [LIFTABLE Constant: ClrICollectionAccessor<EducationProgram, ICollection<Student>, Student> | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students").GetCollectionAccessor()].Add(
                        entity: namelessParameter{24}, 
                        value: namelessParameter{23}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 16:03:00.128 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:03:00.129 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:03:00.131 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:03:00.132 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:03:00.133 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:03:00.134 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:03:00.136 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:03:00.137 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 16:03:00.145 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 16:03:00.148 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:03:00.149 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:03:00.150 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:03:00.154 +07:00 [DBG] The navigation 'Student.Department' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:03:00.157 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:03:00.161 +07:00 [DBG] The navigation 'Student.Program' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:03:00.164 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:03:00.167 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:03:00.169 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 21ms reading results.
2025-08-08 16:03:00.171 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:03:00.173 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:03:00.181 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:03:00.184 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:03:00.185 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:03:00.185 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:03:00.186 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:03:00.187 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentDto'.
2025-08-08 16:03:00.191 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI) in 95.6898ms
2025-08-08 16:03:00.193 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:03:00.194 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:03:00.196 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:03:00.197 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:03:00.199 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/me - 200 null application/json; charset=utf-8 131.1729ms
2025-08-08 16:04:36.295 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-08 16:04:36.303 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 16:04:36.304 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:04:36.305 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:04:36.306 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:04:36.307 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:04:36.308 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:04:36.309 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 13.9112ms
2025-08-08 16:04:36.313 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-08 16:04:36.319 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 16:04:36.320 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-08 16:04:36.322 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:04:36.323 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:04:36.323 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:04:36.324 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:04:36.326 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:04:36.327 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:04:36.328 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:04:36.329 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 16:04:36.330 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:04:36.332 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:04:36.334 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:04:36.335 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:04:36.336 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:04:36.338 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:04:36.339 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:04:36.341 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:04:36.342 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 16:04:36.343 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 16:04:36.344 +07:00 [DBG] Connection id "0HNEMB17EBIVT", Request id "0HNEMB17EBIVT:0000000B": started reading request body.
2025-08-08 16:04:36.345 +07:00 [DBG] Connection id "0HNEMB17EBIVT", Request id "0HNEMB17EBIVT:0000000B": done reading request body.
2025-08-08 16:04:36.346 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 16:04:36.347 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:04:36.349 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:04:36.350 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:04:36.351 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:04:36.352 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: student1
2025-08-08 16:04:36.353 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:04:36.356 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:04:36.356 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:04:36.357 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.358 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.359 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:04:36.361 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:04:36.362 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:04:36.363 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:04:36.373 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:04:36.376 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:36.378 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.379 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-08 16:04:36.382 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.384 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:04:36.386 +07:00 [INF] 🔓 Login successful for user: student1
2025-08-08 16:04:36.387 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.390 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.392 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:04:36.393 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:04:36.394 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:04:36.396 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 16:04:36.400 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 16:04:36.402 +07:00 [DBG] The navigation 'User.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:36.404 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:36.405 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.407 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-08 16:04:36.408 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.410 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:04:36.412 +07:00 [INF] ✅ Đăng nhập thành công cho user: student1
2025-08-08 16:04:36.413 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:04:36.415 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:04:36.416 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:04:36.417 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:04:36.418 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:04:36.419 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 16:04:36.420 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 82.6078ms
2025-08-08 16:04:36.423 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:04:36.424 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:04:36.425 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.427 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:04:36.429 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 115.9106ms
2025-08-08 16:04:36.525 +07:00 [DBG] Connection id "0HNEMB17EBIVU" accepted.
2025-08-08 16:04:36.527 +07:00 [DBG] Connection id "0HNEMB17EBIVU" started.
2025-08-08 16:04:36.542 +07:00 [DBG] Connection 0HNEMB17EBIVU established using the following protocol: "Tls13"
2025-08-08 16:04:36.544 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:04:36.548 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:04:36.549 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:04:36.551 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:04:36.552 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:04:36.553 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:04:36.554 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:04:36.555 +07:00 [DBG] Authorization was successful.
2025-08-08 16:04:36.556 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:04:36.557 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:04:36.559 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:04:36.560 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:04:36.562 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:04:36.564 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:04:36.565 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:04:36.567 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:04:36.568 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:04:36.570 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:04:36.571 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:04:36.572 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:04:36.574 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:04:36.576 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:04:36.579 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:04:36.580 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:04:36.582 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:04:36.583 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:04:36.585 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:04:36.587 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:04:36.589 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:04:36.590 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:04:36.591 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.593 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.594 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:04:36.595 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:04:36.596 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:04:36.597 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:04:36.602 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:04:36.605 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.606 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:04:36.607 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.609 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:04:36.611 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.613 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.614 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:04:36.615 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:04:36.617 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:04:36.619 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:04:36.623 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:04:36.626 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.627 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:04:36.629 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.630 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:04:36.632 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:04:36.635 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:04:36.636 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:04:36.636 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:04:36.637 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:04:36.639 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:04:36.641 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 74.1665ms
2025-08-08 16:04:36.642 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:04:36.643 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:04:36.644 +07:00 [DBG] Connection id "0HNEMB17EBIVU" received FIN.
2025-08-08 16:04:36.644 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:36.646 +07:00 [DBG] Connection id "0HNEMB17EBIVU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:04:36.647 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:04:36.649 +07:00 [DBG] Connection id "0HNEMB17EBIVU" disconnecting.
2025-08-08 16:04:36.650 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 105.9024ms
2025-08-08 16:04:36.655 +07:00 [DBG] Connection id "0HNEMB17EBIVU" stopped.
2025-08-08 16:04:38.956 +07:00 [DBG] Connection id "0HNEMB17EBIVV" accepted.
2025-08-08 16:04:38.958 +07:00 [DBG] Connection id "0HNEMB17EBIVV" started.
2025-08-08 16:04:38.962 +07:00 [DBG] Connection 0HNEMB17EBIVV established using the following protocol: "Tls13"
2025-08-08 16:04:38.964 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=20 - null null
2025-08-08 16:04:38.967 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:04:38.968 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:04:38.970 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:04:38.971 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:04:38.973 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:04:38.974 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:04:38.976 +07:00 [DBG] Authorization was successful.
2025-08-08 16:04:38.977 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:04:38.978 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:04:38.980 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:04:38.983 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:04:38.985 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:04:38.988 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:04:38.990 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:04:38.991 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:04:38.993 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:04:38.995 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:04:38.996 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:04:38.997 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:04:39.000 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:04:39.001 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:04:39.003 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:04:39.005 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:04:39.006 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:04:39.008 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:04:39.009 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:04:39.011 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:04:39.013 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:04:39.014 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:04:39.016 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:39.017 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:39.018 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:04:39.018 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:04:39.020 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:04:39.022 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:04:39.025 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:04:39.029 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:04:39.030 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:04:39.032 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:39.033 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:04:39.036 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:39.037 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:39.038 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:04:39.039 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:04:39.040 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:04:39.043 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:04:39.045 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:04:39.047 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:04:39.050 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:04:39.051 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:39.052 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:04:39.054 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:04:39.056 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:04:39.057 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:04:39.058 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:04:39.059 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:04:39.060 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:04:39.061 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 69.39ms
2025-08-08 16:04:39.063 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:04:39.064 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:04:39.065 +07:00 [DBG] Connection id "0HNEMB17EBIVV" received FIN.
2025-08-08 16:04:39.066 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:39.067 +07:00 [DBG] Connection id "0HNEMB17EBIVV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:04:39.068 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:04:39.070 +07:00 [DBG] Connection id "0HNEMB17EBIVV" disconnecting.
2025-08-08 16:04:39.072 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=20 - 200 null application/json; charset=utf-8 107.8128ms
2025-08-08 16:04:39.076 +07:00 [DBG] Connection id "0HNEMB17EBIVV" stopped.
2025-08-08 16:04:46.971 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-08 16:04:46.975 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:04:46.976 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:04:46.977 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:04:46.978 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:04:46.979 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:04:46.981 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:04:46.982 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 10.9144ms
2025-08-08 16:04:46.991 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-08 16:04:46.993 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:04:46.996 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-08 16:04:46.998 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:04:46.999 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:04:47.000 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:04:47.001 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:04:47.002 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:04:47.003 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:04:47.004 +07:00 [DBG] Authorization was successful.
2025-08-08 16:04:47.005 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:04:47.006 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:04:47.008 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:04:47.009 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:04:47.012 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:04:47.014 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:04:47.015 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:04:47.017 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:04:47.020 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:04:47.022 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:04:47.024 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:04:47.025 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:04:47.025 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:47.026 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:47.028 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:04:47.030 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:04:47.031 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:04:47.032 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:04:47.052 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:04:47.054 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.057 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.058 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.060 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.061 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.063 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.064 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.065 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.066 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.067 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.068 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.070 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.072 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.073 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.074 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.075 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.077 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.078 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.079 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.080 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.081 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.082 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.084 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.085 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.086 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.087 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.088 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.089 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.091 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.092 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.093 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.094 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.095 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.097 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.099 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.100 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.101 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.102 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.103 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.104 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.106 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.107 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.108 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.109 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.110 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.112 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.113 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.114 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.116 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.117 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.118 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.120 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.121 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.123 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.124 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.126 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.127 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.129 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.130 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.132 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.134 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.135 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.136 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.137 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.139 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.141 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.142 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.143 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.144 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.146 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:47.148 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:04:47.149 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 95ms reading results.
2025-08-08 16:04:47.151 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:47.153 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:04:47.155 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:04:47.157 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:04:47.157 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:04:47.158 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:04:47.159 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:04:47.160 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:04:47.162 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 145.1494ms
2025-08-08 16:04:47.164 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:04:47.165 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:04:47.167 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:47.169 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:04:47.170 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 179.9239ms
2025-08-08 16:04:51.043 +07:00 [DBG] Connection id "0HNEMB17EBJ00" accepted.
2025-08-08 16:04:51.044 +07:00 [DBG] Connection id "0HNEMB17EBJ00" started.
2025-08-08 16:04:51.045 +07:00 [DBG] Connection id "0HNEMB17EBJ01" accepted.
2025-08-08 16:04:51.046 +07:00 [DBG] Connection id "0HNEMB17EBJ01" started.
2025-08-08 16:04:51.049 +07:00 [DBG] Connection 0HNEMB17EBJ00 established using the following protocol: "Tls13"
2025-08-08 16:04:51.052 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-08 16:04:51.053 +07:00 [DBG] Connection 0HNEMB17EBJ01 established using the following protocol: "Tls13"
2025-08-08 16:04:51.054 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 16:04:51.056 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-08 16:04:51.057 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-08 16:04:51.061 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-08 16:04:51.063 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:04:51.065 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-08 16:04:51.066 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:04:51.068 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:04:51.069 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:04:51.070 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:04:51.071 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:04:51.072 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:04:51.074 +07:00 [DBG] Authorization was successful.
2025-08-08 16:04:51.075 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:04:51.076 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:04:51.078 +07:00 [DBG] Authorization was successful.
2025-08-08 16:04:51.079 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:04:51.081 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-08 16:04:51.082 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:04:51.082 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:04:51.084 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:04:51.086 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:04:51.087 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:04:51.089 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:04:51.091 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:04:51.093 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:04:51.094 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:04:51.096 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:04:51.097 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:04:51.099 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 16:04:51.101 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:04:51.102 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 16:04:51.103 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:04:51.109 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:04:51.110 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:04:51.113 +07:00 [DBG] Compiling query expression: 
'DbSet<Semester>()
    .OrderByDescending(s => s.StartDate)'
2025-08-08 16:04:51.114 +07:00 [DBG] Compiling query expression: 
'DbSet<Enrollment>()
    .Where(e => e.StudentId == __studentId_0)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Subject)'
2025-08-08 16:04:51.116 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-08 16:04:51.118 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 16:04:51.119 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Semester>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.EndDate (DateTime) Required, 1], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 2], [Property: Semester.Name (string) Required, 3], [Property: Semester.StartDate (DateTime) Required, 4] }
        SELECT s.Id, s.EndDate, s.IsOpen, s.Name, s.StartDate
        FROM Semesters AS s
        ORDER BY s.StartDate DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.EndDate (DateTime) Required, 1], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 2], [Property: Semester.Name (string) Required, 3], [Property: Semester.StartDate (DateTime) Required, 4] }
        SELECT s.Id, s.EndDate, s.IsOpen, s.Name, s.StartDate
        FROM Semesters AS s
        ORDER BY s.StartDate DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Semester instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Semester);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Semester)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Semester")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(1);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(2);
                                instance.<Name>k__BackingField = dataReader.GetString(3);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 16:04:51.123 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:04:51.124 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:04:51.126 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.127 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.128 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:04:51.129 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Enrollment>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Enrollment.CourseClassId (int) Required FK Index, 1], [Property: Enrollment.EnrollDate (DateTime) Required, 2], [Property: Enrollment.StudentId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: CourseClass.ClassCode (string) Required, 5], [Property: CourseClass.MaxStudents (int?), 6], [Property: CourseClass.Schedule (string), 7], [Property: CourseClass.SemesterId (int) Required FK Index, 8], [Property: CourseClass.SubjectId (int) Required FK Index, 9], [Property: CourseClass.TeacherId (int) Required FK Index, 10] }
            2 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Subject.Credit (int) Required, 12], [Property: Subject.Description (string), 13], [Property: Subject.Name (string) Required, 14], [Property: Subject.SemesterId (int) Required FK Index, 15], [Property: Subject.SubjectCode (string) Required, 16] }
        SELECT e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode
        FROM Enrollments AS e
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        WHERE e.StudentId == @__studentId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Enrollment.CourseClassId (int) Required FK Index, 1], [Property: Enrollment.EnrollDate (DateTime) Required, 2], [Property: Enrollment.StudentId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: CourseClass.ClassCode (string) Required, 5], [Property: CourseClass.MaxStudents (int?), 6], [Property: CourseClass.Schedule (string), 7], [Property: CourseClass.SemesterId (int) Required FK Index, 8], [Property: CourseClass.SubjectId (int) Required FK Index, 9], [Property: CourseClass.TeacherId (int) Required FK Index, 10] }
            2 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Subject.Credit (int) Required, 12], [Property: Subject.Description (string), 13], [Property: Subject.Name (string) Required, 14], [Property: Subject.SemesterId (int) Required FK Index, 15], [Property: Subject.SubjectCode (string) Required, 16] }
        SELECT e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode
        FROM Enrollments AS e
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        WHERE e.StudentId == @__studentId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Enrollment entity;
        CourseClass entity;
        Subject entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Enrollment instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Enrollment);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Enrollment)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Enrollment")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(1);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(2);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            CourseClass instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(CourseClass);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(4) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (CourseClass)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CourseClass")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(4);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(5);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(6) ? default(int?) : (int?)dataReader.GetInt32(6);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(8);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(9);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Subject instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Subject);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(11) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Subject)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(11);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(12);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                instance.<Name>k__BackingField = dataReader.GetString(14);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(15);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(16);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Subject>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<CourseClass>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 16:04:51.129 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:04:51.135 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-08 16:04:51.136 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 16:04:51.137 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:04:51.140 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 16:04:51.142 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 16:04:51.142 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.144 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.152 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.154 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.156 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.157 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 13ms reading results.
2025-08-08 16:04:51.157 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.161 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.162 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:04:51.163 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:04:51.164 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:04:51.167 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:04:51.168 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:04:51.175 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:04:51.175 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:04:51.179 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.180 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:04:51.183 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:04:51.183 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:04:51.184 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:04:51.185 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.186 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:04:51.188 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.191 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 91.8132ms
2025-08-08 16:04:51.191 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.193 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:04:51.194 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.195 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:04:51.196 +07:00 [DBG] Connection id "0HNEMB17EBJ00" received FIN.
2025-08-08 16:04:51.197 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.198 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.202 +07:00 [DBG] Connection id "0HNEMB17EBJ02" accepted.
2025-08-08 16:04:51.201 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.199 +07:00 [DBG] Connection id "0HNEMB17EBJ00" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:04:51.204 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-08 16:04:51.209 +07:00 [DBG] Connection id "0HNEMB17EBJ02" started.
2025-08-08 16:04:51.210 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.212 +07:00 [DBG] Connection id "0HNEMB17EBJ00" disconnecting.
2025-08-08 16:04:51.216 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.213 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 161.6313ms
2025-08-08 16:04:51.218 +07:00 [DBG] Connection 0HNEMB17EBJ02 established using the following protocol: "Tls13"
2025-08-08 16:04:51.219 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.223 +07:00 [DBG] Connection id "0HNEMB17EBJ00" stopped.
2025-08-08 16:04:51.224 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-08 16:04:51.226 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.232 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-08 16:04:51.233 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.235 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-08 16:04:51.236 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.238 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-08 16:04:51.239 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.241 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:04:51.242 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.243 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:04:51.245 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.245 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:04:51.246 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.247 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:04:51.248 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.249 +07:00 [DBG] Authorization was successful.
2025-08-08 16:04:51.250 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.252 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:04:51.253 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.255 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.256 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.257 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-08 16:04:51.258 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.260 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:04:51.261 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.262 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:04:51.263 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.266 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:04:51.267 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.269 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:04:51.270 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.272 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:04:51.273 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.274 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:04:51.275 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.277 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:04:51.278 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.280 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:04:51.281 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.282 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-08 16:04:51.283 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.286 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:04:51.287 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.288 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:04:51.289 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.291 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:04:51.293 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.294 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:04:51.295 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.296 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:04:51.297 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.301 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.302 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.303 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:04:51.303 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.306 +07:00 [DBG] Compiling query expression: 
'DbSet<CourseClass>()
    .Include(cc => cc.Subject)
    .Include(cc => cc.Semester)
    .Where(cc => cc.SemesterId == __semesterId_0)'
2025-08-08 16:04:51.307 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.309 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 16:04:51.310 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.311 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-08 16:04:51.312 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.315 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.316 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.317 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.318 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.319 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.319 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        WHERE c.SemesterId == @__semesterId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        WHERE c.SemesterId == @__semesterId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CourseClass entity;
        Subject entity;
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CourseClass instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CourseClass);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CourseClass)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Subject instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Subject);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Subject)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<Name>k__BackingField = dataReader.GetString(10);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Semester instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Semester);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Semester)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Semester")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(14);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(15);
                                instance.<Name>k__BackingField = dataReader.GetString(16);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(17);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Subject>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<Semester>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 16:04:51.320 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.325 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.326 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.327 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:04:51.328 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.329 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:04:51.329 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.330 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.331 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.333 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.334 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:51.336 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:04:51.337 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.338 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:04:51.339 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 161ms reading results.
2025-08-08 16:04:51.340 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:04:51.342 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.344 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:04:51.344 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:04:51.351 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:04:51.353 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:04:51.353 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.356 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:04:51.357 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-08 16:04:51.357 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:04:51.359 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.359 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:04:51.360 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:04:51.361 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:04:51.364 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.Models.Subject, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:04:51.367 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:04:51.368 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 266.9211ms
2025-08-08 16:04:51.370 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:04:51.371 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:04:51.372 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:04:51.373 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:04:51.373 +07:00 [DBG] Connection id "0HNEMB17EBJ01" received FIN.
2025-08-08 16:04:51.374 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:04:51.375 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.376 +07:00 [DBG] Connection id "0HNEMB17EBJ01" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:04:51.377 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:04:51.378 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:04:51.380 +07:00 [DBG] Connection id "0HNEMB17EBJ01" disconnecting.
2025-08-08 16:04:51.381 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:04:51.383 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 327.277ms
2025-08-08 16:04:51.386 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 111.3724ms
2025-08-08 16:04:51.389 +07:00 [DBG] Connection id "0HNEMB17EBJ01" stopped.
2025-08-08 16:04:51.390 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:04:51.392 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:04:51.393 +07:00 [DBG] Connection id "0HNEMB17EBJ02" received FIN.
2025-08-08 16:04:51.393 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:51.394 +07:00 [DBG] Connection id "0HNEMB17EBJ02" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:04:51.395 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:04:51.397 +07:00 [DBG] Connection id "0HNEMB17EBJ02" disconnecting.
2025-08-08 16:04:51.398 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 173.387ms
2025-08-08 16:04:51.401 +07:00 [DBG] Connection id "0HNEMB17EBJ02" stopped.
2025-08-08 16:04:53.167 +07:00 [DBG] Connection id "0HNEMB17EBJ03" accepted.
2025-08-08 16:04:53.169 +07:00 [DBG] Connection id "0HNEMB17EBJ03" started.
2025-08-08 16:04:53.173 +07:00 [DBG] Connection 0HNEMB17EBJ03 established using the following protocol: "Tls13"
2025-08-08 16:04:53.175 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=4 - null null
2025-08-08 16:04:53.178 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-08 16:04:53.180 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-08 16:04:53.182 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-08 16:04:53.184 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:04:53.185 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:04:53.186 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:04:53.187 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:04:53.189 +07:00 [DBG] Authorization was successful.
2025-08-08 16:04:53.190 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:04:53.191 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-08 16:04:53.193 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:04:53.195 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:04:53.196 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:04:53.197 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:04:53.199 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:04:53.200 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:04:53.202 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:04:53.203 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:04:53.205 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-08 16:04:53.206 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:04:53.207 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:04:53.208 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:04:53.210 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:04:53.211 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:04:53.213 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:04:53.214 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:04:53.215 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:53.216 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:53.218 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:04:53.219 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:04:53.220 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:04:53.221 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:04:53.225 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:04:53.229 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:53.230 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:53.232 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:53.233 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:53.234 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:53.235 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:53.238 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:53.239 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:53.240 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:53.242 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:53.243 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:53.245 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:53.247 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:04:53.248 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 19ms reading results.
2025-08-08 16:04:53.249 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:53.251 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:04:53.254 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:04:53.256 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:04:53.257 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:04:53.258 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:04:53.259 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:04:53.260 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:04:53.261 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 61.0804ms
2025-08-08 16:04:53.263 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:04:53.264 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:04:53.265 +07:00 [DBG] Connection id "0HNEMB17EBJ03" received FIN.
2025-08-08 16:04:53.268 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:53.268 +07:00 [DBG] Connection id "0HNEMB17EBJ03" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:04:53.270 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:04:53.271 +07:00 [DBG] Connection id "0HNEMB17EBJ03" disconnecting.
2025-08-08 16:04:53.273 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=4 - 200 null application/json; charset=utf-8 97.905ms
2025-08-08 16:04:53.276 +07:00 [DBG] Connection id "0HNEMB17EBJ03" stopped.
2025-08-08 16:04:56.397 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/me - null null
2025-08-08 16:04:56.401 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 16:04:56.403 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:04:56.404 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:04:56.405 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:04:56.406 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:04:56.407 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:04:56.408 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/me - 204 null null 11.3212ms
2025-08-08 16:04:56.415 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/me - null null
2025-08-08 16:04:56.418 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 16:04:56.420 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)' with route pattern 'api/student/me' is valid for the request path '/api/student/me'
2025-08-08 16:04:56.421 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:04:56.423 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:04:56.424 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:04:56.426 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:04:56.427 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:04:56.428 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:04:56.429 +07:00 [DBG] Authorization was successful.
2025-08-08 16:04:56.431 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:04:56.432 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:04:56.434 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:04:56.435 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:04:56.436 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:04:56.438 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:04:56.440 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:04:56.441 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:04:56.443 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:04:56.445 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:04:56.448 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:04:56.449 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:04:56.450 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:56.452 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:56.454 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:04:56.455 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:04:56.457 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:04:56.458 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 16:04:56.466 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 16:04:56.469 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:56.470 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:56.471 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:56.472 +07:00 [DBG] The navigation 'Student.Department' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:56.474 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:56.475 +07:00 [DBG] The navigation 'Student.Program' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:56.476 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:04:56.477 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:04:56.478 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 9ms reading results.
2025-08-08 16:04:56.480 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:56.482 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:04:56.483 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:04:56.485 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:04:56.485 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:04:56.486 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:04:56.488 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:04:56.489 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentDto'.
2025-08-08 16:04:56.491 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI) in 49.2783ms
2025-08-08 16:04:56.492 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:04:56.494 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:04:56.495 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:04:56.497 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:04:56.498 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/me - 200 null application/json; charset=utf-8 83.556ms
2025-08-08 16:05:06.488 +07:00 [DBG] Connection id "0HNEMB17EBJ04" accepted.
2025-08-08 16:05:06.489 +07:00 [DBG] Connection id "0HNEMB17EBJ04" started.
2025-08-08 16:05:06.495 +07:00 [DBG] Connection 0HNEMB17EBJ04 established using the following protocol: "Tls13"
2025-08-08 16:05:06.496 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:05:06.499 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:05:06.501 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:05:06.504 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:05:06.505 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:05:06.506 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:05:06.507 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:05:06.508 +07:00 [DBG] Authorization was successful.
2025-08-08 16:05:06.509 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:05:06.510 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:05:06.512 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:05:06.513 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:05:06.515 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:05:06.517 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:05:06.519 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:05:06.520 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:05:06.522 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:05:06.524 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:05:06.526 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:05:06.528 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:05:06.530 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:05:06.533 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:05:06.535 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:05:06.536 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:05:06.538 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:05:06.539 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:05:06.540 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:05:06.542 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:05:06.544 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:05:06.544 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:05:06.545 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:06.547 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:06.548 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:05:06.549 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:05:06.551 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:05:06.552 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:05:06.561 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:05:06.564 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:05:06.565 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:05:06.566 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:06.567 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:05:06.569 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:06.571 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:06.572 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:05:06.573 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:05:06.574 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:05:06.575 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:05:06.581 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:05:06.583 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:05:06.584 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:05:06.586 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:06.588 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:05:06.589 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:05:06.591 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:05:06.592 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:05:06.593 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:05:06.593 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:05:06.595 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:05:06.596 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 75.5746ms
2025-08-08 16:05:06.598 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:05:06.599 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:05:06.600 +07:00 [DBG] Connection id "0HNEMB17EBJ04" received FIN.
2025-08-08 16:05:06.600 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:06.601 +07:00 [DBG] Connection id "0HNEMB17EBJ04" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:05:06.603 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:05:06.604 +07:00 [DBG] Connection id "0HNEMB17EBJ04" disconnecting.
2025-08-08 16:05:06.606 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 109.2301ms
2025-08-08 16:05:06.609 +07:00 [DBG] Connection id "0HNEMB17EBJ04" stopped.
2025-08-08 16:05:36.491 +07:00 [DBG] Connection id "0HNEMB17EBJ05" accepted.
2025-08-08 16:05:36.493 +07:00 [DBG] Connection id "0HNEMB17EBJ05" started.
2025-08-08 16:05:36.498 +07:00 [DBG] Connection 0HNEMB17EBJ05 established using the following protocol: "Tls13"
2025-08-08 16:05:36.499 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:05:36.502 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:05:36.503 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:05:36.504 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:05:36.506 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:05:36.506 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:05:36.507 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:05:36.508 +07:00 [DBG] Authorization was successful.
2025-08-08 16:05:36.509 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:05:36.511 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:05:36.513 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:05:36.514 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:05:36.516 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:05:36.518 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:05:36.519 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:05:36.520 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:05:36.522 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:05:36.523 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:05:36.525 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:05:36.526 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:05:36.528 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:05:36.529 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:05:36.531 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:05:36.533 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:05:36.534 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:05:36.535 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:05:36.536 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:05:36.538 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:05:36.540 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:05:36.541 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:05:36.542 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:36.543 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:36.545 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:05:36.546 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:05:36.547 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:05:36.549 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:05:36.553 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:05:36.559 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:05:36.560 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:05:36.562 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:36.563 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:05:36.566 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:36.568 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:36.569 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:05:36.570 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:05:36.572 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:05:36.574 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:05:36.577 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:05:36.580 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:05:36.581 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:05:36.582 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:36.584 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:05:36.585 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:05:36.588 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:05:36.589 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:05:36.589 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:05:36.590 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:05:36.591 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:05:36.593 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 72.6018ms
2025-08-08 16:05:36.594 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:05:36.596 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:05:36.597 +07:00 [DBG] Connection id "0HNEMB17EBJ05" received FIN.
2025-08-08 16:05:36.597 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:36.598 +07:00 [DBG] Connection id "0HNEMB17EBJ05" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:05:36.600 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:05:36.601 +07:00 [DBG] Connection id "0HNEMB17EBJ05" disconnecting.
2025-08-08 16:05:36.602 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 103.1911ms
2025-08-08 16:05:36.607 +07:00 [DBG] Connection id "0HNEMB17EBJ05" stopped.
2025-08-08 16:05:42.291 +07:00 [DBG] Connection id "0HNEMB17EBJ06" accepted.
2025-08-08 16:05:42.293 +07:00 [DBG] Connection id "0HNEMB17EBJ06" started.
2025-08-08 16:05:42.296 +07:00 [DBG] Connection id "0HNEMB17EBJ07" accepted.
2025-08-08 16:05:42.302 +07:00 [DBG] Connection id "0HNEMB17EBJ07" started.
2025-08-08 16:05:42.305 +07:00 [DBG] Connection 0HNEMB17EBJ06 established using the following protocol: "Tls13"
2025-08-08 16:05:42.314 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-08 16:05:42.317 +07:00 [DBG] Connection 0HNEMB17EBJ07 established using the following protocol: "Tls13"
2025-08-08 16:05:42.318 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 16:05:42.320 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-08 16:05:42.321 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-08 16:05:42.325 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-08 16:05:42.327 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:05:42.328 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-08 16:05:42.330 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:05:42.332 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:05:42.333 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:05:42.334 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:05:42.335 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:05:42.336 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:05:42.338 +07:00 [DBG] Authorization was successful.
2025-08-08 16:05:42.339 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:05:42.340 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:05:42.341 +07:00 [DBG] Authorization was successful.
2025-08-08 16:05:42.342 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-08 16:05:42.343 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:05:42.345 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:05:42.346 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:05:42.348 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:05:42.349 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:05:42.352 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:05:42.353 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:05:42.355 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:05:42.356 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:05:42.359 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:05:42.361 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:05:42.362 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 16:05:42.363 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:05:42.366 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 16:05:42.367 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:05:42.369 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:05:42.369 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:05:42.371 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:05:42.373 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:05:42.373 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:05:42.375 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:05:42.376 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.376 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:05:42.378 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.379 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.381 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:05:42.383 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.384 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:05:42.385 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:05:42.386 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:05:42.387 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:05:42.389 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 16:05:42.391 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-08 16:05:42.398 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 16:05:42.399 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:05:42.402 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.409 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.410 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.412 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.413 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:05:42.414 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 12ms reading results.
2025-08-08 16:05:42.416 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.418 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.420 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.421 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-08 16:05:42.423 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.424 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:05:42.425 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.428 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:05:42.430 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.431 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:05:42.432 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.434 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:05:42.435 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.436 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:05:42.437 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.439 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:05:42.441 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.443 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 81.1086ms
2025-08-08 16:05:42.444 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.445 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:05:42.447 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.449 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:05:42.450 +07:00 [DBG] Connection id "0HNEMB17EBJ06" received FIN.
2025-08-08 16:05:42.451 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.452 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.454 +07:00 [DBG] Connection id "0HNEMB17EBJ06" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:05:42.459 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-08 16:05:42.458 +07:00 [DBG] Connection id "0HNEMB17EBJ08" accepted.
2025-08-08 16:05:42.456 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.466 +07:00 [DBG] Connection id "0HNEMB17EBJ06" disconnecting.
2025-08-08 16:05:42.467 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 153.1856ms
2025-08-08 16:05:42.469 +07:00 [DBG] Connection id "0HNEMB17EBJ08" started.
2025-08-08 16:05:42.471 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.474 +07:00 [DBG] Connection id "0HNEMB17EBJ06" stopped.
2025-08-08 16:05:42.477 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.479 +07:00 [DBG] Connection 0HNEMB17EBJ08 established using the following protocol: "Tls13"
2025-08-08 16:05:42.481 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.482 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-08 16:05:42.484 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.486 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-08 16:05:42.487 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.488 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-08 16:05:42.489 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.491 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-08 16:05:42.492 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.493 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:05:42.495 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.496 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:05:42.498 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.499 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:05:42.500 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.501 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:05:42.502 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.504 +07:00 [DBG] Authorization was successful.
2025-08-08 16:05:42.505 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.506 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:05:42.507 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.508 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-08 16:05:42.509 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.512 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:05:42.513 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.514 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:05:42.515 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.517 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:05:42.519 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.520 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:05:42.522 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.523 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:05:42.525 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.526 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:05:42.527 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.529 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:05:42.529 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.532 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:05:42.533 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.534 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-08 16:05:42.535 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.537 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:05:42.539 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.540 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:05:42.541 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.542 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:05:42.544 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.545 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:05:42.546 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.548 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:05:42.549 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.550 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:05:42.552 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.554 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:05:42.555 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.556 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:05:42.557 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.558 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.560 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.561 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.562 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.563 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:05:42.564 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.566 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:05:42.568 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.569 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-08 16:05:42.571 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.572 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:05:42.574 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.579 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:05:42.579 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.581 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.583 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.584 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:05:42.585 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.587 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.588 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.589 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:05:42.591 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:42.592 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:05:42.593 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.595 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:05:42.596 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 180ms reading results.
2025-08-08 16:05:42.597 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:05:42.599 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.599 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:05:42.601 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:05:42.602 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:05:42.603 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:05:42.604 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:05:42.606 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:05:42.609 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 82.7568ms
2025-08-08 16:05:42.609 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:05:42.611 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:05:42.611 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:05:42.612 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:05:42.613 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:05:42.613 +07:00 [DBG] Connection id "0HNEMB17EBJ08" received FIN.
2025-08-08 16:05:42.615 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.616 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.Models.Subject, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:05:42.617 +07:00 [DBG] Connection id "0HNEMB17EBJ08" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:05:42.618 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:05:42.620 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 252.8684ms
2025-08-08 16:05:42.622 +07:00 [DBG] Connection id "0HNEMB17EBJ08" disconnecting.
2025-08-08 16:05:42.623 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 141.1848ms
2025-08-08 16:05:42.625 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:05:42.629 +07:00 [DBG] Connection id "0HNEMB17EBJ08" stopped.
2025-08-08 16:05:42.630 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:05:42.631 +07:00 [DBG] Connection id "0HNEMB17EBJ07" received FIN.
2025-08-08 16:05:42.632 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:42.633 +07:00 [DBG] Connection id "0HNEMB17EBJ07" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:05:42.635 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:05:42.636 +07:00 [DBG] Connection id "0HNEMB17EBJ07" disconnecting.
2025-08-08 16:05:42.638 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 317.7863ms
2025-08-08 16:05:42.643 +07:00 [DBG] Connection id "0HNEMB17EBJ07" stopped.
2025-08-08 16:05:45.554 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-08 16:05:45.557 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:05:45.559 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:05:45.561 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:05:45.561 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:05:45.562 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:05:45.563 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:05:45.564 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 9.5218ms
2025-08-08 16:05:45.567 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-08 16:05:45.571 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:05:45.572 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-08 16:05:45.575 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:05:45.576 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:05:45.577 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:05:45.578 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:05:45.578 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:05:45.580 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:05:45.582 +07:00 [DBG] Authorization was successful.
2025-08-08 16:05:45.583 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:05:45.584 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:05:45.588 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:05:45.590 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:05:45.594 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:05:45.597 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:05:45.599 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:05:45.602 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:05:45.603 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:05:45.605 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:05:45.609 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:05:45.610 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:05:45.611 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:45.612 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:45.613 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:05:45.615 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:05:45.617 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:05:45.618 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:05:45.628 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:05:45.631 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.632 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.634 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.636 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.638 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.639 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.640 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.642 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.644 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.645 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.647 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.648 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.650 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.652 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.653 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.654 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.656 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.658 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.659 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.661 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.662 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.664 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.666 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.667 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.668 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.670 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.672 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.673 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.675 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.676 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.678 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.679 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.681 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.682 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.683 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.685 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.687 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.688 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.689 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.692 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.693 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.694 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.696 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.697 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.700 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.701 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.702 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.704 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.706 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.708 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.709 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.710 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.712 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.714 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.715 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.716 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.718 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.720 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.722 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.723 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.724 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.726 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.728 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.729 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.731 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.733 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.734 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.736 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.737 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.738 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:45.740 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:05:45.742 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 110ms reading results.
2025-08-08 16:05:45.744 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:45.745 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:05:45.747 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:05:45.750 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:05:45.751 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:05:45.752 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:05:45.753 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:05:45.755 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:05:45.757 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 154.9494ms
2025-08-08 16:05:45.759 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:05:45.760 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:05:45.762 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:45.763 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:05:45.765 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 197.9848ms
2025-08-08 16:05:56.155 +07:00 [DBG] Connection id "0HNEMB17EBJ09" accepted.
2025-08-08 16:05:56.156 +07:00 [DBG] Connection id "0HNEMB17EBJ09" started.
2025-08-08 16:05:56.158 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-08 16:05:56.162 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:05:56.162 +07:00 [DBG] Connection 0HNEMB17EBJ09 established using the following protocol: "Tls13"
2025-08-08 16:05:56.163 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:05:56.165 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:05:56.166 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:05:56.169 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:05:56.169 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:05:56.171 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:05:56.173 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:05:56.175 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:05:56.176 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:05:56.177 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:05:56.178 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 20.9626ms
2025-08-08 16:05:56.181 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-08 16:05:56.179 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:05:56.185 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:05:56.186 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:05:56.187 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-08 16:05:56.189 +07:00 [DBG] Authorization was successful.
2025-08-08 16:05:56.190 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:05:56.191 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:05:56.192 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:05:56.193 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:05:56.194 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:05:56.196 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:05:56.196 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:05:56.199 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:05:56.200 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:05:56.201 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:05:56.202 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:05:56.204 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:05:56.206 +07:00 [DBG] Authorization was successful.
2025-08-08 16:05:56.207 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:05:56.208 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:05:56.209 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:05:56.210 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:05:56.212 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:05:56.214 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:05:56.215 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:05:56.217 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:05:56.218 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:05:56.220 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:05:56.221 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:05:56.223 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:05:56.225 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:05:56.227 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:05:56.229 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:05:56.230 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:05:56.232 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:05:56.234 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:05:56.235 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:05:56.237 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:05:56.237 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:05:56.240 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:05:56.241 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:05:56.242 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 16:05:56.244 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:05:56.244 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.246 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:05:56.247 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.249 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:05:56.250 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:05:56.251 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:05:56.252 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:05:56.253 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.255 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:05:56.257 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.258 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:05:56.260 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:05:56.264 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:05:56.266 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-08 16:05:56.269 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.271 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-08-08 16:05:56.272 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.273 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:05:56.275 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.278 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:05:56.280 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.282 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.284 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.285 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:05:56.286 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.287 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.289 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.290 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-08 16:05:56.291 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.293 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.294 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.295 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.296 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.298 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:05:56.299 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.299 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:05:56.300 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.302 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:05:56.303 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.304 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:05:56.305 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.308 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:05:56.309 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.311 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.312 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.313 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:05:56.314 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.316 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.318 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.319 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:05:56.320 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.321 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:05:56.323 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.325 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:05:56.327 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.327 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:05:56.328 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.329 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:05:56.331 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.332 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:05:56.333 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.334 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:05:56.335 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.337 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 127.8617ms
2025-08-08 16:05:56.339 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.340 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:05:56.341 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.342 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:05:56.343 +07:00 [DBG] Connection id "0HNEMB17EBJ09" received FIN.
2025-08-08 16:05:56.344 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.346 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.347 +07:00 [DBG] Connection id "0HNEMB17EBJ09" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:05:56.348 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.349 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:05:56.351 +07:00 [DBG] Connection id "0HNEMB17EBJ09" disconnecting.
2025-08-08 16:05:56.352 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.354 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 188.8948ms
2025-08-08 16:05:56.356 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.360 +07:00 [DBG] Connection id "0HNEMB17EBJ09" stopped.
2025-08-08 16:05:56.361 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.363 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.365 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.366 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.368 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.369 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.370 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.372 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.373 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.375 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.376 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.377 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.378 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.380 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.381 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.383 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.384 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.385 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.387 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.388 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.389 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.390 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.391 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.393 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.395 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.396 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.397 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.398 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.400 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.401 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.402 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.404 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.405 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.406 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.408 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.409 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.410 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.411 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.412 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:05:56.414 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.415 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 146ms reading results.
2025-08-08 16:05:56.417 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.418 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:05:56.420 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:05:56.422 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:05:56.423 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:05:56.424 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:05:56.425 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:05:56.426 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:05:56.428 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 197.5854ms
2025-08-08 16:05:56.430 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:05:56.431 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:05:56.432 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:05:56.434 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:05:56.436 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 255.7473ms
2025-08-08 16:06:08.034 +07:00 [DBG] Connection id "0HNEMB17EBJ0A" accepted.
2025-08-08 16:06:08.035 +07:00 [DBG] Connection id "0HNEMB17EBJ0A" started.
2025-08-08 16:06:08.043 +07:00 [DBG] Connection 0HNEMB17EBJ0A established using the following protocol: "Tls13"
2025-08-08 16:06:08.045 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-08 16:06:08.049 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-08 16:06:08.051 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-08 16:06:08.054 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:06:08.056 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:06:08.057 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:06:08.059 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:06:08.061 +07:00 [DBG] Authorization was successful.
2025-08-08 16:06:08.063 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:06:08.065 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:06:08.067 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:06:08.070 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:06:08.072 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:06:08.075 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:06:08.077 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:06:08.079 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:06:08.081 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:06:08.084 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:06:08.087 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:06:08.088 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:06:08.090 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:08.092 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:08.094 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:06:08.096 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:06:08.098 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:06:08.100 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:06:08.115 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:06:08.118 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.120 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.121 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.124 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.126 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.127 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.129 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.131 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.133 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.134 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.136 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.139 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.141 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.143 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.144 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.146 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.148 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.151 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.154 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.156 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.158 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.160 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.162 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.164 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.167 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.169 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.172 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.174 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.176 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.178 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.180 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.182 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.184 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.186 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.188 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.189 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.192 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.194 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.196 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.198 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.201 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.203 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.204 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.207 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.209 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.211 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.214 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.216 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.218 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.220 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.222 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.224 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.225 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.227 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.228 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:08.229 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:06:08.230 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 112ms reading results.
2025-08-08 16:06:08.231 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:08.232 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:06:08.235 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:06:08.237 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:06:08.238 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:06:08.238 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:06:08.239 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:06:08.241 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.Models.Subject, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:06:08.242 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 163.4538ms
2025-08-08 16:06:08.244 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:06:08.245 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:06:08.246 +07:00 [DBG] Connection id "0HNEMB17EBJ0A" received FIN.
2025-08-08 16:06:08.246 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:08.248 +07:00 [DBG] Connection id "0HNEMB17EBJ0A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:06:08.249 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:06:08.250 +07:00 [DBG] Connection id "0HNEMB17EBJ0A" disconnecting.
2025-08-08 16:06:08.252 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 206.8697ms
2025-08-08 16:06:08.257 +07:00 [DBG] Connection id "0HNEMB17EBJ0A" stopped.
2025-08-08 16:06:10.230 +07:00 [DBG] Connection id "0HNEMB17EBJ0B" accepted.
2025-08-08 16:06:10.232 +07:00 [DBG] Connection id "0HNEMB17EBJ0B" started.
2025-08-08 16:06:10.236 +07:00 [DBG] Connection 0HNEMB17EBJ0B established using the following protocol: "Tls13"
2025-08-08 16:06:10.237 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/Score/my/subject/2 - null null
2025-08-08 16:06:10.239 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Score/my/subject/2'
2025-08-08 16:06:10.240 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetMyScoreBySubject (StudentManagementAPI)' with route pattern 'api/Score/my/subject/{subjectId}' is valid for the request path '/api/Score/my/subject/2'
2025-08-08 16:06:10.242 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetMyScoreBySubject (StudentManagementAPI)'
2025-08-08 16:06:10.243 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:06:10.244 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:06:10.245 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:06:10.246 +07:00 [DBG] Authorization was successful.
2025-08-08 16:06:10.246 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetMyScoreBySubject (StudentManagementAPI)'
2025-08-08 16:06:10.250 +07:00 [INF] Route matched with {action = "GetMyScoreBySubject", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyScoreBySubject(Int32) on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-08 16:06:10.252 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:06:10.253 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:06:10.254 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:06:10.256 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:06:10.258 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:06:10.259 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 16:06:10.260 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 16:06:10.261 +07:00 [DBG] Attempting to bind parameter 'subjectId' of type 'System.Int32' ...
2025-08-08 16:06:10.263 +07:00 [DBG] Attempting to bind parameter 'subjectId' of type 'System.Int32' using the name 'subjectId' in request data ...
2025-08-08 16:06:10.265 +07:00 [DBG] Done attempting to bind parameter 'subjectId' of type 'System.Int32'.
2025-08-08 16:06:10.266 +07:00 [DBG] Done attempting to bind parameter 'subjectId' of type 'System.Int32'.
2025-08-08 16:06:10.267 +07:00 [DBG] Attempting to validate the bound parameter 'subjectId' of type 'System.Int32' ...
2025-08-08 16:06:10.268 +07:00 [DBG] Done attempting to validate the bound parameter 'subjectId' of type 'System.Int32'.
2025-08-08 16:06:10.288 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:06:10.292 +07:00 [DBG] Compiling query expression: 
'DbSet<Score>()
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.Student)
    .ThenInclude(s => s.User)
    .Include(s => s.Enrollment.CourseClass)
    .ThenInclude(c => c.Subject)
    .FirstOrDefault(s => s.Enrollment.StudentId == __studentId_0 && s.Enrollment.CourseClass.SubjectId == __subjectId_1)'
2025-08-08 16:06:10.295 +07:00 [DBG] Including navigation: 'Score.Enrollment'.
2025-08-08 16:06:10.297 +07:00 [DBG] Including navigation: 'Enrollment.Student'.
2025-08-08 16:06:10.299 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-08 16:06:10.300 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-08 16:06:10.301 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 16:06:10.315 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Score>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Score>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
                1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
                2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
                3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
                4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
                5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
            SELECT TOP(1) s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode
            FROM Scores AS s
            INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            INNER JOIN Students AS s0 ON e.StudentId == s0.Id
            INNER JOIN Users AS u ON s0.Id == u.Id
            INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
            WHERE (e.StudentId == @__studentId_0) && (c.SubjectId == @__subjectId_1)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
                1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
                2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
                3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
                4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
                5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
            SELECT TOP(1) s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode
            FROM Scores AS s
            INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            INNER JOIN Students AS s0 ON e.StudentId == s0.Id
            INNER JOIN Users AS u ON s0.Id == u.Id
            INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
            WHERE (e.StudentId == @__studentId_0) && (c.SubjectId == @__subjectId_1), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Score entity;
            Enrollment entity;
            Student entity;
            User entity;
            CourseClass entity;
            Subject entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Score instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Score);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Score.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Score)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]: 
                            {
                                return 
                                {
                                    Score instance;
                                    instance = new Score();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<EnrollmentId>k__BackingField = dataReader.GetInt32(1);
                                    instance.<Final>k__BackingField = dataReader.IsDBNull(2) ? default(double?) : (double?)dataReader.GetDouble(2);
                                    instance.<Midterm>k__BackingField = dataReader.IsDBNull(3) ? default(double?) : (double?)dataReader.GetDouble(3);
                                    instance.<Other>k__BackingField = dataReader.IsDBNull(4) ? default(double?) : (double?)dataReader.GetDouble(4);
                                    instance.<Total>k__BackingField = dataReader.GetDouble(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Score)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Enrollment instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Enrollment);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Enrollment)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Enrollment")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Enrollment")]: 
                            {
                                return 
                                {
                                    Enrollment instance;
                                    instance = new Enrollment();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                    instance.<CourseClassId>k__BackingField = dataReader.GetInt32(7);
                                    instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(8);
                                    instance.<StudentId>k__BackingField = dataReader.GetInt32(9);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Enrollment)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                Student instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(Student);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(10) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (Student)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]: 
                            {
                                return 
                                {
                                    Student instance;
                                    instance = new Student();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(10);
                                    instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(11);
                                    instance.<DepartmentId>k__BackingField = dataReader.GetInt32(12);
                                    instance.<Gender>k__BackingField = dataReader.GetString(13);
                                    instance.<ProgramId>k__BackingField = dataReader.GetInt32(14);
                                    instance.<StudentCode>k__BackingField = dataReader.GetString(15);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext3.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Student)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            entity = 
            {
                MaterializationContext materializationContext4;
                IEntityType entityType4;
                User instance4;
                InternalEntityEntry entry4;
                bool hasNullKey4;
                materializationContext4 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance4 = default(User);
                entry4 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey4);
                !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                {
                    entityType4 = entry4.EntityType;
                    return instance4 = (User)entry4.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot4;
                    shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                    instance4 = switch (entityType4)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<FullName>k__BackingField = dataReader.GetString(18);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                    instance.<Role>k__BackingField = dataReader.GetString(21);
                                    instance.<Username>k__BackingField = dataReader.GetString(22);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext4.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType4, 
                        entity: instance4, 
                        snapshot: shadowSnapshot4);
                    return instance4;
                } : default(void);
                return instance4;
            };
            entity = 
            {
                MaterializationContext materializationContext5;
                IEntityType entityType5;
                CourseClass instance5;
                InternalEntityEntry entry5;
                bool hasNullKey5;
                materializationContext5 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance5 = default(CourseClass);
                entry5 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey5);
                !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                {
                    entityType5 = entry5.EntityType;
                    return instance5 = (CourseClass)entry5.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot5;
                    shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType5 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CourseClass")];
                    instance5 = switch (entityType5)
                    {
                        case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CourseClass")]: 
                            {
                                return 
                                {
                                    CourseClass instance;
                                    instance = new CourseClass();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                    instance.<ClassCode>k__BackingField = dataReader.GetString(24);
                                    instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25);
                                    instance.<Schedule>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(27);
                                    instance.<SubjectId>k__BackingField = dataReader.GetInt32(28);
                                    instance.<TeacherId>k__BackingField = dataReader.GetInt32(29);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext5.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(CourseClass)
                    }
                    ;
                    entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType5, 
                        entity: instance5, 
                        snapshot: shadowSnapshot5);
                    return instance5;
                } : default(void);
                return instance5;
            };
            entity = 
            {
                MaterializationContext materializationContext6;
                IEntityType entityType6;
                Subject instance6;
                InternalEntityEntry entry6;
                bool hasNullKey6;
                materializationContext6 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance6 = default(Subject);
                entry6 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(30) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey6);
                !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                {
                    entityType6 = entry6.EntityType;
                    return instance6 = (Subject)entry6.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot6;
                    shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType6 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                    instance6 = switch (entityType6)
                    {
                        case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                            {
                                return 
                                {
                                    Subject instance;
                                    instance = new Subject();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(30);
                                    instance.<Credit>k__BackingField = dataReader.GetInt32(31);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(32) ? default(string) : dataReader.GetString(32);
                                    instance.<Name>k__BackingField = dataReader.GetString(33);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(34);
                                    instance.<SubjectCode>k__BackingField = dataReader.GetString(35);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext6.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Subject)
                    }
                    ;
                    entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType6, 
                        entity: instance6, 
                        snapshot: shadowSnapshot6);
                    return instance6;
                } : default(void);
                return instance6;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
                fixup: (namelessParameter{20}, namelessParameter{21}) => 
                {
                    namelessParameter{20}.<User>k__BackingField = namelessParameter{21};
                    return namelessParameter{21}.<Student>k__BackingField = namelessParameter{20};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, Student>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Enrollment.Student (Student) ToPrincipal Student Inverse: Enrollments | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Student")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Student.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: Student | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments")], 
                fixup: (namelessParameter{24}, namelessParameter{25}) => 
                {
                    namelessParameter{24}.<Student>k__BackingField = namelessParameter{25};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Student, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                        entity: namelessParameter{25}, 
                        value: namelessParameter{24}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{27} => namelessParameter{27}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{29}, namelessParameter{30}) => 
                {
                    namelessParameter{29}.<Subject>k__BackingField = namelessParameter{30};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{30}, 
                        value: namelessParameter{29}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{32} => namelessParameter{32}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
                fixup: (namelessParameter{34}, namelessParameter{35}) => 
                {
                    namelessParameter{34}.<CourseClass>k__BackingField = namelessParameter{35};
                    return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                        entity: namelessParameter{35}, 
                        value: namelessParameter{34}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Score, Score, Enrollment>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Score.Enrollment (Enrollment) ToPrincipal Enrollment Inverse: Score | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindNavigation("Enrollment")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.Score (Score) ToDependent Score Inverse: Enrollment | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Score")], 
                fixup: (namelessParameter{39}, namelessParameter{40}) => 
                {
                    namelessParameter{39}.<Enrollment>k__BackingField = namelessParameter{40};
                    return namelessParameter{40}.<Score>k__BackingField = namelessParameter{39};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 16:06:10.328 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:06:10.330 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:06:10.332 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:10.334 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:10.335 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:06:10.336 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:06:10.338 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:06:10.340 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
WHERE [e].[StudentId] = @__studentId_0 AND [c].[SubjectId] = @__subjectId_1
2025-08-08 16:06:10.363 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__studentId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
WHERE [e].[StudentId] = @__studentId_0 AND [c].[SubjectId] = @__subjectId_1
2025-08-08 16:06:10.368 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:10.381 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:10.384 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:10.386 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:10.387 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:10.388 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:10.390 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:10.392 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:10.393 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:10.394 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:10.396 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:06:10.397 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:06:10.399 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 32ms reading results.
2025-08-08 16:06:10.401 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:10.402 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:06:10.405 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:06:10.407 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:06:10.408 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:06:10.409 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:06:10.410 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:06:10.411 +07:00 [INF] Executing OkObjectResult, writing value of type 'ScoreDto'.
2025-08-08 16:06:10.420 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetMyScoreBySubject (StudentManagementAPI) in 160.8499ms
2025-08-08 16:06:10.422 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetMyScoreBySubject (StudentManagementAPI)'
2025-08-08 16:06:10.423 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:06:10.424 +07:00 [DBG] Connection id "0HNEMB17EBJ0B" received FIN.
2025-08-08 16:06:10.424 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:10.426 +07:00 [DBG] Connection id "0HNEMB17EBJ0B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:06:10.427 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:06:10.429 +07:00 [DBG] Connection id "0HNEMB17EBJ0B" disconnecting.
2025-08-08 16:06:10.431 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/Score/my/subject/2 - 200 null application/json; charset=utf-8 193.8552ms
2025-08-08 16:06:10.435 +07:00 [DBG] Connection id "0HNEMB17EBJ0B" stopped.
2025-08-08 16:06:26.956 +07:00 [DBG] Connection id "0HNEMB17EBJ0C" accepted.
2025-08-08 16:06:26.958 +07:00 [DBG] Connection id "0HNEMB17EBJ0C" started.
2025-08-08 16:06:26.962 +07:00 [DBG] Connection 0HNEMB17EBJ0C established using the following protocol: "Tls13"
2025-08-08 16:06:26.963 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:06:26.965 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:06:26.967 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:06:26.968 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:06:26.969 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:06:26.971 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:06:26.972 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:06:26.973 +07:00 [DBG] Authorization was successful.
2025-08-08 16:06:26.974 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:06:26.975 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:06:26.976 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:06:26.978 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:06:26.979 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:06:26.981 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:06:26.983 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:06:26.984 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:06:26.986 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:06:26.987 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:06:26.988 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:06:26.989 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:06:26.991 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:06:26.993 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:06:26.995 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:06:26.996 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:06:26.998 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:06:26.999 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:06:27.000 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:06:27.002 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:06:27.004 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:06:27.005 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:06:27.006 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:27.007 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:27.009 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:06:27.009 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:06:27.011 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:06:27.012 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:06:27.019 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:06:27.021 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:06:27.022 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:06:27.024 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:27.025 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:06:27.027 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:27.028 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:27.030 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:06:27.031 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:06:27.032 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:06:27.033 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:06:27.039 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:06:27.041 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:06:27.042 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:06:27.043 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:27.044 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:06:27.046 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:06:27.048 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:06:27.048 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:06:27.049 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:06:27.050 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:06:27.051 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:06:27.052 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 67.6823ms
2025-08-08 16:06:27.053 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:06:27.055 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:06:27.056 +07:00 [DBG] Connection id "0HNEMB17EBJ0C" received FIN.
2025-08-08 16:06:27.057 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:27.058 +07:00 [DBG] Connection id "0HNEMB17EBJ0C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:06:27.059 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:06:27.060 +07:00 [DBG] Connection id "0HNEMB17EBJ0C" disconnecting.
2025-08-08 16:06:27.061 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 98.1639ms
2025-08-08 16:06:27.065 +07:00 [DBG] Connection id "0HNEMB17EBJ0C" stopped.
2025-08-08 16:06:56.956 +07:00 [DBG] Connection id "0HNEMB17EBJ0D" accepted.
2025-08-08 16:06:56.962 +07:00 [DBG] Connection id "0HNEMB17EBJ0D" started.
2025-08-08 16:06:56.967 +07:00 [DBG] Connection 0HNEMB17EBJ0D established using the following protocol: "Tls13"
2025-08-08 16:06:56.971 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:06:56.974 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:06:56.975 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:06:56.976 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:06:56.977 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:06:56.978 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:06:56.978 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:06:56.979 +07:00 [DBG] Authorization was successful.
2025-08-08 16:06:56.980 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:06:56.981 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:06:56.982 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:06:56.984 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:06:56.985 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:06:56.987 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:06:56.988 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:06:56.990 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:06:56.991 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:06:56.992 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:06:56.994 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:06:56.995 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:06:56.997 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:06:56.998 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:06:57.000 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:06:57.001 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:06:57.002 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:06:57.003 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:06:57.004 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:06:57.006 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:06:57.008 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:06:57.008 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:06:57.009 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:57.010 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:57.011 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:06:57.012 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:06:57.013 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:06:57.014 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:06:57.018 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:06:57.021 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:06:57.022 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:06:57.023 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:57.025 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:06:57.027 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:57.028 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:57.029 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:06:57.030 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:06:57.032 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:06:57.033 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:06:57.036 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:06:57.038 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:06:57.039 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:06:57.041 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:57.042 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:06:57.044 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:06:57.045 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:06:57.046 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:06:57.046 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:06:57.047 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:06:57.048 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:06:57.049 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 59.4735ms
2025-08-08 16:06:57.051 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:06:57.052 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:06:57.053 +07:00 [DBG] Connection id "0HNEMB17EBJ0D" received FIN.
2025-08-08 16:06:57.054 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:06:57.055 +07:00 [DBG] Connection id "0HNEMB17EBJ0D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:06:57.056 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:06:57.057 +07:00 [DBG] Connection id "0HNEMB17EBJ0D" disconnecting.
2025-08-08 16:06:57.059 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 87.3632ms
2025-08-08 16:06:57.064 +07:00 [DBG] Connection id "0HNEMB17EBJ0D" stopped.
2025-08-08 16:07:13.381 +07:00 [DBG] Connection id "0HNEMB17EBJ0E" accepted.
2025-08-08 16:07:13.384 +07:00 [DBG] Connection id "0HNEMB17EBJ0E" started.
2025-08-08 16:07:13.390 +07:00 [DBG] Connection 0HNEMB17EBJ0E established using the following protocol: "Tls13"
2025-08-08 16:07:13.392 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:07:13.395 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:07:13.397 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:07:13.399 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:07:13.401 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:07:13.402 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:07:13.404 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:07:13.406 +07:00 [DBG] Authorization was successful.
2025-08-08 16:07:13.407 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:07:13.408 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:07:13.411 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:07:13.413 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:07:13.414 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:07:13.416 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:07:13.418 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:07:13.420 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:07:13.422 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:07:13.424 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:07:13.426 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:07:13.428 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:07:13.430 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:07:13.432 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:07:13.434 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:07:13.435 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:07:13.436 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:07:13.438 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:07:13.440 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:07:13.442 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:07:13.444 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:07:13.445 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:07:13.447 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:13.448 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:13.449 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:07:13.450 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:07:13.452 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:07:13.455 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:07:13.462 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:07:13.464 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:07:13.466 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:07:13.469 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:13.471 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:07:13.475 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:13.477 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:13.478 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:07:13.479 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:07:13.482 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:07:13.483 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:07:13.489 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:07:13.492 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:07:13.493 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:07:13.495 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:13.497 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:07:13.499 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:07:13.501 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:07:13.503 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:07:13.503 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:07:13.504 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:07:13.505 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:07:13.507 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 86.3611ms
2025-08-08 16:07:13.509 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:07:13.511 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:07:13.511 +07:00 [DBG] Connection id "0HNEMB17EBJ0E" received FIN.
2025-08-08 16:07:13.512 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:13.513 +07:00 [DBG] Connection id "0HNEMB17EBJ0E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:07:13.515 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:07:13.517 +07:00 [DBG] Connection id "0HNEMB17EBJ0E" disconnecting.
2025-08-08 16:07:13.518 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 125.8361ms
2025-08-08 16:07:13.523 +07:00 [DBG] Connection id "0HNEMB17EBJ0E" stopped.
2025-08-08 16:07:14.907 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-08 16:07:14.921 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:07:14.923 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:07:14.924 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:07:14.926 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:07:14.927 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:07:14.928 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:07:14.929 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 21.8456ms
2025-08-08 16:07:14.935 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-08 16:07:14.939 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:07:14.940 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-08 16:07:14.943 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:07:14.944 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:07:14.946 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:07:14.947 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:07:14.949 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:07:14.950 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:07:14.952 +07:00 [DBG] Authorization was successful.
2025-08-08 16:07:14.954 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:07:14.955 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:07:14.957 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:07:14.959 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:07:14.961 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:07:14.963 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:07:14.964 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:07:14.966 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:07:14.968 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:07:14.971 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:07:14.974 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:07:14.975 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:07:14.977 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:14.978 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:14.980 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:07:14.982 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:07:14.983 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:07:14.985 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:07:14.999 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:07:15.002 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.003 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.006 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.007 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.010 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.012 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.013 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.015 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.017 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.019 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.021 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.022 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.024 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.026 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.027 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.029 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.031 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.032 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.034 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.035 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.037 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.039 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.040 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.042 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.044 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.046 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.047 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.048 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.050 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.052 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.054 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.055 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.057 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.059 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.060 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.061 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.063 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.065 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.067 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.068 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.069 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.070 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.073 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.074 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.075 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.077 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.079 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.080 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.082 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.083 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.085 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.087 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.088 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.089 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.090 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.092 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.094 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.095 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.096 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.097 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.100 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.101 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.102 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.103 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.105 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.107 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.108 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.109 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.110 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.112 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:07:15.114 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:07:15.115 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 113ms reading results.
2025-08-08 16:07:15.117 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:15.118 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:07:15.121 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:07:15.123 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:07:15.125 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:07:15.126 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:07:15.128 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:07:15.129 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:07:15.131 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 164.3885ms
2025-08-08 16:07:15.133 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:07:15.134 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:07:15.136 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:15.137 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:07:15.139 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 204.0097ms
2025-08-08 16:07:21.619 +07:00 [DBG] Connection id "0HNEMB17EBJ0F" accepted.
2025-08-08 16:07:21.621 +07:00 [DBG] Connection id "0HNEMB17EBJ0F" started.
2025-08-08 16:07:21.627 +07:00 [DBG] Connection 0HNEMB17EBJ0F established using the following protocol: "Tls13"
2025-08-08 16:07:21.629 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=20 - null null
2025-08-08 16:07:21.634 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:07:21.635 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:07:21.638 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:07:21.639 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:07:21.640 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:07:21.641 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:07:21.642 +07:00 [DBG] Authorization was successful.
2025-08-08 16:07:21.644 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:07:21.646 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:07:21.649 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:07:21.651 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:07:21.653 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:07:21.655 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:07:21.657 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:07:21.659 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:07:21.660 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:07:21.662 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:07:21.663 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:07:21.664 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:07:21.665 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:07:21.667 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:07:21.669 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:07:21.670 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:07:21.671 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:07:21.672 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:07:21.673 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:07:21.675 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:07:21.676 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:07:21.677 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:07:21.678 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:21.679 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:21.681 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:07:21.682 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:07:21.684 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:07:21.685 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:07:21.690 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:07:21.692 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:07:21.693 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:07:21.695 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:21.696 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:07:21.698 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:21.699 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:21.701 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:07:21.703 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:07:21.705 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:07:21.706 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:07:21.711 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:07:21.713 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:07:21.714 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:07:21.716 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:21.717 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:07:21.719 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:07:21.721 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:07:21.721 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:07:21.722 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:07:21.723 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:07:21.725 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:07:21.726 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 67.3095ms
2025-08-08 16:07:21.727 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:07:21.728 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:07:21.729 +07:00 [DBG] Connection id "0HNEMB17EBJ0F" received FIN.
2025-08-08 16:07:21.730 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:21.731 +07:00 [DBG] Connection id "0HNEMB17EBJ0F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:07:21.733 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:07:21.734 +07:00 [DBG] Connection id "0HNEMB17EBJ0F" disconnecting.
2025-08-08 16:07:21.735 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=20 - 200 null application/json; charset=utf-8 105.8389ms
2025-08-08 16:07:21.739 +07:00 [DBG] Connection id "0HNEMB17EBJ0F" stopped.
2025-08-08 16:07:43.966 +07:00 [DBG] Connection id "0HNEMB17EBJ0G" accepted.
2025-08-08 16:07:43.968 +07:00 [DBG] Connection id "0HNEMB17EBJ0G" started.
2025-08-08 16:07:43.973 +07:00 [DBG] Connection 0HNEMB17EBJ0G established using the following protocol: "Tls13"
2025-08-08 16:07:43.974 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:07:43.976 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:07:43.977 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:07:43.979 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:07:43.980 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:07:43.980 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:07:43.981 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:07:43.982 +07:00 [DBG] Authorization was successful.
2025-08-08 16:07:43.983 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:07:43.984 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:07:43.985 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:07:43.986 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:07:43.988 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:07:43.990 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:07:43.991 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:07:43.992 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:07:43.993 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:07:43.994 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:07:43.996 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:07:43.998 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:07:43.999 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:07:44.000 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:07:44.002 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:07:44.003 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:07:44.004 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:07:44.005 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:07:44.006 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:07:44.008 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:07:44.010 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:07:44.010 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:07:44.011 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:44.012 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:44.013 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:07:44.014 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:07:44.015 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:07:44.016 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:07:44.019 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:07:44.022 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:07:44.023 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:07:44.024 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:44.025 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:07:44.027 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:44.028 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:44.029 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:07:44.030 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:07:44.031 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:07:44.032 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:07:44.034 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:07:44.036 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:07:44.038 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:07:44.039 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:44.040 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:07:44.041 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:07:44.043 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:07:44.044 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:07:44.044 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:07:44.045 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:07:44.046 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:07:44.047 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 55.1086ms
2025-08-08 16:07:44.048 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:07:44.049 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:07:44.050 +07:00 [DBG] Connection id "0HNEMB17EBJ0G" received FIN.
2025-08-08 16:07:44.051 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:07:44.052 +07:00 [DBG] Connection id "0HNEMB17EBJ0G" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:07:44.053 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:07:44.054 +07:00 [DBG] Connection id "0HNEMB17EBJ0G" disconnecting.
2025-08-08 16:07:44.056 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 81.4517ms
2025-08-08 16:07:44.059 +07:00 [DBG] Connection id "0HNEMB17EBJ0G" stopped.
2025-08-08 16:08:13.953 +07:00 [DBG] Connection id "0HNEMB17EBJ0H" accepted.
2025-08-08 16:08:13.959 +07:00 [DBG] Connection id "0HNEMB17EBJ0H" started.
2025-08-08 16:08:13.963 +07:00 [DBG] Connection 0HNEMB17EBJ0H established using the following protocol: "Tls13"
2025-08-08 16:08:13.965 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:08:13.967 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:08:13.967 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:08:13.969 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:08:13.970 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:08:13.971 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:08:13.971 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:08:13.972 +07:00 [DBG] Authorization was successful.
2025-08-08 16:08:13.973 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:08:13.974 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:08:13.975 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:08:13.977 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:08:13.978 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:08:13.980 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:08:13.981 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:08:13.982 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:08:13.983 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:08:13.985 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:08:13.986 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:08:13.987 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:08:13.988 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:08:13.989 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:08:13.991 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:08:13.993 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:08:13.994 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:08:13.995 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:08:13.996 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:08:13.997 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:08:13.999 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:08:14.000 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:08:14.001 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:14.002 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:14.004 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:08:14.005 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:08:14.006 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:08:14.008 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:08:14.012 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:08:14.021 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:08:14.022 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:08:14.024 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:14.025 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:08:14.027 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:14.028 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:14.029 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:08:14.030 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:08:14.032 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:08:14.033 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:08:14.036 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:08:14.038 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:08:14.040 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:08:14.041 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:14.042 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:08:14.043 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:08:14.045 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:08:14.046 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:08:14.047 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:08:14.048 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:08:14.049 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:08:14.050 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 67.7687ms
2025-08-08 16:08:14.052 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:08:14.053 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:08:14.054 +07:00 [DBG] Connection id "0HNEMB17EBJ0H" received FIN.
2025-08-08 16:08:14.054 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:14.056 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:08:14.055 +07:00 [DBG] Connection id "0HNEMB17EBJ0H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:08:14.057 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 92.8291ms
2025-08-08 16:08:14.058 +07:00 [DBG] Connection id "0HNEMB17EBJ0H" disconnecting.
2025-08-08 16:08:14.073 +07:00 [DBG] Connection id "0HNEMB17EBJ0H" stopped.
2025-08-08 16:08:43.966 +07:00 [DBG] Connection id "0HNEMB17EBJ0I" accepted.
2025-08-08 16:08:43.972 +07:00 [DBG] Connection id "0HNEMB17EBJ0I" started.
2025-08-08 16:08:43.977 +07:00 [DBG] Connection 0HNEMB17EBJ0I established using the following protocol: "Tls13"
2025-08-08 16:08:43.978 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:08:43.981 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:08:43.982 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:08:43.984 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:08:43.985 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:08:43.986 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:08:43.987 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:08:43.988 +07:00 [DBG] Authorization was successful.
2025-08-08 16:08:43.989 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:08:43.990 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:08:43.992 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:08:43.994 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:08:43.995 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:08:43.997 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:08:43.998 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:08:44.000 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:08:44.002 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:08:44.003 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:08:44.004 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:08:44.006 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:08:44.008 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:08:44.010 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:08:44.012 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:08:44.013 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:08:44.014 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:08:44.015 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:08:44.016 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:08:44.018 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:08:44.020 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:08:44.021 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:08:44.021 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:44.023 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:44.024 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:08:44.025 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:08:44.026 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:08:44.028 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:08:44.033 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:08:44.036 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:08:44.037 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:08:44.039 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:44.040 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:08:44.042 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:44.044 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:44.045 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:08:44.045 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:08:44.046 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:08:44.048 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:08:44.053 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:08:44.056 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:08:44.057 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:08:44.059 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:44.060 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:08:44.061 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:08:44.063 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:08:44.064 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:08:44.065 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:08:44.065 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:08:44.066 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:08:44.068 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 67.5918ms
2025-08-08 16:08:44.070 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:08:44.071 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:08:44.072 +07:00 [DBG] Connection id "0HNEMB17EBJ0I" received FIN.
2025-08-08 16:08:44.074 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:08:44.078 +07:00 [DBG] Connection id "0HNEMB17EBJ0I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:08:44.080 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-08 16:08:44.081 +07:00 [DBG] Connection id "0HNEMB17EBJ0I" disconnecting.
2025-08-08 16:08:44.083 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 104.5835ms
2025-08-08 16:08:44.087 +07:00 [DBG] Connection id "0HNEMB17EBJ0I" stopped.
2025-08-08 16:09:13.959 +07:00 [DBG] Connection id "0HNEMB17EBJ0J" accepted.
2025-08-08 16:09:13.965 +07:00 [DBG] Connection id "0HNEMB17EBJ0J" started.
2025-08-08 16:09:13.970 +07:00 [DBG] Connection 0HNEMB17EBJ0J established using the following protocol: "Tls13"
2025-08-08 16:09:13.971 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:09:13.974 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:09:13.975 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:09:13.976 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:09:13.977 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:09:13.978 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:09:13.979 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:09:13.980 +07:00 [DBG] Authorization was successful.
2025-08-08 16:09:13.981 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:09:13.982 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:09:13.984 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:09:13.986 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:09:13.988 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:09:13.989 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:09:13.991 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:09:13.992 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:09:13.994 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:09:13.995 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:09:13.997 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:09:13.998 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:09:14.000 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:09:14.001 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:09:14.003 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:09:14.004 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:09:14.005 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:09:14.007 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:09:14.009 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:09:14.010 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:09:14.013 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:09:14.014 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:09:14.015 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:14.016 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:14.018 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:09:14.019 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:09:14.021 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:09:14.022 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:09:14.027 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:09:14.038 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:09:14.039 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:09:14.041 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:14.042 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:09:14.044 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:14.045 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:14.047 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:09:14.047 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:09:14.049 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:09:14.050 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:09:14.053 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:09:14.056 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:09:14.058 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:09:14.059 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:14.060 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:09:14.062 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:09:14.065 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:09:14.067 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:09:14.068 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:09:14.069 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:09:14.070 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:09:14.072 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 79.7765ms
2025-08-08 16:09:14.075 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:09:14.077 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:09:14.078 +07:00 [DBG] Connection id "0HNEMB17EBJ0J" received FIN.
2025-08-08 16:09:14.079 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:14.080 +07:00 [DBG] Connection id "0HNEMB17EBJ0J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:09:14.081 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:09:14.083 +07:00 [DBG] Connection id "0HNEMB17EBJ0J" disconnecting.
2025-08-08 16:09:14.084 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 112.9303ms
2025-08-08 16:09:14.088 +07:00 [DBG] Connection id "0HNEMB17EBJ0J" stopped.
2025-08-08 16:09:43.966 +07:00 [DBG] Connection id "0HNEMB17EBJ0K" accepted.
2025-08-08 16:09:43.972 +07:00 [DBG] Connection id "0HNEMB17EBJ0K" started.
2025-08-08 16:09:43.976 +07:00 [DBG] Connection 0HNEMB17EBJ0K established using the following protocol: "Tls13"
2025-08-08 16:09:43.978 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:09:43.980 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:09:43.981 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:09:43.983 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:09:43.983 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:09:43.984 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:09:43.985 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:09:43.986 +07:00 [DBG] Authorization was successful.
2025-08-08 16:09:43.986 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:09:43.987 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:09:43.990 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:09:43.991 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:09:43.992 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:09:43.993 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:09:43.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:09:43.997 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:09:43.998 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:09:44.000 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:09:44.001 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:09:44.002 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:09:44.004 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:09:44.005 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:09:44.007 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:09:44.008 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:09:44.010 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:09:44.011 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:09:44.012 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:09:44.013 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:09:44.015 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:09:44.016 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:09:44.017 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:44.018 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:44.019 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:09:44.020 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:09:44.021 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:09:44.022 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:09:44.033 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:09:44.035 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:09:44.037 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:09:44.038 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:44.039 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:09:44.041 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:44.042 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:44.044 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:09:44.045 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:09:44.046 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:09:44.048 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:09:44.054 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:09:44.057 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:09:44.058 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:09:44.060 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:44.061 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (0ms).
2025-08-08 16:09:44.062 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:09:44.064 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:09:44.065 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:09:44.066 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:09:44.067 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:09:44.068 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:09:44.069 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 72.6028ms
2025-08-08 16:09:44.071 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:09:44.073 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:09:44.074 +07:00 [DBG] Connection id "0HNEMB17EBJ0K" received FIN.
2025-08-08 16:09:44.075 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:09:44.081 +07:00 [DBG] Connection id "0HNEMB17EBJ0K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:09:44.082 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-08 16:09:44.084 +07:00 [DBG] Connection id "0HNEMB17EBJ0K" disconnecting.
2025-08-08 16:09:44.085 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 107.8325ms
2025-08-08 16:09:44.090 +07:00 [DBG] Connection id "0HNEMB17EBJ0K" stopped.
2025-08-08 16:10:02.148 +07:00 [DBG] Connection id "0HNEMB17EBJ0L" accepted.
2025-08-08 16:10:02.150 +07:00 [DBG] Connection id "0HNEMB17EBJ0L" started.
2025-08-08 16:10:02.154 +07:00 [DBG] Connection 0HNEMB17EBJ0L established using the following protocol: "Tls13"
2025-08-08 16:10:02.156 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:10:02.157 +07:00 [DBG] Connection id "0HNEMB17EBJ0M" accepted.
2025-08-08 16:10:02.166 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:10:02.167 +07:00 [DBG] Connection id "0HNEMB17EBJ0M" started.
2025-08-08 16:10:02.168 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:10:02.172 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:02.174 +07:00 [DBG] Connection 0HNEMB17EBJ0M established using the following protocol: "Tls13"
2025-08-08 16:10:02.174 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:02.175 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=20 - null null
2025-08-08 16:10:02.177 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:10:02.179 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:10:02.180 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:10:02.181 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:10:02.182 +07:00 [DBG] Authorization was successful.
2025-08-08 16:10:02.183 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:02.185 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:02.186 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:02.187 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:10:02.187 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:10:02.189 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:10:02.190 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:10:02.192 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:10:02.193 +07:00 [DBG] Authorization was successful.
2025-08-08 16:10:02.194 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:10:02.195 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:02.197 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:10:02.198 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:10:02.200 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:10:02.201 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:10:02.203 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:10:02.205 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:10:02.206 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:10:02.208 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:10:02.209 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:10:02.211 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:10:02.212 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:10:02.214 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:10:02.215 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:10:02.217 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:10:02.219 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:10:02.221 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:10:02.222 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:10:02.223 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:10:02.225 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:10:02.227 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:10:02.228 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:10:02.230 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:10:02.231 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:10:02.233 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:10:02.235 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:10:02.236 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:10:02.237 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:10:02.240 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:10:02.241 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:10:02.242 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:10:02.244 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:10:02.245 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:10:02.246 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:10:02.248 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:10:02.249 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.250 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:10:02.252 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.254 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:10:02.254 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:02.256 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:10:02.257 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:10:02.258 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:10:02.260 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:10:02.261 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.262 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:10:02.263 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.266 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:10:02.268 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:02.270 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.271 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:10:02.272 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:10:02.274 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:10:02.275 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.276 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:10:02.277 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:10:02.280 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:10:02.284 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.285 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.286 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.288 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:10:02.289 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:02.290 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.291 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:10:02.292 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:10:02.293 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:10:02.295 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.296 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:10:02.297 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.299 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:10:02.300 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:02.303 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.303 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:10:02.304 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:10:02.305 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:10:02.306 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.307 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:10:02.309 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:10:02.311 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:10:02.312 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:10:02.313 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.316 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:10:02.317 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-08 16:10:02.317 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:10:02.319 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.319 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:10:02.320 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:10:02.321 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:10:02.323 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:10:02.324 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:10:02.325 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:10:02.326 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 123.8275ms
2025-08-08 16:10:02.327 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:10:02.329 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:02.330 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:10:02.331 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:10:02.331 +07:00 [DBG] Connection id "0HNEMB17EBJ0L" received FIN.
2025-08-08 16:10:02.332 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:10:02.333 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.334 +07:00 [DBG] Connection id "0HNEMB17EBJ0L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:10:02.335 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:10:02.337 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:10:02.338 +07:00 [DBG] Connection id "0HNEMB17EBJ0L" disconnecting.
2025-08-08 16:10:02.339 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 122.8431ms
2025-08-08 16:10:02.341 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 184.948ms
2025-08-08 16:10:02.343 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:02.347 +07:00 [DBG] Connection id "0HNEMB17EBJ0L" stopped.
2025-08-08 16:10:02.347 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:10:02.348 +07:00 [DBG] Connection id "0HNEMB17EBJ0M" received FIN.
2025-08-08 16:10:02.350 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:02.351 +07:00 [DBG] Connection id "0HNEMB17EBJ0M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:10:02.352 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:10:02.353 +07:00 [DBG] Connection id "0HNEMB17EBJ0M" disconnecting.
2025-08-08 16:10:02.354 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=20 - 200 null application/json; charset=utf-8 179.072ms
2025-08-08 16:10:02.358 +07:00 [DBG] Connection id "0HNEMB17EBJ0M" stopped.
2025-08-08 16:10:29.400 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-08 16:10:29.407 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 16:10:29.409 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:10:29.410 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:29.410 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:10:29.411 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:10:29.412 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:10:29.413 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 13.1266ms
2025-08-08 16:10:29.416 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-08 16:10:29.419 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 16:10:29.421 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-08 16:10:29.423 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:10:29.424 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:29.424 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:10:29.425 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:10:29.426 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:10:29.427 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:10:29.428 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:10:29.430 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 16:10:29.431 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:10:29.432 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:10:29.433 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:10:29.435 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:10:29.437 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:10:29.438 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:10:29.439 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:10:29.440 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:10:29.442 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 16:10:29.443 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 16:10:29.444 +07:00 [DBG] Connection id "0HNEMB17EBIVT", Request id "0HNEMB17EBIVT:00000023": started reading request body.
2025-08-08 16:10:29.446 +07:00 [DBG] Connection id "0HNEMB17EBIVT", Request id "0HNEMB17EBIVT:00000023": done reading request body.
2025-08-08 16:10:29.447 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 16:10:29.447 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:10:29.449 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:10:29.450 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:10:29.452 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:10:29.453 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: student1
2025-08-08 16:10:29.454 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:10:29.456 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:10:29.457 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:10:29.458 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.459 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.460 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:29.461 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:10:29.462 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:10:29.464 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:10:29.469 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:10:29.476 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:29.477 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.479 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:10:29.480 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.482 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:10:29.484 +07:00 [INF] 🔓 Login successful for user: student1
2025-08-08 16:10:29.485 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.487 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.488 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:29.489 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:10:29.491 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:10:29.492 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 16:10:29.496 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 16:10:29.499 +07:00 [DBG] The navigation 'User.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:29.500 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:29.501 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.502 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-08 16:10:29.504 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.506 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:10:29.507 +07:00 [INF] ✅ Đăng nhập thành công cho user: student1
2025-08-08 16:10:29.508 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:10:29.510 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:10:29.511 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:10:29.513 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:10:29.514 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:10:29.515 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 16:10:29.516 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 78.2129ms
2025-08-08 16:10:29.518 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:10:29.519 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:10:29.521 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.522 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:10:29.523 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 107.8593ms
2025-08-08 16:10:29.623 +07:00 [DBG] Connection id "0HNEMB17EBJ0N" accepted.
2025-08-08 16:10:29.624 +07:00 [DBG] Connection id "0HNEMB17EBJ0N" started.
2025-08-08 16:10:29.635 +07:00 [DBG] Connection 0HNEMB17EBJ0N established using the following protocol: "Tls13"
2025-08-08 16:10:29.637 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:10:29.639 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:10:29.641 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:10:29.643 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:29.644 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:29.646 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:10:29.647 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:10:29.648 +07:00 [DBG] Authorization was successful.
2025-08-08 16:10:29.649 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:29.651 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:10:29.652 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:10:29.654 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:10:29.655 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:10:29.657 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:10:29.659 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:10:29.660 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:10:29.662 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:10:29.663 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:10:29.665 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:10:29.667 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:10:29.669 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:10:29.670 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:10:29.672 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:10:29.674 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:10:29.675 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:10:29.676 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:10:29.678 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:10:29.679 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:10:29.681 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:10:29.682 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:10:29.683 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.685 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.686 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:29.687 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:10:29.688 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:10:29.689 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:10:29.693 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:10:29.697 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.699 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:10:29.700 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.702 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:10:29.705 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.706 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.708 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:29.709 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:10:29.711 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:10:29.712 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:10:29.715 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:10:29.717 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.719 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:10:29.721 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.723 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:10:29.725 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:10:29.727 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:10:29.728 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:10:29.729 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:10:29.730 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:10:29.731 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:10:29.732 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 71.466ms
2025-08-08 16:10:29.734 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:29.736 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:10:29.737 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:29.737 +07:00 [DBG] Connection id "0HNEMB17EBJ0N" received FIN.
2025-08-08 16:10:29.739 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:10:29.740 +07:00 [DBG] Connection id "0HNEMB17EBJ0N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:10:29.742 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 104.8841ms
2025-08-08 16:10:29.743 +07:00 [DBG] Connection id "0HNEMB17EBJ0N" disconnecting.
2025-08-08 16:10:29.748 +07:00 [DBG] Connection id "0HNEMB17EBJ0N" stopped.
2025-08-08 16:10:33.074 +07:00 [DBG] Connection id "0HNEMB17EBJ0O" accepted.
2025-08-08 16:10:33.076 +07:00 [DBG] Connection id "0HNEMB17EBJ0O" started.
2025-08-08 16:10:33.082 +07:00 [DBG] Connection 0HNEMB17EBJ0O established using the following protocol: "Tls13"
2025-08-08 16:10:33.084 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=20 - null null
2025-08-08 16:10:33.088 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:10:33.090 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:10:33.092 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:33.095 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:33.096 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:10:33.098 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:10:33.100 +07:00 [DBG] Authorization was successful.
2025-08-08 16:10:33.101 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:33.103 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:10:33.106 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:10:33.108 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:10:33.111 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:10:33.113 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:10:33.116 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:10:33.118 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:10:33.120 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:10:33.122 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:10:33.124 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:10:33.126 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:10:33.128 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:10:33.131 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:10:33.133 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:10:33.135 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:10:33.137 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:10:33.139 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:10:33.141 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:10:33.143 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:10:33.146 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:10:33.147 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:10:33.148 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:33.149 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:33.151 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:33.153 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:10:33.154 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:10:33.156 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:10:33.173 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:10:33.176 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:33.178 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:10:33.180 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:33.182 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:10:33.184 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:33.186 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:33.188 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:33.189 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:10:33.191 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:10:33.193 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:10:33.202 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:10:33.204 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:33.205 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:10:33.208 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:33.209 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:10:33.211 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:10:33.213 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:10:33.214 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:10:33.215 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:10:33.216 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:10:33.218 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:10:33.220 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 101.5669ms
2025-08-08 16:10:33.222 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:33.223 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:10:33.225 +07:00 [DBG] Connection id "0HNEMB17EBJ0O" received FIN.
2025-08-08 16:10:33.225 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:33.226 +07:00 [DBG] Connection id "0HNEMB17EBJ0O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:10:33.227 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:10:33.229 +07:00 [DBG] Connection id "0HNEMB17EBJ0O" disconnecting.
2025-08-08 16:10:33.230 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=20 - 200 null application/json; charset=utf-8 146.1039ms
2025-08-08 16:10:33.235 +07:00 [DBG] Connection id "0HNEMB17EBJ0O" stopped.
2025-08-08 16:10:35.421 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-08 16:10:35.427 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:10:35.429 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:10:35.431 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:35.432 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:10:35.433 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:10:35.434 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:10:35.435 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 13.5608ms
2025-08-08 16:10:35.445 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-08 16:10:35.447 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:10:35.448 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-08 16:10:35.450 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:10:35.452 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:35.453 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:10:35.454 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:10:35.455 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:10:35.457 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:10:35.458 +07:00 [DBG] Authorization was successful.
2025-08-08 16:10:35.460 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:10:35.461 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:10:35.464 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:10:35.465 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:10:35.466 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:10:35.468 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:10:35.469 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:10:35.472 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:10:35.473 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:10:35.475 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:10:35.477 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:10:35.478 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:10:35.479 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:35.481 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:35.482 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:35.482 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:10:35.484 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:10:35.486 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:10:35.509 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:10:35.511 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.513 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.514 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.515 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.516 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.517 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.519 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.521 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.522 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.523 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.524 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.525 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.527 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.528 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.529 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.530 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.531 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.533 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.535 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.536 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.537 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.538 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.539 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.541 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.542 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.543 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.545 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.546 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.548 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.549 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.550 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.551 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.553 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.554 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.556 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.557 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.558 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.559 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.561 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.562 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.563 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.564 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.565 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.566 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.568 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.570 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.571 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.572 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.573 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.574 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.575 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.577 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.578 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.579 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.580 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.582 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.583 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.584 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.586 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.587 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.588 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.590 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.591 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.592 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.593 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.595 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.596 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.598 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.599 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.600 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:35.601 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:35.603 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 91ms reading results.
2025-08-08 16:10:35.604 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:35.605 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (0ms).
2025-08-08 16:10:35.606 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:10:35.608 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:10:35.610 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:10:35.611 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:10:35.612 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:10:35.613 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:10:35.614 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 142.0122ms
2025-08-08 16:10:35.616 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:10:35.618 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:10:35.619 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:35.620 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:10:35.622 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 177.3126ms
2025-08-08 16:10:36.446 +07:00 [DBG] Connection id "0HNEMB17EBJ0P" accepted.
2025-08-08 16:10:36.448 +07:00 [DBG] Connection id "0HNEMB17EBJ0P" started.
2025-08-08 16:10:36.449 +07:00 [DBG] Connection id "0HNEMB17EBJ0Q" accepted.
2025-08-08 16:10:36.451 +07:00 [DBG] Connection id "0HNEMB17EBJ0Q" started.
2025-08-08 16:10:36.452 +07:00 [DBG] Connection 0HNEMB17EBJ0P established using the following protocol: "Tls13"
2025-08-08 16:10:36.455 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-08 16:10:36.457 +07:00 [DBG] Connection 0HNEMB17EBJ0Q established using the following protocol: "Tls13"
2025-08-08 16:10:36.458 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 16:10:36.460 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-08 16:10:36.461 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-08 16:10:36.464 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-08 16:10:36.467 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:10:36.468 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-08 16:10:36.469 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:36.472 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:10:36.473 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:10:36.474 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:36.475 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:10:36.476 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:10:36.477 +07:00 [DBG] Authorization was successful.
2025-08-08 16:10:36.478 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:10:36.479 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:10:36.480 +07:00 [DBG] Authorization was successful.
2025-08-08 16:10:36.481 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-08 16:10:36.482 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:10:36.484 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:10:36.485 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:10:36.487 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:10:36.489 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:10:36.490 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:10:36.492 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:10:36.494 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:10:36.495 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:10:36.497 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:10:36.499 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:10:36.501 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 16:10:36.502 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:10:36.505 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 16:10:36.505 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:10:36.507 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:10:36.508 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:10:36.511 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:10:36.513 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:10:36.513 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 16:10:36.515 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:10:36.516 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.517 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:10:36.519 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.520 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.522 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:36.523 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.524 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:10:36.525 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:36.527 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:10:36.528 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:10:36.529 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 16:10:36.530 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:10:36.535 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 16:10:36.537 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:10:36.539 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.545 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.549 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:10:36.550 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.552 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.553 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.555 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.556 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 17ms reading results.
2025-08-08 16:10:36.557 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.559 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.561 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.562 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-08 16:10:36.564 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.565 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:10:36.566 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.570 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:10:36.571 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.572 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:10:36.573 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.574 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:10:36.576 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.577 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:10:36.578 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.579 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:10:36.580 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.583 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 81.8653ms
2025-08-08 16:10:36.584 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.585 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:10:36.586 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.588 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:10:36.589 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.589 +07:00 [DBG] Connection id "0HNEMB17EBJ0P" received FIN.
2025-08-08 16:10:36.591 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.592 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.597 +07:00 [DBG] Connection id "0HNEMB17EBJ0R" accepted.
2025-08-08 16:10:36.597 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.595 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:10:36.593 +07:00 [DBG] Connection id "0HNEMB17EBJ0P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:10:36.604 +07:00 [DBG] Connection id "0HNEMB17EBJ0R" started.
2025-08-08 16:10:36.605 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.606 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 151.7993ms
2025-08-08 16:10:36.608 +07:00 [DBG] Connection id "0HNEMB17EBJ0P" disconnecting.
2025-08-08 16:10:36.612 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.612 +07:00 [DBG] Connection 0HNEMB17EBJ0R established using the following protocol: "Tls13"
2025-08-08 16:10:36.616 +07:00 [DBG] Connection id "0HNEMB17EBJ0P" stopped.
2025-08-08 16:10:36.618 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.619 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-08 16:10:36.621 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.623 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-08 16:10:36.625 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.626 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-08 16:10:36.627 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.629 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-08 16:10:36.631 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.633 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:10:36.634 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.635 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:36.637 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.638 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:10:36.640 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.640 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:10:36.642 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.642 +07:00 [DBG] Authorization was successful.
2025-08-08 16:10:36.644 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.645 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:10:36.646 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.647 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-08 16:10:36.648 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.650 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:10:36.652 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.654 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:10:36.655 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.656 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:10:36.658 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.660 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:10:36.661 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.662 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:10:36.663 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.666 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:10:36.667 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.668 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:10:36.670 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.671 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:10:36.673 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.674 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-08 16:10:36.675 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.677 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:10:36.678 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.680 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:10:36.681 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.683 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:10:36.684 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.686 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:10:36.687 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.688 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:10:36.689 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.691 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:10:36.692 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.694 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:10:36.695 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.696 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:10:36.697 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.698 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.700 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.701 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.702 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.703 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:36.705 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.706 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:10:36.708 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.709 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:10:36.710 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.711 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:10:36.712 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.718 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:10:36.718 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.720 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.722 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:36.723 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:10:36.724 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.725 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.726 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 174ms reading results.
2025-08-08 16:10:36.728 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-08 16:10:36.729 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.731 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:10:36.732 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:10:36.734 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:10:36.736 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:10:36.737 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:10:36.738 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:10:36.739 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:10:36.740 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:10:36.741 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:10:36.742 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:10:36.743 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:10:36.744 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:10:36.745 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 79.3254ms
2025-08-08 16:10:36.746 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.Models.Subject, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:10:36.748 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:10:36.749 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 243.9092ms
2025-08-08 16:10:36.751 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:10:36.752 +07:00 [DBG] Connection id "0HNEMB17EBJ0R" received FIN.
2025-08-08 16:10:36.752 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:10:36.753 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.755 +07:00 [DBG] Connection id "0HNEMB17EBJ0R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:10:36.756 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:10:36.757 +07:00 [DBG] Connection id "0HNEMB17EBJ0Q" received FIN.
2025-08-08 16:10:36.757 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:10:36.759 +07:00 [DBG] Connection id "0HNEMB17EBJ0R" disconnecting.
2025-08-08 16:10:36.760 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:36.761 +07:00 [DBG] Connection id "0HNEMB17EBJ0Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:10:36.763 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 143.8281ms
2025-08-08 16:10:36.765 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-08 16:10:36.767 +07:00 [DBG] Connection id "0HNEMB17EBJ0Q" disconnecting.
2025-08-08 16:10:36.771 +07:00 [DBG] Connection id "0HNEMB17EBJ0R" stopped.
2025-08-08 16:10:36.773 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 313.1611ms
2025-08-08 16:10:36.778 +07:00 [DBG] Connection id "0HNEMB17EBJ0Q" stopped.
2025-08-08 16:10:37.629 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/me - null null
2025-08-08 16:10:37.632 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 16:10:37.633 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:10:37.634 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:37.635 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:10:37.637 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:10:37.638 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:10:37.639 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/me - 204 null null 10.6364ms
2025-08-08 16:10:37.645 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/me - null null
2025-08-08 16:10:37.648 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 16:10:37.649 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)' with route pattern 'api/student/me' is valid for the request path '/api/student/me'
2025-08-08 16:10:37.652 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:10:37.654 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:37.655 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:10:37.656 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:10:37.657 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:10:37.658 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:10:37.660 +07:00 [DBG] Authorization was successful.
2025-08-08 16:10:37.661 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:10:37.662 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:10:37.663 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:10:37.665 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:10:37.667 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:10:37.668 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:10:37.670 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:10:37.672 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:10:37.673 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:10:37.675 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:10:37.677 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:10:37.678 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:10:37.679 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:37.681 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:37.682 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:10:37.683 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:10:37.684 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:10:37.686 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 16:10:37.694 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 16:10:37.696 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:37.697 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:37.699 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:37.701 +07:00 [DBG] The navigation 'Student.Department' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:37.702 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:37.703 +07:00 [DBG] The navigation 'Student.Program' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:37.705 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:10:37.707 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:10:37.708 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 11ms reading results.
2025-08-08 16:10:37.709 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:37.711 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:10:37.712 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:10:37.715 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:10:37.716 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:10:37.717 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:10:37.718 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:10:37.719 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentDto'.
2025-08-08 16:10:37.721 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI) in 49.5605ms
2025-08-08 16:10:37.723 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:10:37.724 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:10:37.725 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:10:37.726 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:10:37.728 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/me - 200 null application/json; charset=utf-8 83.9717ms
2025-08-08 16:10:59.963 +07:00 [DBG] Connection id "0HNEMB17EBJ0S" accepted.
2025-08-08 16:10:59.968 +07:00 [DBG] Connection id "0HNEMB17EBJ0S" started.
2025-08-08 16:10:59.973 +07:00 [DBG] Connection 0HNEMB17EBJ0S established using the following protocol: "Tls13"
2025-08-08 16:10:59.974 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:10:59.977 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:10:59.978 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:10:59.980 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:59.981 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:10:59.982 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:10:59.983 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:10:59.984 +07:00 [DBG] Authorization was successful.
2025-08-08 16:10:59.985 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:10:59.986 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:10:59.988 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:10:59.990 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:10:59.991 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:10:59.994 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:10:59.996 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:10:59.997 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:10:59.999 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:11:00.001 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:11:00.002 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:11:00.003 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:11:00.005 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:11:00.007 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:11:00.009 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:11:00.011 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:11:00.012 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:11:00.013 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:11:00.015 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:11:00.017 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:11:00.019 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:11:00.020 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:11:00.021 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:00.022 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:00.023 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:11:00.025 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:11:00.026 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:11:00.028 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:11:00.033 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:11:00.035 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:11:00.036 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:11:00.038 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:00.039 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:11:00.041 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:00.042 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:00.044 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:11:00.045 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:11:00.046 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:11:00.047 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:11:00.052 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:11:00.054 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:11:00.056 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:11:00.058 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:00.060 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:11:00.062 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:11:00.064 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:11:00.065 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:11:00.066 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:11:00.067 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:11:00.068 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:11:00.070 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 72.7244ms
2025-08-08 16:11:00.071 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:11:00.073 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:11:00.073 +07:00 [DBG] Connection id "0HNEMB17EBJ0S" received FIN.
2025-08-08 16:11:00.074 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:00.075 +07:00 [DBG] Connection id "0HNEMB17EBJ0S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:11:00.076 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:11:00.077 +07:00 [DBG] Connection id "0HNEMB17EBJ0S" disconnecting.
2025-08-08 16:11:00.079 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 104.723ms
2025-08-08 16:11:00.083 +07:00 [DBG] Connection id "0HNEMB17EBJ0S" stopped.
2025-08-08 16:11:14.123 +07:00 [DBG] Connection id "0HNEMB17EBJ0T" accepted.
2025-08-08 16:11:14.125 +07:00 [DBG] Connection id "0HNEMB17EBJ0T" started.
2025-08-08 16:11:14.130 +07:00 [DBG] Connection 0HNEMB17EBJ0T established using the following protocol: "Tls13"
2025-08-08 16:11:14.133 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:11:14.140 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:11:14.142 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:11:14.144 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:11:14.145 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:11:14.147 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:11:14.148 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:11:14.149 +07:00 [DBG] Authorization was successful.
2025-08-08 16:11:14.150 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:11:14.151 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:11:14.153 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:11:14.155 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:11:14.157 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:11:14.159 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:11:14.161 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:11:14.163 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:11:14.164 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:11:14.165 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:11:14.168 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:11:14.170 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:11:14.171 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:11:14.174 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:11:14.176 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:11:14.177 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:11:14.179 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:11:14.180 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:11:14.183 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:11:14.184 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:11:14.187 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:11:14.188 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:11:14.189 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:14.191 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:14.192 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:11:14.193 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:11:14.196 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:11:14.197 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:11:14.201 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:11:14.205 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:11:14.206 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:11:14.207 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:14.210 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:11:14.212 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:14.213 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:14.214 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:11:14.216 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:11:14.218 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:11:14.219 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:11:14.222 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:11:14.225 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:11:14.226 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:11:14.227 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:14.229 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:11:14.232 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:11:14.234 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:11:14.235 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:11:14.235 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:11:14.237 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:11:14.238 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:11:14.239 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 76.6247ms
2025-08-08 16:11:14.240 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:11:14.242 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:11:14.243 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:14.243 +07:00 [DBG] Connection id "0HNEMB17EBJ0T" received FIN.
2025-08-08 16:11:14.245 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:11:14.246 +07:00 [DBG] Connection id "0HNEMB17EBJ0T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:11:14.248 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 114.488ms
2025-08-08 16:11:14.249 +07:00 [DBG] Connection id "0HNEMB17EBJ0T" disconnecting.
2025-08-08 16:11:14.254 +07:00 [DBG] Connection id "0HNEMB17EBJ0T" stopped.
2025-08-08 16:11:15.499 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-08 16:11:15.504 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:11:15.505 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:11:15.507 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:11:15.508 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:11:15.510 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:11:15.511 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:11:15.512 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 12.899ms
2025-08-08 16:11:15.517 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-08 16:11:15.522 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:11:15.524 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-08 16:11:15.526 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:11:15.527 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:11:15.528 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:11:15.530 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:11:15.531 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:11:15.532 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:11:15.533 +07:00 [DBG] Authorization was successful.
2025-08-08 16:11:15.534 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:11:15.535 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:11:15.537 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:11:15.539 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:11:15.540 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:11:15.543 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:11:15.545 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:11:15.546 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:11:15.548 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:11:15.550 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:11:15.552 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:11:15.553 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:11:15.554 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:15.555 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:15.557 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:11:15.559 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:11:15.560 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:11:15.560 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:11:15.565 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:11:15.568 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.571 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.572 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.573 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.574 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.576 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.578 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.579 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.581 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.583 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.585 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.587 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.589 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.592 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.594 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.596 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.598 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.600 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.602 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.604 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.606 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.608 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.609 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.611 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.614 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.616 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.618 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.620 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.622 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.623 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.625 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.627 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.628 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.629 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.630 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.632 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.634 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.635 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.637 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.638 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.640 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.642 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.643 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.644 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.646 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.647 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.649 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.650 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.651 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.653 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.654 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.656 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.657 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.659 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.661 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.662 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.663 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.664 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.666 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.668 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.669 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.671 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.672 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.673 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.675 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.676 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.678 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.679 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.680 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.683 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:11:15.684 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:11:15.685 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 116ms reading results.
2025-08-08 16:11:15.687 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:15.688 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:11:15.690 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:11:15.693 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:11:15.693 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:11:15.695 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:11:15.696 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:11:15.697 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:11:15.699 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 152.5314ms
2025-08-08 16:11:15.700 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:11:15.702 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:11:15.704 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:15.705 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:11:15.706 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 189.9788ms
2025-08-08 16:11:44.960 +07:00 [DBG] Connection id "0HNEMB17EBJ0U" accepted.
2025-08-08 16:11:44.966 +07:00 [DBG] Connection id "0HNEMB17EBJ0U" started.
2025-08-08 16:11:44.971 +07:00 [DBG] Connection 0HNEMB17EBJ0U established using the following protocol: "Tls13"
2025-08-08 16:11:44.972 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:11:44.975 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:11:44.976 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:11:44.978 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:11:44.978 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:11:44.979 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:11:44.980 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:11:44.981 +07:00 [DBG] Authorization was successful.
2025-08-08 16:11:44.982 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:11:44.983 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:11:44.984 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:11:44.986 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:11:44.987 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:11:44.989 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:11:44.990 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:11:44.991 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:11:44.993 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:11:44.994 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:11:44.995 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:11:44.996 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:11:44.998 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:11:44.999 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:11:45.001 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:11:45.002 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:11:45.004 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:11:45.005 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:11:45.006 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:11:45.007 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:11:45.009 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:11:45.010 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:11:45.011 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:45.013 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:45.014 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:11:45.016 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:11:45.017 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:11:45.018 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:11:45.033 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:11:45.036 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:11:45.037 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:11:45.039 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:45.040 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:11:45.042 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:45.044 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:45.045 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:11:45.046 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:11:45.047 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:11:45.049 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:11:45.055 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:11:45.058 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:11:45.059 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:11:45.061 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:45.062 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:11:45.063 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:11:45.066 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:11:45.067 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:11:45.068 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:11:45.069 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:11:45.071 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:11:45.072 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 80.8608ms
2025-08-08 16:11:45.074 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:11:45.076 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:11:45.077 +07:00 [DBG] Connection id "0HNEMB17EBJ0U" received FIN.
2025-08-08 16:11:45.081 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:11:45.084 +07:00 [DBG] Connection id "0HNEMB17EBJ0U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:11:45.085 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:11:45.086 +07:00 [DBG] Connection id "0HNEMB17EBJ0U" disconnecting.
2025-08-08 16:11:45.087 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 114.9384ms
2025-08-08 16:11:45.091 +07:00 [DBG] Connection id "0HNEMB17EBJ0U" stopped.
2025-08-08 16:12:03.182 +07:00 [DBG] Connection id "0HNEMB17EBJ0V" accepted.
2025-08-08 16:12:03.184 +07:00 [DBG] Connection id "0HNEMB17EBJ0V" started.
2025-08-08 16:12:03.190 +07:00 [DBG] Connection 0HNEMB17EBJ0V established using the following protocol: "Tls13"
2025-08-08 16:12:03.192 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:12:03.194 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:12:03.195 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:12:03.197 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:12:03.199 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:12:03.200 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:12:03.201 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:12:03.203 +07:00 [DBG] Authorization was successful.
2025-08-08 16:12:03.205 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:12:03.206 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:12:03.208 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:12:03.210 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:12:03.212 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:12:03.213 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:12:03.215 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:12:03.217 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:12:03.219 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:12:03.221 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:12:03.222 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:12:03.223 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:12:03.225 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:12:03.227 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:12:03.228 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:12:03.229 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:12:03.230 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:12:03.232 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:12:03.233 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:12:03.234 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:12:03.236 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:12:03.237 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:12:03.238 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:03.240 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:03.241 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:12:03.241 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:12:03.242 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:12:03.244 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:12:03.247 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:12:03.252 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:12:03.254 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:12:03.256 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:03.257 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:12:03.259 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:03.260 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:03.261 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:12:03.263 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:12:03.264 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:12:03.265 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:12:03.269 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:12:03.272 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:12:03.273 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:12:03.275 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:03.277 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:12:03.278 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:12:03.281 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:12:03.282 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:12:03.282 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:12:03.283 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:12:03.284 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:12:03.286 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 69.022ms
2025-08-08 16:12:03.288 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:12:03.289 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:12:03.290 +07:00 [DBG] Connection id "0HNEMB17EBJ0V" received FIN.
2025-08-08 16:12:03.291 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:03.292 +07:00 [DBG] Connection id "0HNEMB17EBJ0V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:12:03.294 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:12:03.296 +07:00 [DBG] Connection id "0HNEMB17EBJ0V" disconnecting.
2025-08-08 16:12:03.297 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 104.9931ms
2025-08-08 16:12:03.302 +07:00 [DBG] Connection id "0HNEMB17EBJ0V" stopped.
2025-08-08 16:12:04.226 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-08 16:12:04.229 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:12:04.230 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:12:04.232 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:12:04.233 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:12:04.234 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:12:04.235 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:12:04.237 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 11.1933ms
2025-08-08 16:12:04.244 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-08 16:12:04.248 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:12:04.250 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-08 16:12:04.251 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:12:04.253 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:12:04.255 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:12:04.256 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:12:04.257 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:12:04.258 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:12:04.260 +07:00 [DBG] Authorization was successful.
2025-08-08 16:12:04.261 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:12:04.262 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:12:04.264 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:12:04.265 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:12:04.267 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:12:04.269 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:12:04.271 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:12:04.273 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:12:04.274 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:12:04.276 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:12:04.278 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:12:04.279 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:12:04.281 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:04.283 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:04.285 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:12:04.285 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:12:04.287 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:12:04.288 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:12:04.301 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:12:04.304 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.305 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.306 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.308 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.310 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.311 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.313 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.314 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.316 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.318 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.319 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.321 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.322 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.324 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.325 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.327 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.328 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.330 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.331 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.332 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.333 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.334 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.336 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.337 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.339 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.340 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.341 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.343 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.344 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.346 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.347 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.348 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.349 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.351 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.352 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.354 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.355 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.356 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.358 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.359 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.360 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.361 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.362 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.364 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.366 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.367 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.368 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.369 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.371 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.372 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.374 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.375 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.376 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.377 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.379 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.381 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.382 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.383 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.385 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.387 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.389 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.390 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.393 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.394 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.396 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.397 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.398 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.400 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.401 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.402 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:12:04.404 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:12:04.406 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 101ms reading results.
2025-08-08 16:12:04.408 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:04.410 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:12:04.411 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:12:04.413 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:12:04.414 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:12:04.415 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:12:04.415 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:12:04.416 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:12:04.418 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 144.8918ms
2025-08-08 16:12:04.419 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:12:04.421 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:12:04.422 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:04.424 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:12:04.425 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 180.9336ms
2025-08-08 16:12:33.970 +07:00 [DBG] Connection id "0HNEMB17EBJ10" accepted.
2025-08-08 16:12:33.976 +07:00 [DBG] Connection id "0HNEMB17EBJ10" started.
2025-08-08 16:12:33.981 +07:00 [DBG] Connection 0HNEMB17EBJ10 established using the following protocol: "Tls13"
2025-08-08 16:12:33.982 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:12:33.984 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:12:33.985 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:12:33.987 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:12:33.988 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:12:33.989 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:12:33.990 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:12:33.991 +07:00 [DBG] Authorization was successful.
2025-08-08 16:12:33.992 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:12:33.993 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:12:33.995 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:12:33.997 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:12:33.998 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:12:34.000 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:12:34.001 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:12:34.003 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:12:34.005 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:12:34.006 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:12:34.007 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:12:34.009 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:12:34.010 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:12:34.012 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:12:34.014 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:12:34.016 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:12:34.017 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:12:34.018 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:12:34.020 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:12:34.021 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:12:34.023 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:12:34.024 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:12:34.026 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:34.027 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:34.029 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:12:34.030 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:12:34.031 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:12:34.032 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:12:34.036 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:12:34.043 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:12:34.044 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:12:34.045 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:34.046 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:12:34.048 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:34.049 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:34.050 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:12:34.051 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:12:34.053 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:12:34.054 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:12:34.056 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:12:34.058 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:12:34.060 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:12:34.061 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:34.062 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:12:34.064 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:12:34.066 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:12:34.067 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:12:34.068 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:12:34.069 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:12:34.070 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:12:34.072 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 68.6968ms
2025-08-08 16:12:34.074 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:12:34.075 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:12:34.076 +07:00 [DBG] Connection id "0HNEMB17EBJ10" received FIN.
2025-08-08 16:12:34.077 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:34.078 +07:00 [DBG] Connection id "0HNEMB17EBJ10" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:12:34.080 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:12:34.081 +07:00 [DBG] Connection id "0HNEMB17EBJ10" disconnecting.
2025-08-08 16:12:34.083 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 101.0091ms
2025-08-08 16:12:34.088 +07:00 [DBG] Connection id "0HNEMB17EBJ10" stopped.
2025-08-08 16:12:46.562 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-08 16:12:46.756 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-08 16:12:47.129 +07:00 [DBG] The index {'StudentId'} was not created on entity type 'Enrollment' as the properties are already covered by the index {'StudentId', 'CourseClassId'}.
2025-08-08 16:12:47.280 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:12:47.296 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:12:47.325 +07:00 [DBG] Created DbConnection. (28ms).
2025-08-08 16:12:47.332 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:47.535 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:47.541 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-08 16:12:47.547 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2025-08-08 16:12:47.550 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2025-08-08 16:12:47.556 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 16:12:47.575 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 16:12:47.580 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:47.587 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-08 16:12:47.591 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-08 16:12:47.592 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-08-08 16:12:47.593 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2025-08-08 16:12:47.594 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:47.596 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:47.598 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 16:12:47.641 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 16:12:47.644 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:47.646 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:12:47.649 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:12:47.652 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:12:47.654 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:12:47.659 +07:00 [DBG] Hosting starting
2025-08-08 16:12:47.676 +07:00 [INF] User profile is available. Using 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 16:12:47.687 +07:00 [DBG] Reading data from file 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys\key-0dd40cb8-c696-42e2-b5ed-86cb04ecae42.xml'.
2025-08-08 16:12:47.694 +07:00 [DBG] Found key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42}.
2025-08-08 16:12:47.701 +07:00 [DBG] Considering key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} with expiration date 2025-09-17 12:16:10Z as default key.
2025-08-08 16:12:47.706 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-08 16:12:47.708 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-08 16:12:47.710 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-08 16:12:47.714 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-08 16:12:47.716 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-08 16:12:47.719 +07:00 [DBG] Using key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} as the default key.
2025-08-08 16:12:47.721 +07:00 [DBG] Key ring with default key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} was loaded during application startup.
2025-08-08 16:12:47.867 +07:00 [INF] Now listening on: https://localhost:7172
2025-08-08 16:12:47.874 +07:00 [INF] Now listening on: http://localhost:5117
2025-08-08 16:12:47.875 +07:00 [DBG] Loaded hosting startup assembly StudentManagementAPI
2025-08-08 16:12:47.876 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-08 16:12:47.877 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-08 16:12:47.878 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-08 16:12:47.976 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 16:12:47.978 +07:00 [INF] Hosting environment: Development
2025-08-08 16:12:47.979 +07:00 [INF] Content root path: C:\Users\phamv\OneDrive\Desktop\test\StudentManagement\StudentManagementAPI\StudentManagementAPI
2025-08-08 16:12:47.980 +07:00 [DBG] Hosting started
2025-08-08 16:12:47.997 +07:00 [DBG] Connection id "0HNEMBEV568CH" accepted.
2025-08-08 16:12:47.999 +07:00 [DBG] Connection id "0HNEMBEV568CH" started.
2025-08-08 16:12:48.002 +07:00 [DBG] Connection id "0HNEMBEV568CI" accepted.
2025-08-08 16:12:48.003 +07:00 [DBG] Connection id "0HNEMBEV568CI" started.
2025-08-08 16:12:48.036 +07:00 [DBG] Connection id "0HNEMBEV568CH" received FIN.
2025-08-08 16:12:48.036 +07:00 [DBG] Connection id "0HNEMBEV568CI" received FIN.
2025-08-08 16:12:48.056 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-08 16:12:48.056 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-08 16:12:48.082 +07:00 [DBG] Connection id "0HNEMBEV568CI" stopped.
2025-08-08 16:12:48.082 +07:00 [DBG] Connection id "0HNEMBEV568CH" stopped.
2025-08-08 16:12:48.085 +07:00 [DBG] Connection id "0HNEMBEV568CI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:12:48.085 +07:00 [DBG] Connection id "0HNEMBEV568CH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:12:48.233 +07:00 [DBG] Connection id "0HNEMBEV568CJ" accepted.
2025-08-08 16:12:48.238 +07:00 [DBG] Connection id "0HNEMBEV568CJ" started.
2025-08-08 16:12:48.272 +07:00 [DBG] Connection 0HNEMBEV568CJ established using the following protocol: "Tls13"
2025-08-08 16:12:48.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/index.html - null null
2025-08-08 16:12:48.441 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-08 16:12:48.473 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-08 16:12:48.475 +07:00 [DBG] Request did not match any endpoints
2025-08-08 16:12:48.516 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-08 16:12:48.518 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-08 16:12:48.540 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-08 16:12:48.542 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-08 16:12:48.547 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/index.html - 200 null text/html;charset=utf-8 212.6314ms
2025-08-08 16:12:48.582 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - null null
2025-08-08 16:12:48.592 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 9.8277ms
2025-08-08 16:12:48.611 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_vs/browserLink - null null
2025-08-08 16:12:48.658 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.8699ms
2025-08-08 16:12:48.766 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - null null
2025-08-08 16:12:48.769 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-08 16:12:48.770 +07:00 [DBG] Request did not match any endpoints
2025-08-08 16:12:48.821 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.2511ms
2025-08-08 16:13:00.781 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/auth/login - application/json 57
2025-08-08 16:13:00.793 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-08-08 16:13:00.799 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-08-08 16:13:00.804 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:13:00.808 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:13:00.811 +07:00 [DBG] The request has an origin header: 'https://localhost:7172'.
2025-08-08 16:13:00.812 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:13:00.868 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 16:13:00.875 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:13:00.900 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 16:13:00.905 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:13:00.907 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:13:00.909 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:13:00.912 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:13:00.913 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:13:00.917 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:13:00.935 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:13:00.946 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:13:00.950 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 16:13:00.953 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 16:13:00.960 +07:00 [DBG] Connection id "0HNEMBEV568CJ", Request id "0HNEMBEV568CJ:00000009": started reading request body.
2025-08-08 16:13:00.962 +07:00 [DBG] Connection id "0HNEMBEV568CJ", Request id "0HNEMBEV568CJ:00000009": done reading request body.
2025-08-08 16:13:00.973 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 16:13:00.975 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:13:00.976 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:13:00.978 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:13:00.996 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:13:01.001 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: student1
2025-08-08 16:13:01.037 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:13:01.073 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2025-08-08 16:13:01.333 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<FullName>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Role>k__BackingField = dataReader.GetString(5);
                                    instance.<Username>k__BackingField = dataReader.GetString(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 16:13:01.372 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:13:01.374 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 16:13:01.377 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:01.382 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:01.384 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:13:01.385 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:13:01.389 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:13:01.393 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:13:01.435 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:13:01.475 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:13:01.499 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:13:01.503 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 62ms reading results.
2025-08-08 16:13:01.508 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:01.510 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:13:01.513 +07:00 [INF] 🔓 Login successful for user: student1
2025-08-08 16:13:01.524 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-08-08 16:13:01.546 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Student>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Student>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            WHERE s.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            WHERE s.Id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Student entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Student instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Student);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Student)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Student")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Student")]: 
                            {
                                return 
                                {
                                    Student instance;
                                    instance = new Student();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DepartmentId>k__BackingField = dataReader.GetInt32(2);
                                    instance.<Gender>k__BackingField = dataReader.GetString(3);
                                    instance.<ProgramId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<StudentCode>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Student)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 16:13:01.552 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:01.554 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:01.556 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:13:01.558 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:13:01.561 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:13:01.563 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 16:13:01.569 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 16:13:01.594 +07:00 [DBG] The navigation 'User.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:13:01.597 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:13:01.606 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:13:01.608 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 37ms reading results.
2025-08-08 16:13:01.611 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:01.612 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:13:01.636 +07:00 [INF] ✅ Đăng nhập thành công cho user: student1
2025-08-08 16:13:01.641 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:13:01.645 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:13:01.646 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:13:01.648 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:13:01.649 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:13:01.651 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 16:13:01.660 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 741.387ms
2025-08-08 16:13:01.662 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:13:01.666 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:13:01.669 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:01.671 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:13:01.673 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/auth/login - 200 null application/json; charset=utf-8 892.4222ms
2025-08-08 16:13:52.496 +07:00 [DBG] Connection id "0HNEMBEV568CK" accepted.
2025-08-08 16:13:52.503 +07:00 [DBG] Connection id "0HNEMBEV568CK" started.
2025-08-08 16:13:52.512 +07:00 [DBG] Connection 0HNEMBEV568CK established using the following protocol: "Tls13"
2025-08-08 16:13:52.519 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-08 16:13:52.528 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 16:13:52.531 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:13:52.532 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:13:52.533 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:13:52.534 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:13:52.536 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:13:52.539 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 19.8878ms
2025-08-08 16:13:52.541 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-08 16:13:52.547 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 16:13:52.548 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-08 16:13:52.550 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:13:52.552 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:13:52.553 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:13:52.554 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:13:52.588 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:13:52.591 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:13:52.595 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:13:52.596 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 16:13:52.600 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:13:52.601 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:13:52.603 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:13:52.605 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:13:52.608 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:13:52.609 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:13:52.613 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:13:52.615 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:13:52.617 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 16:13:52.619 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 16:13:52.621 +07:00 [DBG] Connection id "0HNEMBEV568CK", Request id "0HNEMBEV568CK:00000003": started reading request body.
2025-08-08 16:13:52.623 +07:00 [DBG] Connection id "0HNEMBEV568CK", Request id "0HNEMBEV568CK:00000003": done reading request body.
2025-08-08 16:13:52.624 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 16:13:52.625 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:13:52.627 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:13:52.628 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:13:52.630 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:13:52.632 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: student1
2025-08-08 16:13:52.682 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:13:52.688 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:13:52.689 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:13:52.691 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:52.692 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:52.693 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:13:52.695 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:13:52.697 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:13:52.699 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:13:52.712 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:13:52.715 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:13:52.718 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:13:52.720 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-08 16:13:52.722 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:52.724 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:13:52.727 +07:00 [INF] 🔓 Login successful for user: student1
2025-08-08 16:13:52.729 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:52.731 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:52.732 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:13:52.734 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:13:52.736 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:13:52.738 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 16:13:52.743 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 16:13:52.747 +07:00 [DBG] The navigation 'User.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:13:52.748 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:13:52.750 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:13:52.752 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-08 16:13:52.754 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:52.755 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:13:52.758 +07:00 [INF] ✅ Đăng nhập thành công cho user: student1
2025-08-08 16:13:52.760 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:13:52.762 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:13:52.763 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:13:52.764 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:13:52.767 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:13:52.769 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 16:13:52.770 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 160.8961ms
2025-08-08 16:13:52.773 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:13:52.774 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:13:52.776 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:52.778 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:13:52.780 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 239.8398ms
2025-08-08 16:13:52.863 +07:00 [DBG] Connection id "0HNEMBEV568CL" accepted.
2025-08-08 16:13:52.865 +07:00 [DBG] Connection id "0HNEMBEV568CL" started.
2025-08-08 16:13:52.873 +07:00 [DBG] Connection 0HNEMBEV568CL established using the following protocol: "Tls13"
2025-08-08 16:13:52.882 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:13:52.886 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:13:52.887 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:13:52.890 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:13:52.893 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:13:52.897 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:13:52.898 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:13:52.907 +07:00 [DBG] Authorization was successful.
2025-08-08 16:13:52.909 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:13:52.919 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:13:52.922 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:13:52.924 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:13:52.926 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:13:52.928 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:13:52.930 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:13:52.931 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:13:53.043 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:13:53.047 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:13:53.051 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:13:53.057 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:13:53.060 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:13:53.063 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:13:53.066 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:13:53.068 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:13:53.069 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:13:53.071 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:13:53.074 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:13:53.080 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:13:53.088 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .Where(n => n.TargetRole == __role_0 || n.TargetRole == "All")
    .OrderByDescending(n => n.Id)
    .Count()'
2025-08-08 16:13:53.110 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All'), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 16:13:53.122 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:13:53.123 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:13:53.125 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:53.127 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:53.129 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:13:53.131 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:13:53.133 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:13:53.135 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:13:53.147 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:13:53.152 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:13:53.154 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-08 16:13:53.156 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:53.157 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:13:53.184 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .Where(n => n.TargetRole == __role_0 || n.TargetRole == "All")
    .OrderByDescending(n => n.Id)
    .Skip(__p_1)
    .Take(__p_2)
    .Select(dtoNotification => new NotificationDto{ 
        Id = dtoNotification.Id, 
        Title = dtoNotification.Title, 
        Content = dtoNotification.Content, 
        CreatorName = dtoNotification.Creator != null ? dtoNotification.Creator.FullName : "", 
        CreatedAt = dtoNotification.CreatedAt, 
        TargetRole = dtoNotification.TargetRole 
    }
    )'
2025-08-08 16:13:53.242 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<NotificationDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')
            ORDER BY n.Id DESC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')
            ORDER BY n.Id DESC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        DateTime? value5;
        string value6;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.GetString(2);
        value4 = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
        value5 = (DateTime?)dataReader.GetDateTime(4);
        value6 = dataReader.GetString(5);
        return new NotificationDto{ 
            Id = (int)value1, 
            Title = value2, 
            Content = value3, 
            CreatorName = value4, 
            CreatedAt = (DateTime)value5, 
            TargetRole = value6 
        }
        ;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 16:13:53.251 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:53.253 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:53.255 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:13:53.256 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:13:53.257 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:13:53.260 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:13:53.266 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:13:53.273 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:13:53.274 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-08 16:13:53.276 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:53.278 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:13:53.282 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:13:53.285 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:13:53.286 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:13:53.287 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:13:53.288 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:13:53.290 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:13:53.301 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 368.9438ms
2025-08-08 16:13:53.303 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:13:53.305 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:13:53.307 +07:00 [DBG] Connection id "0HNEMBEV568CL" received FIN.
2025-08-08 16:13:53.307 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:13:53.309 +07:00 [DBG] Connection id "0HNEMBEV568CL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:13:53.310 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:13:53.312 +07:00 [DBG] Connection id "0HNEMBEV568CL" disconnecting.
2025-08-08 16:13:53.314 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 431.4586ms
2025-08-08 16:13:53.320 +07:00 [DBG] Connection id "0HNEMBEV568CL" stopped.
2025-08-08 16:14:22.963 +07:00 [DBG] Connection id "0HNEMBEV568CM" accepted.
2025-08-08 16:14:22.965 +07:00 [DBG] Connection id "0HNEMBEV568CM" started.
2025-08-08 16:14:22.970 +07:00 [DBG] Connection 0HNEMBEV568CM established using the following protocol: "Tls13"
2025-08-08 16:14:22.972 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:14:22.975 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:14:22.976 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:14:22.977 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:14:22.979 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:14:22.980 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:14:22.981 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:14:22.983 +07:00 [DBG] Authorization was successful.
2025-08-08 16:14:22.985 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:14:22.986 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:14:22.988 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:14:22.990 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:14:22.991 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:14:22.993 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:14:22.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:14:22.996 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:14:22.998 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:14:23.000 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:14:23.001 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:14:23.004 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:14:23.005 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:14:23.007 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:14:23.009 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:14:23.011 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:14:23.012 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:14:23.013 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:14:23.014 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:14:23.016 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:14:23.019 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:14:23.020 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:14:23.021 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:23.022 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:23.024 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:14:23.025 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:14:23.026 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:14:23.028 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:14:23.033 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:14:23.040 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:14:23.041 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:14:23.043 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:23.045 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:14:23.050 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:23.052 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:23.054 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:14:23.055 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:14:23.056 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:14:23.058 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:14:23.062 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:14:23.066 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:14:23.068 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:14:23.069 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:23.071 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:14:23.073 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:14:23.075 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:14:23.076 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:14:23.077 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:14:23.077 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:14:23.079 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:14:23.080 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 83.8989ms
2025-08-08 16:14:23.082 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:14:23.084 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:14:23.085 +07:00 [DBG] Connection id "0HNEMBEV568CM" received FIN.
2025-08-08 16:14:23.086 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:23.087 +07:00 [DBG] Connection id "0HNEMBEV568CM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:14:23.089 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:14:23.090 +07:00 [DBG] Connection id "0HNEMBEV568CM" disconnecting.
2025-08-08 16:14:23.093 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 120.6472ms
2025-08-08 16:14:23.098 +07:00 [DBG] Connection id "0HNEMBEV568CM" stopped.
2025-08-08 16:14:52.968 +07:00 [DBG] Connection id "0HNEMBEV568CN" accepted.
2025-08-08 16:14:52.970 +07:00 [DBG] Connection id "0HNEMBEV568CN" started.
2025-08-08 16:14:52.976 +07:00 [DBG] Connection 0HNEMBEV568CN established using the following protocol: "Tls13"
2025-08-08 16:14:52.981 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:14:52.984 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:14:52.986 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:14:52.987 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:14:52.989 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:14:52.990 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:14:52.991 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:14:52.993 +07:00 [DBG] Authorization was successful.
2025-08-08 16:14:52.995 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:14:52.996 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:14:52.998 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:14:53.000 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:14:53.002 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:14:53.004 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:14:53.005 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:14:53.007 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:14:53.011 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:14:53.012 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:14:53.014 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:14:53.015 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:14:53.018 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:14:53.021 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:14:53.023 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:14:53.024 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:14:53.026 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:14:53.027 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:14:53.029 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:14:53.030 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:14:53.033 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:14:53.034 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:14:53.035 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:53.037 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:53.038 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:14:53.040 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:14:53.041 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:14:53.043 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:14:53.056 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:14:53.058 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:14:53.060 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:14:53.062 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:53.063 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:14:53.066 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:53.068 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:53.070 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:14:53.071 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:14:53.073 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:14:53.075 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:14:53.083 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:14:53.086 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:14:53.088 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:14:53.091 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:53.093 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:14:53.096 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:14:53.099 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:14:53.100 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:14:53.101 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:14:53.103 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:14:53.105 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:14:53.107 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 100.5449ms
2025-08-08 16:14:53.110 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:14:53.112 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:14:53.113 +07:00 [DBG] Connection id "0HNEMBEV568CN" received FIN.
2025-08-08 16:14:53.114 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:14:53.117 +07:00 [DBG] Connection id "0HNEMBEV568CN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:14:53.119 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-08 16:14:53.121 +07:00 [DBG] Connection id "0HNEMBEV568CN" disconnecting.
2025-08-08 16:14:53.124 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 142.4383ms
2025-08-08 16:14:53.130 +07:00 [DBG] Connection id "0HNEMBEV568CN" stopped.
2025-08-08 16:15:22.970 +07:00 [DBG] Connection id "0HNEMBEV568CO" accepted.
2025-08-08 16:15:22.972 +07:00 [DBG] Connection id "0HNEMBEV568CO" started.
2025-08-08 16:15:22.977 +07:00 [DBG] Connection 0HNEMBEV568CO established using the following protocol: "Tls13"
2025-08-08 16:15:22.979 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:15:22.982 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:15:22.983 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:15:22.986 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:15:22.987 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:15:22.988 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:15:22.989 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:15:22.991 +07:00 [DBG] Authorization was successful.
2025-08-08 16:15:22.992 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:15:22.993 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:15:22.995 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:15:22.997 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:15:22.999 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:15:23.002 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:15:23.003 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:15:23.005 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:15:23.007 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:15:23.009 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:15:23.010 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:15:23.012 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:15:23.015 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:15:23.017 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:15:23.019 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:15:23.021 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:15:23.023 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:15:23.024 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:15:23.026 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:15:23.028 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:15:23.030 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:15:23.031 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:15:23.032 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:23.034 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:23.036 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:15:23.037 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:15:23.039 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:15:23.040 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:15:23.055 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:15:23.058 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:15:23.059 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:15:23.060 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:23.062 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:15:23.064 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:23.065 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:23.067 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:15:23.067 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:15:23.069 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:15:23.071 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:15:23.077 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:15:23.080 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:15:23.081 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:15:23.083 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:23.085 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:15:23.086 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:15:23.089 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:15:23.090 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:15:23.091 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:15:23.092 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:15:23.094 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:15:23.095 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 90.4579ms
2025-08-08 16:15:23.097 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:15:23.099 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:15:23.100 +07:00 [DBG] Connection id "0HNEMBEV568CO" received FIN.
2025-08-08 16:15:23.104 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:23.107 +07:00 [DBG] Connection id "0HNEMBEV568CO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:15:23.108 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:15:23.110 +07:00 [DBG] Connection id "0HNEMBEV568CO" disconnecting.
2025-08-08 16:15:23.112 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 132.5563ms
2025-08-08 16:15:23.117 +07:00 [DBG] Connection id "0HNEMBEV568CO" stopped.
2025-08-08 16:15:52.972 +07:00 [DBG] Connection id "0HNEMBEV568CP" accepted.
2025-08-08 16:15:52.973 +07:00 [DBG] Connection id "0HNEMBEV568CP" started.
2025-08-08 16:15:52.978 +07:00 [DBG] Connection 0HNEMBEV568CP established using the following protocol: "Tls13"
2025-08-08 16:15:52.980 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:15:52.983 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:15:52.984 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:15:52.986 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:15:52.988 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:15:52.989 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:15:52.990 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:15:52.991 +07:00 [DBG] Authorization was successful.
2025-08-08 16:15:52.992 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:15:52.993 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:15:52.996 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:15:52.997 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:15:52.999 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:15:53.001 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:15:53.003 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:15:53.005 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:15:53.006 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:15:53.008 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:15:53.010 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:15:53.012 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:15:53.014 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:15:53.016 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:15:53.018 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:15:53.019 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:15:53.021 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:15:53.023 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:15:53.024 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:15:53.026 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:15:53.029 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:15:53.030 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:15:53.031 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:53.033 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:53.034 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:15:53.036 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:15:53.037 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:15:53.039 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:15:53.043 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:15:53.047 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:15:53.048 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:15:53.050 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:53.052 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:15:53.055 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:53.057 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:53.060 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:15:53.061 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:15:53.064 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:15:53.066 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:15:53.070 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:15:53.073 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:15:53.074 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:15:53.076 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:53.078 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:15:53.080 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:15:53.082 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:15:53.083 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:15:53.084 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:15:53.086 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:15:53.087 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:15:53.089 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 84.0282ms
2025-08-08 16:15:53.091 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:15:53.093 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:15:53.094 +07:00 [DBG] Connection id "0HNEMBEV568CP" received FIN.
2025-08-08 16:15:53.094 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:15:53.096 +07:00 [DBG] Connection id "0HNEMBEV568CP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:15:53.097 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:15:53.099 +07:00 [DBG] Connection id "0HNEMBEV568CP" disconnecting.
2025-08-08 16:15:53.100 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 120.3715ms
2025-08-08 16:15:53.104 +07:00 [DBG] Connection id "0HNEMBEV568CP" stopped.
2025-08-08 16:16:13.552 +07:00 [DBG] Connection id "0HNEMBEV568CQ" accepted.
2025-08-08 16:16:13.554 +07:00 [DBG] Connection id "0HNEMBEV568CQ" started.
2025-08-08 16:16:13.561 +07:00 [DBG] Connection 0HNEMBEV568CQ established using the following protocol: "Tls13"
2025-08-08 16:16:13.563 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:16:13.572 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:16:13.574 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:16:13.576 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:16:13.577 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:16:13.579 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:16:13.580 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:16:13.581 +07:00 [DBG] Authorization was successful.
2025-08-08 16:16:13.582 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:16:13.584 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:16:13.587 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:16:13.588 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:16:13.590 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:16:13.592 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:16:13.594 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:16:13.597 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:16:13.600 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:16:13.602 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:16:13.603 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:16:13.605 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:16:13.607 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:16:13.609 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:16:13.610 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:16:13.612 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:16:13.614 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:16:13.615 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:16:13.616 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:16:13.619 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:16:13.622 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:16:13.623 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:16:13.624 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:13.626 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:13.628 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:16:13.629 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:16:13.631 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:16:13.632 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:16:13.644 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:16:13.647 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:16:13.649 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:16:13.651 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:13.652 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:16:13.654 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:13.656 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:13.657 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:16:13.658 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:16:13.660 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:16:13.661 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:16:13.668 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:16:13.671 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:16:13.673 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:16:13.674 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:13.676 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:16:13.678 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:16:13.680 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:16:13.681 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:16:13.682 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:16:13.683 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:16:13.685 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:16:13.686 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 90.0238ms
2025-08-08 16:16:13.688 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:16:13.690 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:16:13.691 +07:00 [DBG] Connection id "0HNEMBEV568CQ" received FIN.
2025-08-08 16:16:13.691 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:13.692 +07:00 [DBG] Connection id "0HNEMBEV568CQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:16:13.694 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:16:13.695 +07:00 [DBG] Connection id "0HNEMBEV568CQ" disconnecting.
2025-08-08 16:16:13.697 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 133.4778ms
2025-08-08 16:16:13.701 +07:00 [DBG] Connection id "0HNEMBEV568CQ" stopped.
2025-08-08 16:16:17.823 +07:00 [DBG] Connection id "0HNEMBEV568CR" accepted.
2025-08-08 16:16:17.824 +07:00 [DBG] Connection id "0HNEMBEV568CR" started.
2025-08-08 16:16:17.830 +07:00 [DBG] Connection 0HNEMBEV568CR established using the following protocol: "Tls13"
2025-08-08 16:16:17.832 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:16:17.835 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:16:17.837 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:16:17.839 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:16:17.841 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:16:17.843 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:16:17.844 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:16:17.845 +07:00 [DBG] Authorization was successful.
2025-08-08 16:16:17.846 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:16:17.847 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:16:17.850 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:16:17.852 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:16:17.853 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:16:17.855 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:16:17.857 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:16:17.859 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:16:17.861 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:16:17.862 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:16:17.864 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:16:17.866 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:16:17.868 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:16:17.871 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:16:17.873 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:16:17.874 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:16:17.876 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:16:17.877 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:16:17.880 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:16:17.882 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:16:17.885 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:16:17.886 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:16:17.887 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:17.888 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:17.890 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:16:17.891 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:16:17.893 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:16:17.894 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:16:17.899 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:16:17.902 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:16:17.904 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:16:17.906 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:17.908 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:16:17.910 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:17.912 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:17.914 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:16:17.915 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:16:17.917 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:16:17.918 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:16:17.922 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:16:17.925 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:16:17.927 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:16:17.929 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:17.930 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:16:17.932 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:16:17.935 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:16:17.936 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:16:17.937 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:16:17.938 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:16:17.940 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:16:17.943 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 83.5246ms
2025-08-08 16:16:17.944 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:16:17.946 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:16:17.947 +07:00 [DBG] Connection id "0HNEMBEV568CR" received FIN.
2025-08-08 16:16:17.948 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:17.949 +07:00 [DBG] Connection id "0HNEMBEV568CR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:16:17.951 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:16:17.954 +07:00 [DBG] Connection id "0HNEMBEV568CR" disconnecting.
2025-08-08 16:16:17.956 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 124.5138ms
2025-08-08 16:16:17.962 +07:00 [DBG] Connection id "0HNEMBEV568CR" stopped.
2025-08-08 16:16:19.076 +07:00 [DBG] Connection id "0HNEMBEV568CS" accepted.
2025-08-08 16:16:19.078 +07:00 [DBG] Connection id "0HNEMBEV568CS" started.
2025-08-08 16:16:19.084 +07:00 [DBG] Connection 0HNEMBEV568CS established using the following protocol: "Tls13"
2025-08-08 16:16:19.087 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=20 - null null
2025-08-08 16:16:19.090 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:16:19.092 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:16:19.094 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:16:19.097 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:16:19.100 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:16:19.102 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:16:19.104 +07:00 [DBG] Authorization was successful.
2025-08-08 16:16:19.105 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:16:19.108 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:16:19.111 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:16:19.113 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:16:19.116 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:16:19.118 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:16:19.121 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:16:19.123 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:16:19.125 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:16:19.126 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:16:19.128 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:16:19.131 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:16:19.133 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:16:19.135 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:16:19.137 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:16:19.139 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:16:19.141 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:16:19.143 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:16:19.145 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:16:19.147 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:16:19.150 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:16:19.151 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:16:19.152 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.154 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.156 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:16:19.158 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:16:19.159 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:16:19.161 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:16:19.166 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:16:19.171 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.172 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:16:19.174 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.176 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:16:19.179 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.181 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.182 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:16:19.184 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:16:19.186 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:16:19.188 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:16:19.193 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:16:19.197 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.199 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:16:19.201 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.202 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:16:19.206 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:16:19.208 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:16:19.209 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:16:19.211 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:16:19.212 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:16:19.214 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:16:19.216 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 92.8117ms
2025-08-08 16:16:19.218 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:16:19.220 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:16:19.220 +07:00 [DBG] Connection id "0HNEMBEV568CS" received FIN.
2025-08-08 16:16:19.221 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.223 +07:00 [DBG] Connection id "0HNEMBEV568CS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:16:19.225 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:16:19.226 +07:00 [DBG] Connection id "0HNEMBEV568CS" disconnecting.
2025-08-08 16:16:19.228 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=20 - 200 null application/json; charset=utf-8 141.2211ms
2025-08-08 16:16:19.233 +07:00 [DBG] Connection id "0HNEMBEV568CS" stopped.
2025-08-08 16:16:19.601 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-08 16:16:19.605 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:16:19.607 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:16:19.609 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:16:19.610 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:16:19.612 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:16:19.613 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:16:19.615 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 14.1379ms
2025-08-08 16:16:19.623 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-08 16:16:19.628 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:16:19.629 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-08 16:16:19.632 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:16:19.633 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:16:19.634 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:16:19.636 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:16:19.638 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:16:19.639 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:16:19.640 +07:00 [DBG] Authorization was successful.
2025-08-08 16:16:19.642 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:16:19.645 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:16:19.648 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:16:19.650 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:16:19.652 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:16:19.654 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:16:19.657 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:16:19.659 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:16:19.661 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:16:19.666 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:16:19.672 +07:00 [DBG] Compiling query expression: 
'DbSet<Enrollment>()
    .Where(e => e.StudentId == __studentId_0)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Subject)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Semester)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Teacher)
    .ThenInclude(t => t.User)
    .Select(e => e.CourseClass)
    .Distinct()'
2025-08-08 16:16:19.678 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 16:16:19.681 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-08 16:16:19.683 +07:00 [DBG] Including navigation: 'CourseClass.Teacher'.
2025-08-08 16:16:19.685 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-08 16:16:19.714 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
            3 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 18], [Property: Teacher.Degree (string) Required, 19], [Property: Teacher.TeacherCode (string) Required, 20] }
            4 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: User.Email (string), 22], [Property: User.FullName (string) Required, 23], [Property: User.PasswordHash (string) Required, 24], [Property: User.Phone (string), 25], [Property: User.Role (string) Required, 26], [Property: User.Username (string) Required, 27] }
        SELECT s0.Id, s0.ClassCode, s0.MaxStudents, s0.Schedule, s0.SemesterId, s0.SubjectId, s0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s1.Id, s1.EndDate, s1.IsOpen, s1.Name, s1.StartDate, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT DISTINCT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM Enrollments AS e
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            WHERE e.StudentId == @__studentId_0
        ) AS s0
        INNER JOIN Subjects AS s ON s0.SubjectId == s.Id
        INNER JOIN Semesters AS s1 ON s0.SemesterId == s1.Id
        INNER JOIN Teachers AS t ON s0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
            3 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 18], [Property: Teacher.Degree (string) Required, 19], [Property: Teacher.TeacherCode (string) Required, 20] }
            4 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: User.Email (string), 22], [Property: User.FullName (string) Required, 23], [Property: User.PasswordHash (string) Required, 24], [Property: User.Phone (string), 25], [Property: User.Role (string) Required, 26], [Property: User.Username (string) Required, 27] }
        SELECT s0.Id, s0.ClassCode, s0.MaxStudents, s0.Schedule, s0.SemesterId, s0.SubjectId, s0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s1.Id, s1.EndDate, s1.IsOpen, s1.Name, s1.StartDate, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT DISTINCT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM Enrollments AS e
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            WHERE e.StudentId == @__studentId_0
        ) AS s0
        INNER JOIN Subjects AS s ON s0.SubjectId == s.Id
        INNER JOIN Semesters AS s1 ON s0.SemesterId == s1.Id
        INNER JOIN Teachers AS t ON s0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CourseClass entity;
        Subject entity;
        Semester entity;
        Teacher entity;
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CourseClass instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CourseClass);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CourseClass)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Subject instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Subject);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Subject)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<Name>k__BackingField = dataReader.GetString(10);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Semester instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Semester);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Semester)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Semester")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(14);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(15);
                                instance.<Name>k__BackingField = dataReader.GetString(16);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(17);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            Teacher instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(Teacher);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Teacher.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(18) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (Teacher)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                        {
                            return 
                            {
                                Teacher instance;
                                instance = new Teacher();
                                instance.<Id>k__BackingField = dataReader.GetInt32(18);
                                instance.<Degree>k__BackingField = dataReader.GetString(19);
                                instance.<TeacherCode>k__BackingField = dataReader.GetString(20);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Teacher)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            User instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(User);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(21) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (User)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("User")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(21);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<FullName>k__BackingField = dataReader.GetString(23);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(24);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(25) ? default(string) : dataReader.GetString(25);
                                instance.<Role>k__BackingField = dataReader.GetString(26);
                                instance.<Username>k__BackingField = dataReader.GetString(27);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{17}, namelessParameter{18}) => 
            {
                namelessParameter{17}.<Subject>k__BackingField = namelessParameter{18};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{18}, 
                    value: namelessParameter{17}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{22}, namelessParameter{23}) => 
            {
                namelessParameter{22}.<Semester>k__BackingField = namelessParameter{23};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{23}, 
                    value: namelessParameter{22}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
            fixup: (namelessParameter{27}, namelessParameter{28}) => 
            {
                namelessParameter{27}.<User>k__BackingField = namelessParameter{28};
                return namelessParameter{28}.<Teacher>k__BackingField = namelessParameter{27};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Teacher>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Teacher (Teacher) ToPrincipal Teacher Inverse: CourseClasses | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Teacher")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Teacher.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Teacher | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{31}, namelessParameter{32}) => 
            {
                namelessParameter{31}.<Teacher>k__BackingField = namelessParameter{32};
                return [LIFTABLE Constant: ClrICollectionAccessor<Teacher, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{32}, 
                    value: namelessParameter{31}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 16:16:19.730 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:16:19.731 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:16:19.733 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.735 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.736 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:16:19.737 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:16:19.739 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:16:19.741 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:16:19.755 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:16:19.760 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.778 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.785 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.797 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.803 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.805 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.816 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.819 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.829 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.831 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.835 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.837 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.839 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.841 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.842 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.844 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.846 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.848 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.850 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.852 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.853 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.855 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.857 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.859 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.860 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.862 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.864 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.866 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.868 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.870 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.872 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.874 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.875 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.877 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.879 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.881 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.883 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.885 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.887 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.888 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.890 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.892 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.894 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.896 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.897 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.900 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.901 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.903 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.906 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.907 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.909 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.911 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.913 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.915 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.916 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.918 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.920 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.922 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.924 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.925 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.927 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.929 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.930 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.932 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.934 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.935 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.937 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.938 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.940 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.942 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:19.944 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.945 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 187ms reading results.
2025-08-08 16:16:19.947 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.949 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:16:19.951 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:16:19.956 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:16:19.957 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:16:19.958 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:16:19.959 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:16:19.961 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:16:19.966 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 307.0158ms
2025-08-08 16:16:19.969 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:16:19.970 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:16:19.972 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:19.973 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:16:19.975 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 352.9282ms
2025-08-08 16:16:20.761 +07:00 [DBG] Connection id "0HNEMBEV568CT" accepted.
2025-08-08 16:16:20.763 +07:00 [DBG] Connection id "0HNEMBEV568CT" started.
2025-08-08 16:16:20.764 +07:00 [DBG] Connection id "0HNEMBEV568CU" accepted.
2025-08-08 16:16:20.772 +07:00 [DBG] Connection id "0HNEMBEV568CU" started.
2025-08-08 16:16:20.775 +07:00 [DBG] Connection 0HNEMBEV568CT established using the following protocol: "Tls13"
2025-08-08 16:16:20.778 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-08 16:16:20.778 +07:00 [DBG] Connection 0HNEMBEV568CU established using the following protocol: "Tls13"
2025-08-08 16:16:20.783 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 16:16:20.784 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-08 16:16:20.786 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-08 16:16:20.790 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-08 16:16:20.791 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:16:20.793 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-08 16:16:20.794 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:16:20.796 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:16:20.797 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:16:20.798 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:16:20.798 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:16:20.799 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:16:20.801 +07:00 [DBG] Authorization was successful.
2025-08-08 16:16:20.802 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:16:20.803 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:16:20.804 +07:00 [DBG] Authorization was successful.
2025-08-08 16:16:20.806 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:16:20.808 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-08 16:16:20.810 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:16:20.810 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:16:20.812 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:16:20.813 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:16:20.815 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:16:20.817 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:16:20.818 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:16:20.820 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:16:20.822 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:16:20.824 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:16:20.826 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:16:20.827 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 16:16:20.828 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:16:20.831 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 16:16:20.832 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:16:20.836 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:16:20.837 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:16:20.839 +07:00 [DBG] Compiling query expression: 
'DbSet<Semester>()
    .OrderByDescending(s => s.StartDate)'
2025-08-08 16:16:20.841 +07:00 [DBG] Compiling query expression: 
'DbSet<Enrollment>()
    .Where(e => e.StudentId == __studentId_0)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Subject)'
2025-08-08 16:16:20.844 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-08 16:16:20.846 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 16:16:20.847 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Semester>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.EndDate (DateTime) Required, 1], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 2], [Property: Semester.Name (string) Required, 3], [Property: Semester.StartDate (DateTime) Required, 4] }
        SELECT s.Id, s.EndDate, s.IsOpen, s.Name, s.StartDate
        FROM Semesters AS s
        ORDER BY s.StartDate DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.EndDate (DateTime) Required, 1], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 2], [Property: Semester.Name (string) Required, 3], [Property: Semester.StartDate (DateTime) Required, 4] }
        SELECT s.Id, s.EndDate, s.IsOpen, s.Name, s.StartDate
        FROM Semesters AS s
        ORDER BY s.StartDate DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Semester instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Semester);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Semester)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Semester")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(1);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(2);
                                instance.<Name>k__BackingField = dataReader.GetString(3);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 16:16:20.852 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:16:20.853 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:16:20.855 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:20.858 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:20.860 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:16:20.862 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:16:20.863 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:16:20.865 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 16:16:20.865 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Enrollment>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Enrollment.CourseClassId (int) Required FK Index, 1], [Property: Enrollment.EnrollDate (DateTime) Required, 2], [Property: Enrollment.StudentId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: CourseClass.ClassCode (string) Required, 5], [Property: CourseClass.MaxStudents (int?), 6], [Property: CourseClass.Schedule (string), 7], [Property: CourseClass.SemesterId (int) Required FK Index, 8], [Property: CourseClass.SubjectId (int) Required FK Index, 9], [Property: CourseClass.TeacherId (int) Required FK Index, 10] }
            2 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Subject.Credit (int) Required, 12], [Property: Subject.Description (string), 13], [Property: Subject.Name (string) Required, 14], [Property: Subject.SemesterId (int) Required FK Index, 15], [Property: Subject.SubjectCode (string) Required, 16] }
        SELECT e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode
        FROM Enrollments AS e
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        WHERE e.StudentId == @__studentId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Enrollment.CourseClassId (int) Required FK Index, 1], [Property: Enrollment.EnrollDate (DateTime) Required, 2], [Property: Enrollment.StudentId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: CourseClass.ClassCode (string) Required, 5], [Property: CourseClass.MaxStudents (int?), 6], [Property: CourseClass.Schedule (string), 7], [Property: CourseClass.SemesterId (int) Required FK Index, 8], [Property: CourseClass.SubjectId (int) Required FK Index, 9], [Property: CourseClass.TeacherId (int) Required FK Index, 10] }
            2 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Subject.Credit (int) Required, 12], [Property: Subject.Description (string), 13], [Property: Subject.Name (string) Required, 14], [Property: Subject.SemesterId (int) Required FK Index, 15], [Property: Subject.SubjectCode (string) Required, 16] }
        SELECT e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode
        FROM Enrollments AS e
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        WHERE e.StudentId == @__studentId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Enrollment entity;
        CourseClass entity;
        Subject entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Enrollment instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Enrollment);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Enrollment)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Enrollment")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(1);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(2);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            CourseClass instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(CourseClass);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(4) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (CourseClass)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CourseClass")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(4);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(5);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(6) ? default(int?) : (int?)dataReader.GetInt32(6);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(8);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(9);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Subject instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Subject);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(11) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Subject)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(11);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(12);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                instance.<Name>k__BackingField = dataReader.GetString(14);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(15);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(16);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Subject>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<CourseClass>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 16:16:20.869 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 16:16:20.877 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.879 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:16:20.880 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.881 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:16:20.882 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.883 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:20.885 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:16:20.888 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 11ms reading results.
2025-08-08 16:16:20.893 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:20.897 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-08 16:16:20.903 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:20.905 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:16:20.906 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:16:20.908 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:16:20.909 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:16:20.917 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:16:20.918 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:16:20.922 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:16:20.923 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.923 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:16:20.926 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:16:20.927 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:16:20.929 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:16:20.931 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.933 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.934 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 106.5667ms
2025-08-08 16:16:20.935 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.937 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:16:20.938 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.940 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:16:20.941 +07:00 [DBG] Connection id "0HNEMBEV568CT" received FIN.
2025-08-08 16:16:20.943 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.944 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:20.948 +07:00 [DBG] Connection id "0HNEMBEV568CV" accepted.
2025-08-08 16:16:20.945 +07:00 [DBG] Connection id "0HNEMBEV568CT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:16:20.952 +07:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-08-08 16:16:20.947 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.956 +07:00 [DBG] Connection id "0HNEMBEV568CV" started.
2025-08-08 16:16:20.958 +07:00 [DBG] Connection id "0HNEMBEV568CT" disconnecting.
2025-08-08 16:16:20.959 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 181.0392ms
2025-08-08 16:16:20.961 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.966 +07:00 [DBG] Connection 0HNEMBEV568CV established using the following protocol: "Tls13"
2025-08-08 16:16:20.969 +07:00 [DBG] Connection id "0HNEMBEV568CT" stopped.
2025-08-08 16:16:20.971 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.973 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-08 16:16:20.976 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.979 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-08 16:16:20.981 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.983 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-08 16:16:20.985 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.986 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-08 16:16:20.988 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.990 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:16:20.992 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.993 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:16:20.994 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.996 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:16:20.997 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:20.999 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:16:21.000 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.001 +07:00 [DBG] Authorization was successful.
2025-08-08 16:16:21.003 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.004 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:16:21.006 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.008 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.011 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.011 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-08 16:16:21.012 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.014 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:16:21.016 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.018 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:16:21.020 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.021 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:16:21.023 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.025 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:16:21.027 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.028 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:16:21.030 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.032 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:16:21.033 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.035 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:16:21.036 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.039 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:16:21.040 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.042 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-08 16:16:21.043 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.046 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:16:21.048 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.050 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:16:21.051 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.053 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:16:21.055 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.056 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:16:21.058 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.060 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:16:21.062 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.069 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.071 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:16:21.072 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.077 +07:00 [DBG] Compiling query expression: 
'DbSet<CourseClass>()
    .Include(cc => cc.Subject)
    .Include(cc => cc.Semester)
    .Where(cc => cc.SemesterId == __semesterId_0)'
2025-08-08 16:16:21.078 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.081 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 16:16:21.081 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.083 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-08 16:16:21.084 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.087 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.088 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.090 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.091 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.094 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.095 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.095 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        WHERE c.SemesterId == @__semesterId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        WHERE c.SemesterId == @__semesterId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CourseClass entity;
        Subject entity;
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CourseClass instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CourseClass);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CourseClass)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Subject instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Subject);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Subject)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<Name>k__BackingField = dataReader.GetString(10);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Semester instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Semester);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Semester)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Semester")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(14);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(15);
                                instance.<Name>k__BackingField = dataReader.GetString(16);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(17);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Subject>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<Semester>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 16:16:21.097 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.105 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.106 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.107 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:16:21.108 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.109 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 16:16:21.111 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.112 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:21.114 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.115 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:21.117 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.118 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:16:21.120 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.121 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:16:21.123 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:16:21.124 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:16:21.125 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 205ms reading results.
2025-08-08 16:16:21.127 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:16:21.129 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:21.136 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:16:21.136 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-08 16:16:21.138 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:16:21.142 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-08 16:16:21.143 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:16:21.143 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:21.146 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:16:21.148 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-08 16:16:21.149 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:16:21.152 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:16:21.152 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:16:21.154 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.Models.Subject, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:16:21.156 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:16:21.159 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:16:21.159 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:16:21.159 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 330.999ms
2025-08-08 16:16:21.160 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:16:21.162 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:16:21.163 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:16:21.165 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:16:21.165 +07:00 [DBG] Connection id "0HNEMBEV568CU" received FIN.
2025-08-08 16:16:21.166 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:16:21.167 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:21.169 +07:00 [DBG] Connection id "0HNEMBEV568CU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:16:21.171 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 138.8031ms
2025-08-08 16:16:21.172 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:16:21.174 +07:00 [DBG] Connection id "0HNEMBEV568CU" disconnecting.
2025-08-08 16:16:21.175 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:16:21.177 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 393.1832ms
2025-08-08 16:16:21.180 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:16:21.181 +07:00 [DBG] Connection id "0HNEMBEV568CV" received FIN.
2025-08-08 16:16:21.185 +07:00 [DBG] Connection id "0HNEMBEV568CU" stopped.
2025-08-08 16:16:21.186 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:21.188 +07:00 [DBG] Connection id "0HNEMBEV568CV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:16:21.190 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:16:21.192 +07:00 [DBG] Connection id "0HNEMBEV568CV" disconnecting.
2025-08-08 16:16:21.193 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 220.4969ms
2025-08-08 16:16:21.199 +07:00 [DBG] Connection id "0HNEMBEV568CV" stopped.
2025-08-08 16:16:21.518 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/me - null null
2025-08-08 16:16:21.522 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 16:16:21.523 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:16:21.525 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:16:21.526 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:16:21.527 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:16:21.528 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:16:21.529 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/me - 204 null null 11.3127ms
2025-08-08 16:16:21.540 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/me - null null
2025-08-08 16:16:21.546 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 16:16:21.548 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)' with route pattern 'api/student/me' is valid for the request path '/api/student/me'
2025-08-08 16:16:21.550 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:16:21.552 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:16:21.554 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:16:21.555 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:16:21.556 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:16:21.558 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:16:21.559 +07:00 [DBG] Authorization was successful.
2025-08-08 16:16:21.561 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:16:21.565 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:16:21.567 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:16:21.569 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:16:21.571 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:16:21.574 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:16:21.576 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:16:21.577 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:16:21.582 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:16:21.587 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:16:21.590 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .Include(s => s.User)
    .Include(s => s.Department)
    .Include(s => s.Program)
    .FirstOrDefault(s => s.Id == __id_0)'
2025-08-08 16:16:21.592 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-08 16:16:21.594 +07:00 [DBG] Including navigation: 'Student.Department'.
2025-08-08 16:16:21.596 +07:00 [DBG] Including navigation: 'Student.Program'.
2025-08-08 16:16:21.609 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Student>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Student>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
                2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
                3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
            FROM Students AS s
            INNER JOIN Users AS u ON s.Id == u.Id
            INNER JOIN Departments AS d ON s.DepartmentId == d.Id
            INNER JOIN EducationPrograms AS e ON s.ProgramId == e.Id
            WHERE s.Id == @__id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
                2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
                3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
            FROM Students AS s
            INNER JOIN Users AS u ON s.Id == u.Id
            INNER JOIN Departments AS d ON s.DepartmentId == d.Id
            INNER JOIN EducationPrograms AS e ON s.ProgramId == e.Id
            WHERE s.Id == @__id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Student entity;
            User entity;
            Department entity;
            EducationProgram entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Student instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Student);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Student)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Student")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Student")]: 
                            {
                                return 
                                {
                                    Student instance;
                                    instance = new Student();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DepartmentId>k__BackingField = dataReader.GetInt32(2);
                                    instance.<Gender>k__BackingField = dataReader.GetString(3);
                                    instance.<ProgramId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<StudentCode>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Student)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                User instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(User);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (User)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("User")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<FullName>k__BackingField = dataReader.GetString(8);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(9);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<Role>k__BackingField = dataReader.GetString(11);
                                    instance.<Username>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                Department instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(Department);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Department.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Department").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (Department)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Department")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Department")]: 
                            {
                                return 
                                {
                                    Department instance;
                                    instance = new Department();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                    instance.<Name>k__BackingField = dataReader.GetString(14);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext3.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Department")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Department)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            entity = 
            {
                MaterializationContext materializationContext4;
                IEntityType entityType4;
                EducationProgram instance4;
                InternalEntityEntry entry4;
                bool hasNullKey4;
                materializationContext4 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance4 = default(EducationProgram);
                entry4 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EducationProgram.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EducationProgram").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(15) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey4);
                !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                {
                    entityType4 = entry4.EntityType;
                    return instance4 = (EducationProgram)entry4.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot4;
                    shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType4 = [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("EducationProgram")];
                    instance4 = switch (entityType4)
                    {
                        case [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("EducationProgram")]: 
                            {
                                return 
                                {
                                    EducationProgram instance;
                                    instance = new EducationProgram();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(15);
                                    instance.<Name>k__BackingField = dataReader.GetString(16);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext4.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("EducationProgram")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(EducationProgram)
                    }
                    ;
                    entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType4, 
                        entity: instance4, 
                        snapshot: shadowSnapshot4);
                    return instance4;
                } : default(void);
                return instance4;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
                fixup: (namelessParameter{14}, namelessParameter{15}) => 
                {
                    namelessParameter{14}.<User>k__BackingField = namelessParameter{15};
                    return namelessParameter{15}.<Student>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, Department>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Student.Department (Department) ToPrincipal Department Inverse: Students | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("Student").FindNavigation("Department")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Department.Students (ICollection<Student>) Collection ToDependent Student Inverse: Department | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students")], 
                fixup: (namelessParameter{18}, namelessParameter{19}) => 
                {
                    namelessParameter{18}.<Department>k__BackingField = namelessParameter{19};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Department, ICollection<Student>, Student> | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students").GetCollectionAccessor()].Add(
                        entity: namelessParameter{19}, 
                        value: namelessParameter{18}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, EducationProgram>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Student.Program (EducationProgram) ToPrincipal EducationProgram Inverse: Students | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Student").FindNavigation("Program")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: EducationProgram.Students (ICollection<Student>) Collection ToDependent Student Inverse: Program | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students")], 
                fixup: (namelessParameter{23}, namelessParameter{24}) => 
                {
                    namelessParameter{23}.<Program>k__BackingField = namelessParameter{24};
                    return [LIFTABLE Constant: ClrICollectionAccessor<EducationProgram, ICollection<Student>, Student> | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students").GetCollectionAccessor()].Add(
                        entity: namelessParameter{24}, 
                        value: namelessParameter{23}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 16:16:21.617 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:16:21.618 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:16:21.619 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:21.620 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:21.622 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:16:21.624 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:16:21.625 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:16:21.626 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 16:16:21.635 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 16:16:21.638 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.640 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.642 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.645 +07:00 [DBG] The navigation 'Student.Department' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.649 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.654 +07:00 [DBG] The navigation 'Student.Program' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.657 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:16:21.661 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:16:21.663 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 25ms reading results.
2025-08-08 16:16:21.665 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:21.667 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:16:21.673 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:16:21.678 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:16:21.679 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:16:21.680 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:16:21.681 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:16:21.682 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentDto'.
2025-08-08 16:16:21.686 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI) in 109.0995ms
2025-08-08 16:16:21.688 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:16:21.690 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:16:21.691 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:21.693 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:16:21.695 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/me - 200 null application/json; charset=utf-8 155.3595ms
2025-08-08 16:16:47.956 +07:00 [DBG] Connection id "0HNEMBEV568D0" accepted.
2025-08-08 16:16:47.958 +07:00 [DBG] Connection id "0HNEMBEV568D0" started.
2025-08-08 16:16:47.963 +07:00 [DBG] Connection 0HNEMBEV568D0 established using the following protocol: "Tls13"
2025-08-08 16:16:47.965 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:16:47.968 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:16:47.969 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:16:47.971 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:16:47.972 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:16:47.972 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:16:47.973 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:16:47.974 +07:00 [DBG] Authorization was successful.
2025-08-08 16:16:47.975 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:16:47.976 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:16:47.978 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:16:47.979 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:16:47.982 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:16:47.984 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:16:47.985 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:16:47.987 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:16:47.989 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:16:47.991 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:16:47.992 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:16:47.994 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:16:47.996 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:16:47.998 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:16:48.000 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:16:48.002 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:16:48.003 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:16:48.005 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:16:48.006 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:16:48.008 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:16:48.010 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:16:48.011 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:16:48.012 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:48.014 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:48.015 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:16:48.016 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:16:48.018 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:16:48.019 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:16:48.023 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:16:48.027 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:16:48.028 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:16:48.030 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:48.032 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:16:48.034 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:48.035 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:48.037 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:16:48.039 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:16:48.040 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:16:48.042 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:16:48.044 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:16:48.047 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:16:48.049 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:16:48.050 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:48.052 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:16:48.054 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:16:48.056 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:16:48.057 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:16:48.058 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:16:48.059 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:16:48.061 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:16:48.062 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 75.2112ms
2025-08-08 16:16:48.064 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:16:48.065 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:16:48.067 +07:00 [DBG] Connection id "0HNEMBEV568D0" received FIN.
2025-08-08 16:16:48.067 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:16:48.069 +07:00 [DBG] Connection id "0HNEMBEV568D0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:16:48.070 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:16:48.071 +07:00 [DBG] Connection id "0HNEMBEV568D0" disconnecting.
2025-08-08 16:16:48.073 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 107.7176ms
2025-08-08 16:16:48.077 +07:00 [DBG] Connection id "0HNEMBEV568D0" stopped.
2025-08-08 16:17:17.957 +07:00 [DBG] Connection id "0HNEMBEV568D1" accepted.
2025-08-08 16:17:17.959 +07:00 [DBG] Connection id "0HNEMBEV568D1" started.
2025-08-08 16:17:17.963 +07:00 [DBG] Connection 0HNEMBEV568D1 established using the following protocol: "Tls13"
2025-08-08 16:17:17.965 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:17:17.968 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:17:17.969 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:17:17.971 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:17:17.972 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:17:17.973 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:17:17.974 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:17:17.976 +07:00 [DBG] Authorization was successful.
2025-08-08 16:17:17.977 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:17:17.978 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:17:17.980 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:17:17.982 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:17:17.983 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:17:17.986 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:17:17.987 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:17:17.989 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:17:17.991 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:17:17.992 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:17:17.993 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:17:17.995 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:17:17.997 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:17:17.999 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:17:18.001 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:17:18.003 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:17:18.004 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:17:18.006 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:17:18.008 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:17:18.009 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:17:18.011 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:17:18.013 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:17:18.015 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:18.016 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:18.018 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:17:18.019 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:17:18.021 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:17:18.023 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:17:18.039 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:17:18.042 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:17:18.044 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:17:18.046 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:18.048 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:17:18.050 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:18.052 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:18.053 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:17:18.055 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:17:18.056 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:17:18.057 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:17:18.064 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:17:18.066 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:17:18.067 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:17:18.069 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:18.071 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:17:18.072 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:17:18.074 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:17:18.076 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:17:18.076 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:17:18.077 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:17:18.078 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:17:18.080 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 90.8804ms
2025-08-08 16:17:18.082 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:17:18.083 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:17:18.084 +07:00 [DBG] Connection id "0HNEMBEV568D1" received FIN.
2025-08-08 16:17:18.085 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:18.086 +07:00 [DBG] Connection id "0HNEMBEV568D1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:17:18.087 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:17:18.088 +07:00 [DBG] Connection id "0HNEMBEV568D1" disconnecting.
2025-08-08 16:17:18.090 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 125.0904ms
2025-08-08 16:17:18.094 +07:00 [DBG] Connection id "0HNEMBEV568D1" stopped.
2025-08-08 16:17:47.829 +07:00 [DBG] Connection id "0HNEMBEV568D2" accepted.
2025-08-08 16:17:47.831 +07:00 [DBG] Connection id "0HNEMBEV568D2" started.
2025-08-08 16:17:47.836 +07:00 [DBG] Connection 0HNEMBEV568D2 established using the following protocol: "Tls13"
2025-08-08 16:17:47.837 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:17:47.840 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:17:47.842 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:17:47.843 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:17:47.845 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:17:47.846 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:17:47.847 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:17:47.849 +07:00 [DBG] Authorization was successful.
2025-08-08 16:17:47.850 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:17:47.851 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:17:47.853 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:17:47.855 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:17:47.857 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:17:47.859 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:17:47.860 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:17:47.862 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:17:47.864 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:17:47.865 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:17:47.867 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:17:47.869 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:17:47.871 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:17:47.873 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:17:47.875 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:17:47.877 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:17:47.878 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:17:47.880 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:17:47.881 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:17:47.884 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:17:47.886 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:17:47.887 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:17:47.888 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:47.889 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:47.890 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:17:47.891 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:17:47.893 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:17:47.895 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:17:47.900 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:17:47.907 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:17:47.908 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:17:47.910 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:47.912 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:17:47.914 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:47.916 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:47.918 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:17:47.919 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:17:47.921 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:17:47.923 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:17:47.927 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:17:47.930 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:17:47.932 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:17:47.934 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:47.935 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:17:47.938 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:17:47.940 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:17:47.941 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:17:47.941 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:17:47.942 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:17:47.943 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:17:47.945 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 83.1624ms
2025-08-08 16:17:47.947 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:17:47.948 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:17:47.949 +07:00 [DBG] Connection id "0HNEMBEV568D2" received FIN.
2025-08-08 16:17:47.950 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:17:47.951 +07:00 [DBG] Connection id "0HNEMBEV568D2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:17:47.952 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:17:47.953 +07:00 [DBG] Connection id "0HNEMBEV568D2" disconnecting.
2025-08-08 16:17:47.955 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 117.835ms
2025-08-08 16:17:47.960 +07:00 [DBG] Connection id "0HNEMBEV568D2" stopped.
2025-08-08 16:18:17.961 +07:00 [DBG] Connection id "0HNEMBEV568D3" accepted.
2025-08-08 16:18:17.967 +07:00 [DBG] Connection id "0HNEMBEV568D3" started.
2025-08-08 16:18:17.973 +07:00 [DBG] Connection 0HNEMBEV568D3 established using the following protocol: "Tls13"
2025-08-08 16:18:17.974 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:18:17.977 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:18:17.978 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:18:17.980 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:18:17.981 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:18:17.982 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:18:17.983 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:18:17.984 +07:00 [DBG] Authorization was successful.
2025-08-08 16:18:17.986 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:18:17.988 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:18:17.990 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:18:17.992 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:18:17.994 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:18:17.996 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:18:17.997 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:18:17.998 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:18:18.000 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:18:18.002 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:18:18.004 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:18:18.006 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:18:18.008 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:18:18.011 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:18:18.013 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:18:18.014 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:18:18.017 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:18:18.018 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:18:18.020 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:18:18.023 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:18:18.026 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:18:18.028 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:18:18.030 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:18.031 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:18.032 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:18:18.033 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:18:18.035 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:18:18.037 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:18:18.052 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:18:18.055 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:18:18.056 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:18:18.059 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:18.061 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:18:18.063 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:18.065 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:18.066 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:18:18.068 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:18:18.069 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:18:18.070 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:18:18.078 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:18:18.081 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:18:18.082 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:18:18.084 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:18.086 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:18:18.087 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:18:18.090 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:18:18.091 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:18:18.092 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:18:18.093 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:18:18.095 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:18:18.097 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 98.0529ms
2025-08-08 16:18:18.099 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:18:18.100 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:18:18.101 +07:00 [DBG] Connection id "0HNEMBEV568D3" received FIN.
2025-08-08 16:18:18.102 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:18.103 +07:00 [DBG] Connection id "0HNEMBEV568D3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:18:18.105 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:18:18.107 +07:00 [DBG] Connection id "0HNEMBEV568D3" disconnecting.
2025-08-08 16:18:18.109 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 134.7382ms
2025-08-08 16:18:18.114 +07:00 [DBG] Connection id "0HNEMBEV568D3" stopped.
2025-08-08 16:18:47.955 +07:00 [DBG] Connection id "0HNEMBEV568D4" accepted.
2025-08-08 16:18:47.962 +07:00 [DBG] Connection id "0HNEMBEV568D4" started.
2025-08-08 16:18:47.966 +07:00 [DBG] Connection 0HNEMBEV568D4 established using the following protocol: "Tls13"
2025-08-08 16:18:47.968 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:18:47.971 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:18:47.972 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:18:47.974 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:18:47.975 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:18:47.976 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:18:47.977 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:18:47.979 +07:00 [DBG] Authorization was successful.
2025-08-08 16:18:47.980 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:18:47.981 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:18:47.984 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:18:47.986 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:18:47.987 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:18:47.989 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:18:47.991 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:18:47.992 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:18:47.995 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:18:47.997 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:18:47.998 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:18:48.000 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:18:48.002 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:18:48.004 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:18:48.005 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:18:48.008 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:18:48.009 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:18:48.010 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:18:48.012 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:18:48.014 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:18:48.017 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:18:48.018 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:18:48.019 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:48.020 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:48.021 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:18:48.022 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:18:48.024 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:18:48.025 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:18:48.029 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:18:48.033 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:18:48.035 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:18:48.038 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:48.039 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:18:48.041 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:48.042 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:48.044 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:18:48.045 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:18:48.047 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:18:48.049 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:18:48.052 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:18:48.055 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:18:48.057 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:18:48.059 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:48.061 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:18:48.062 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:18:48.066 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:18:48.067 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:18:48.068 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:18:48.069 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:18:48.071 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:18:48.073 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 80.522ms
2025-08-08 16:18:48.075 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:18:48.077 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:18:48.078 +07:00 [DBG] Connection id "0HNEMBEV568D4" received FIN.
2025-08-08 16:18:48.079 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:18:48.080 +07:00 [DBG] Connection id "0HNEMBEV568D4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:18:48.082 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:18:48.083 +07:00 [DBG] Connection id "0HNEMBEV568D4" disconnecting.
2025-08-08 16:18:48.085 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 116.7043ms
2025-08-08 16:18:48.092 +07:00 [DBG] Connection id "0HNEMBEV568D4" stopped.
2025-08-08 16:19:17.964 +07:00 [DBG] Connection id "0HNEMBEV568D5" accepted.
2025-08-08 16:19:17.970 +07:00 [DBG] Connection id "0HNEMBEV568D5" started.
2025-08-08 16:19:17.975 +07:00 [DBG] Connection 0HNEMBEV568D5 established using the following protocol: "Tls13"
2025-08-08 16:19:17.978 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:19:17.980 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:19:17.981 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:19:17.983 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:19:17.984 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:19:17.986 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:19:17.986 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:19:17.988 +07:00 [DBG] Authorization was successful.
2025-08-08 16:19:17.989 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:19:17.991 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:19:17.994 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:19:17.996 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:19:17.998 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:19:18.001 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:19:18.003 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:19:18.005 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:19:18.006 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:19:18.008 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:19:18.009 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:19:18.010 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:19:18.012 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:19:18.014 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:19:18.015 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:19:18.018 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:19:18.019 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:19:18.020 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:19:18.022 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:19:18.023 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:19:18.026 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:19:18.027 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:19:18.028 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:18.029 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:18.030 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:19:18.031 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:19:18.033 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:19:18.035 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:19:18.050 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:19:18.054 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:19:18.055 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:19:18.057 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:18.059 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:19:18.062 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:18.064 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:18.065 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:19:18.066 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:19:18.069 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:19:18.071 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:19:18.076 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:19:18.080 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:19:18.082 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:19:18.084 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:18.085 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:19:18.087 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:19:18.090 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:19:18.090 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:19:18.092 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:19:18.092 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:19:18.094 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:19:18.096 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 91.0922ms
2025-08-08 16:19:18.097 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:19:18.099 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:19:18.100 +07:00 [DBG] Connection id "0HNEMBEV568D5" received FIN.
2025-08-08 16:19:18.101 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:18.102 +07:00 [DBG] Connection id "0HNEMBEV568D5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:19:18.104 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:19:18.106 +07:00 [DBG] Connection id "0HNEMBEV568D5" disconnecting.
2025-08-08 16:19:18.108 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 130.3684ms
2025-08-08 16:19:18.114 +07:00 [DBG] Connection id "0HNEMBEV568D5" stopped.
2025-08-08 16:19:56.968 +07:00 [DBG] Connection id "0HNEMBEV568D6" accepted.
2025-08-08 16:19:56.969 +07:00 [DBG] Connection id "0HNEMBEV568D6" started.
2025-08-08 16:19:56.975 +07:00 [DBG] Connection 0HNEMBEV568D6 established using the following protocol: "Tls13"
2025-08-08 16:19:56.977 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:19:56.980 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:19:56.981 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:19:56.983 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:19:56.984 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:19:56.986 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:19:56.987 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:19:56.988 +07:00 [DBG] Authorization was successful.
2025-08-08 16:19:56.989 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:19:56.990 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:19:56.992 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:19:56.994 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:19:56.996 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:19:56.999 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:19:57.001 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:19:57.003 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:19:57.005 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:19:57.006 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:19:57.008 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:19:57.010 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:19:57.012 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:19:57.014 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:19:57.016 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:19:57.018 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:19:57.020 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:19:57.021 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:19:57.023 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:19:57.024 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:19:57.027 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:19:57.028 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:19:57.029 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:57.031 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:57.033 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:19:57.034 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:19:57.035 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:19:57.037 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:19:57.053 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:19:57.056 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:19:57.057 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:19:57.059 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:57.060 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:19:57.063 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:57.065 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:57.066 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:19:57.068 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:19:57.070 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:19:57.071 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:19:57.078 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:19:57.080 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:19:57.082 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:19:57.084 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:57.085 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:19:57.087 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:19:57.089 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:19:57.090 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:19:57.091 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:19:57.092 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:19:57.093 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:19:57.095 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 92.2093ms
2025-08-08 16:19:57.096 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:19:57.098 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:19:57.099 +07:00 [DBG] Connection id "0HNEMBEV568D6" received FIN.
2025-08-08 16:19:57.103 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:19:57.106 +07:00 [DBG] Connection id "0HNEMBEV568D6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:19:57.108 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-08 16:19:57.109 +07:00 [DBG] Connection id "0HNEMBEV568D6" disconnecting.
2025-08-08 16:19:57.111 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 134.2327ms
2025-08-08 16:19:57.116 +07:00 [DBG] Connection id "0HNEMBEV568D6" stopped.
2025-08-08 16:20:17.971 +07:00 [DBG] Connection id "0HNEMBEV568D7" accepted.
2025-08-08 16:20:17.973 +07:00 [DBG] Connection id "0HNEMBEV568D7" started.
2025-08-08 16:20:17.978 +07:00 [DBG] Connection 0HNEMBEV568D7 established using the following protocol: "Tls13"
2025-08-08 16:20:17.980 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:20:17.983 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:20:17.984 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:20:17.986 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:20:17.987 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:20:17.988 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 16:20:17.990 +07:00 [DBG] Policy authentication schemes  did not succeed
2025-08-08 16:20:17.991 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2025-08-08 16:20:17.996 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-08 16:20:17.997 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 401 0 null 17.2558ms
2025-08-08 16:20:17.999 +07:00 [DBG] Connection id "0HNEMBEV568D7" received FIN.
2025-08-08 16:20:18.006 +07:00 [DBG] Connection id "0HNEMBEV568D7" disconnecting.
2025-08-08 16:20:18.010 +07:00 [DBG] Connection id "0HNEMBEV568D7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:20:18.023 +07:00 [DBG] Connection id "0HNEMBEV568D7" stopped.
2025-08-08 16:20:45.491 +07:00 [DBG] Connection id "0HNEMBEV568D8" accepted.
2025-08-08 16:20:45.493 +07:00 [DBG] Connection id "0HNEMBEV568D8" started.
2025-08-08 16:20:45.500 +07:00 [DBG] Connection 0HNEMBEV568D8 established using the following protocol: "Tls13"
2025-08-08 16:20:45.502 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:20:45.506 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:20:45.508 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:20:45.510 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:20:45.511 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:20:45.512 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 16:20:45.514 +07:00 [DBG] Policy authentication schemes  did not succeed
2025-08-08 16:20:45.515 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2025-08-08 16:20:45.517 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-08 16:20:45.519 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 401 0 null 17.742ms
2025-08-08 16:20:45.521 +07:00 [DBG] Connection id "0HNEMBEV568D8" received FIN.
2025-08-08 16:20:45.534 +07:00 [DBG] Connection id "0HNEMBEV568D8" disconnecting.
2025-08-08 16:20:45.537 +07:00 [DBG] Connection id "0HNEMBEV568D8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:20:45.540 +07:00 [DBG] Connection id "0HNEMBEV568D8" stopped.
2025-08-08 16:21:15.957 +07:00 [DBG] Connection id "0HNEMBEV568D9" accepted.
2025-08-08 16:21:15.964 +07:00 [DBG] Connection id "0HNEMBEV568D9" started.
2025-08-08 16:21:15.969 +07:00 [DBG] Connection 0HNEMBEV568D9 established using the following protocol: "Tls13"
2025-08-08 16:21:15.970 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:21:15.973 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:21:15.975 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:21:15.977 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:21:15.978 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:21:15.979 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 16:21:15.981 +07:00 [DBG] Policy authentication schemes  did not succeed
2025-08-08 16:21:15.982 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2025-08-08 16:21:15.983 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-08 16:21:15.984 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 401 0 null 13.9229ms
2025-08-08 16:21:15.985 +07:00 [DBG] Connection id "0HNEMBEV568D9" received FIN.
2025-08-08 16:21:15.989 +07:00 [DBG] Connection id "0HNEMBEV568D9" disconnecting.
2025-08-08 16:21:15.992 +07:00 [DBG] Connection id "0HNEMBEV568D9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:21:15.997 +07:00 [DBG] Connection id "0HNEMBEV568D9" stopped.
2025-08-08 16:21:45.970 +07:00 [DBG] Connection id "0HNEMBEV568DA" accepted.
2025-08-08 16:21:45.972 +07:00 [DBG] Connection id "0HNEMBEV568DA" started.
2025-08-08 16:21:45.978 +07:00 [DBG] Connection 0HNEMBEV568DA established using the following protocol: "Tls13"
2025-08-08 16:21:45.980 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:21:45.983 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:21:45.986 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:21:45.987 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:21:45.988 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:21:45.989 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 16:21:45.992 +07:00 [DBG] Policy authentication schemes  did not succeed
2025-08-08 16:21:45.993 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2025-08-08 16:21:45.995 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-08 16:21:45.996 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 401 0 null 15.7879ms
2025-08-08 16:21:45.997 +07:00 [DBG] Connection id "0HNEMBEV568DA" received FIN.
2025-08-08 16:21:46.001 +07:00 [DBG] Connection id "0HNEMBEV568DA" disconnecting.
2025-08-08 16:21:46.004 +07:00 [DBG] Connection id "0HNEMBEV568DA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:21:46.017 +07:00 [DBG] Connection id "0HNEMBEV568DA" stopped.
2025-08-08 16:22:15.966 +07:00 [DBG] Connection id "0HNEMBEV568DB" accepted.
2025-08-08 16:22:15.971 +07:00 [DBG] Connection id "0HNEMBEV568DB" started.
2025-08-08 16:22:15.983 +07:00 [DBG] Connection 0HNEMBEV568DB established using the following protocol: "Tls13"
2025-08-08 16:22:15.985 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:22:15.988 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:22:15.989 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:22:15.991 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:22:15.992 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:22:15.993 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 16:22:15.995 +07:00 [DBG] Policy authentication schemes  did not succeed
2025-08-08 16:22:15.996 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2025-08-08 16:22:15.997 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-08 16:22:15.998 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 401 0 null 13.2247ms
2025-08-08 16:22:15.999 +07:00 [DBG] Connection id "0HNEMBEV568DB" received FIN.
2025-08-08 16:22:16.003 +07:00 [DBG] Connection id "0HNEMBEV568DB" disconnecting.
2025-08-08 16:22:16.005 +07:00 [DBG] Connection id "0HNEMBEV568DB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:22:16.014 +07:00 [DBG] Connection id "0HNEMBEV568DB" stopped.
2025-08-08 16:23:28.808 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-08 16:23:28.815 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 16:23:28.817 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:23:28.818 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:23:28.819 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:23:28.820 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:23:28.821 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:23:28.822 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 14.2722ms
2025-08-08 16:23:28.824 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-08 16:23:28.835 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 16:23:28.836 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-08 16:23:28.838 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:23:28.839 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:23:28.840 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:23:28.841 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:23:28.842 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 16:23:28.844 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:23:28.846 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 16:23:28.848 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:23:28.850 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:23:28.852 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:23:28.854 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:23:28.856 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:23:28.857 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:23:28.861 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:23:28.862 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:23:28.863 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 16:23:28.865 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 16:23:28.867 +07:00 [DBG] Connection id "0HNEMBEV568CK", Request id "0HNEMBEV568CK:0000000F": started reading request body.
2025-08-08 16:23:28.868 +07:00 [DBG] Connection id "0HNEMBEV568CK", Request id "0HNEMBEV568CK:0000000F": done reading request body.
2025-08-08 16:23:28.869 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 16:23:28.870 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:23:28.872 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:23:28.874 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:23:28.875 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:23:28.876 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: student1
2025-08-08 16:23:28.878 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:23:28.881 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:23:28.882 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:23:28.883 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:28.884 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:28.885 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:23:28.886 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:23:28.888 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:23:28.890 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:23:28.900 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:23:28.903 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:23:28.904 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:23:28.905 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:23:28.907 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:28.908 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:23:28.910 +07:00 [INF] 🔓 Login successful for user: student1
2025-08-08 16:23:28.911 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:28.913 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:28.915 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:23:28.916 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:23:28.917 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:23:28.918 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 16:23:28.923 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 16:23:28.926 +07:00 [DBG] The navigation 'User.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:23:28.928 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:23:28.930 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:23:28.932 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-08 16:23:28.935 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:28.937 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:23:28.939 +07:00 [INF] ✅ Đăng nhập thành công cho user: student1
2025-08-08 16:23:28.941 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:23:28.943 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:23:28.944 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:23:28.945 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:23:28.946 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:23:28.947 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 16:23:28.949 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 91.9388ms
2025-08-08 16:23:28.951 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:23:28.952 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:23:28.954 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:28.956 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:23:28.958 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 134.3798ms
2025-08-08 16:23:29.021 +07:00 [DBG] Connection id "0HNEMBEV568DC" accepted.
2025-08-08 16:23:29.022 +07:00 [DBG] Connection id "0HNEMBEV568DC" started.
2025-08-08 16:23:29.028 +07:00 [DBG] Connection 0HNEMBEV568DC established using the following protocol: "Tls13"
2025-08-08 16:23:29.030 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:23:29.034 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:23:29.036 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:23:29.038 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:23:29.040 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:23:29.041 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:23:29.041 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:23:29.043 +07:00 [DBG] Authorization was successful.
2025-08-08 16:23:29.044 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:23:29.045 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:23:29.047 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:23:29.049 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:23:29.051 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:23:29.054 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:23:29.055 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:23:29.057 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:23:29.059 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:23:29.060 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:23:29.062 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:23:29.063 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:23:29.066 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:23:29.068 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:23:29.070 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:23:29.072 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:23:29.075 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:23:29.077 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:23:29.079 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:23:29.081 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:23:29.084 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:23:29.085 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:23:29.087 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:29.089 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:29.090 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:23:29.091 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:23:29.093 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:23:29.094 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:23:29.101 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:23:29.103 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:23:29.105 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:23:29.106 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:29.108 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:23:29.110 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:29.112 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:29.114 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:23:29.115 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:23:29.117 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:23:29.118 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:23:29.123 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:23:29.127 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:23:29.129 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:23:29.131 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:29.132 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:23:29.134 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:23:29.137 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:23:29.139 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:23:29.141 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:23:29.143 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:23:29.145 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:23:29.147 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 90.4987ms
2025-08-08 16:23:29.149 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:23:29.150 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:23:29.151 +07:00 [DBG] Connection id "0HNEMBEV568DC" received FIN.
2025-08-08 16:23:29.152 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:23:29.153 +07:00 [DBG] Connection id "0HNEMBEV568DC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:23:29.154 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:23:29.156 +07:00 [DBG] Connection id "0HNEMBEV568DC" disconnecting.
2025-08-08 16:23:29.157 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 127.2054ms
2025-08-08 16:23:29.162 +07:00 [DBG] Connection id "0HNEMBEV568DC" stopped.
2025-08-08 16:23:59.953 +07:00 [DBG] Connection id "0HNEMBEV568DD" accepted.
2025-08-08 16:23:59.955 +07:00 [DBG] Connection id "0HNEMBEV568DD" started.
2025-08-08 16:23:59.959 +07:00 [DBG] Connection 0HNEMBEV568DD established using the following protocol: "Tls13"
2025-08-08 16:23:59.961 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:23:59.963 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:23:59.965 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:23:59.967 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:23:59.968 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:23:59.968 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:23:59.969 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:23:59.970 +07:00 [DBG] Authorization was successful.
2025-08-08 16:23:59.972 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:23:59.973 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:23:59.975 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:23:59.977 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:23:59.979 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:23:59.982 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:23:59.984 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:23:59.986 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:23:59.988 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:23:59.990 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:23:59.992 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:23:59.993 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:23:59.995 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:23:59.996 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:23:59.998 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:23:59.999 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:24:00.001 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:24:00.003 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:24:00.004 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:24:00.006 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:24:00.008 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:24:00.010 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:24:00.011 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:00.012 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:00.014 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:24:00.015 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:24:00.016 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:24:00.018 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:24:00.027 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:24:00.029 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:24:00.030 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:24:00.033 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:00.038 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-08 16:24:00.040 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:00.042 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:00.043 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:24:00.044 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:24:00.045 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:24:00.047 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:24:00.052 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:24:00.055 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:24:00.056 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:24:00.058 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:00.059 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:24:00.060 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:24:00.062 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:24:00.063 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:24:00.064 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:24:00.065 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:24:00.066 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:24:00.067 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 80.7875ms
2025-08-08 16:24:00.069 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:24:00.070 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:24:00.071 +07:00 [DBG] Connection id "0HNEMBEV568DD" received FIN.
2025-08-08 16:24:00.072 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:00.073 +07:00 [DBG] Connection id "0HNEMBEV568DD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:24:00.075 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:24:00.077 +07:00 [DBG] Connection id "0HNEMBEV568DD" disconnecting.
2025-08-08 16:24:00.078 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 117.7527ms
2025-08-08 16:24:00.083 +07:00 [DBG] Connection id "0HNEMBEV568DD" stopped.
2025-08-08 16:24:05.414 +07:00 [DBG] Connection id "0HNEMBEV568CK" received FIN.
2025-08-08 16:24:05.414 +07:00 [DBG] Connection id "0HNEMBEV568CJ" received FIN.
2025-08-08 16:24:05.421 +07:00 [DBG] Connection id "0HNEMBEV568CK" is closed. The last processed stream ID was 15.
2025-08-08 16:24:05.421 +07:00 [DBG] Connection id "0HNEMBEV568CJ" is closed. The last processed stream ID was 9.
2025-08-08 16:24:05.424 +07:00 [DBG] The connection queue processing loop for 0HNEMBEV568CJ completed.
2025-08-08 16:24:05.425 +07:00 [DBG] The connection queue processing loop for 0HNEMBEV568CK completed.
2025-08-08 16:24:05.428 +07:00 [DBG] Connection id "0HNEMBEV568CK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:24:05.437 +07:00 [DBG] Connection id "0HNEMBEV568CJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:24:05.444 +07:00 [DBG] Connection id "0HNEMBEV568CJ" stopped.
2025-08-08 16:24:05.444 +07:00 [DBG] Connection id "0HNEMBEV568CK" stopped.
2025-08-08 16:24:29.029 +07:00 [DBG] Connection id "0HNEMBEV568DE" accepted.
2025-08-08 16:24:29.036 +07:00 [DBG] Connection id "0HNEMBEV568DE" started.
2025-08-08 16:24:29.045 +07:00 [DBG] Connection 0HNEMBEV568DE established using the following protocol: "Tls13"
2025-08-08 16:24:29.046 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:24:29.049 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:24:29.051 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:24:29.053 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:24:29.054 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:24:29.055 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:24:29.057 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:24:29.058 +07:00 [DBG] Authorization was successful.
2025-08-08 16:24:29.059 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:24:29.060 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:24:29.062 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:24:29.064 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:24:29.065 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:24:29.068 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:24:29.069 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:24:29.071 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:24:29.073 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:24:29.075 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:24:29.076 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:24:29.079 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:24:29.080 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:24:29.082 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:24:29.085 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:24:29.087 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:24:29.089 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:24:29.090 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:24:29.092 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:24:29.095 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:24:29.097 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:24:29.098 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:24:29.100 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:29.101 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:29.103 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:24:29.104 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:24:29.105 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:24:29.107 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:24:29.111 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:24:29.119 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:24:29.121 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:24:29.123 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:29.124 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:24:29.127 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:29.128 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:29.130 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:24:29.131 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:24:29.132 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:24:29.134 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:24:29.138 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:24:29.141 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:24:29.142 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:24:29.144 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:29.146 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:24:29.148 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:24:29.151 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:24:29.152 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:24:29.154 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:24:29.155 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:24:29.156 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:24:29.158 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 86.6104ms
2025-08-08 16:24:29.160 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:24:29.161 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:24:29.162 +07:00 [DBG] Connection id "0HNEMBEV568DE" received FIN.
2025-08-08 16:24:29.162 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:24:29.164 +07:00 [DBG] Connection id "0HNEMBEV568DE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:24:29.165 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:24:29.167 +07:00 [DBG] Connection id "0HNEMBEV568DE" disconnecting.
2025-08-08 16:24:29.168 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 121.9729ms
2025-08-08 16:24:29.173 +07:00 [DBG] Connection id "0HNEMBEV568DE" stopped.
2025-08-08 16:24:59.961 +07:00 [DBG] Connection id "0HNEMBEV568DF" accepted.
2025-08-08 16:24:59.967 +07:00 [DBG] Connection id "0HNEMBEV568DF" started.
2025-08-08 16:24:59.972 +07:00 [DBG] Connection 0HNEMBEV568DF established using the following protocol: "Tls13"
2025-08-08 16:24:59.974 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:24:59.977 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:24:59.978 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:24:59.980 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:24:59.981 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:24:59.983 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:24:59.983 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:24:59.985 +07:00 [DBG] Authorization was successful.
2025-08-08 16:24:59.985 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:24:59.987 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:24:59.989 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:24:59.991 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:24:59.992 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:24:59.994 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:24:59.997 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:24:59.998 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:25:00.000 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:25:00.001 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:25:00.004 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:25:00.006 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:25:00.007 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:25:00.009 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:25:00.012 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:25:00.013 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:25:00.014 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:25:00.015 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:25:00.017 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:25:00.019 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:25:00.022 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:25:00.023 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:25:00.024 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:00.026 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:00.027 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:25:00.028 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:25:00.029 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:25:00.032 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:25:00.041 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:25:00.045 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:25:00.047 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:25:00.049 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:00.051 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:25:00.053 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:00.054 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:00.056 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:25:00.057 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:25:00.058 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:25:00.061 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:25:00.068 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:25:00.071 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:25:00.073 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:25:00.075 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:00.077 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:25:00.080 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:25:00.083 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:25:00.084 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:25:00.085 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:25:00.086 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:25:00.087 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:25:00.089 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 90.41ms
2025-08-08 16:25:00.091 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:25:00.092 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:25:00.093 +07:00 [DBG] Connection id "0HNEMBEV568DF" received FIN.
2025-08-08 16:25:00.096 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:00.099 +07:00 [DBG] Connection id "0HNEMBEV568DF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:25:00.101 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:25:00.102 +07:00 [DBG] Connection id "0HNEMBEV568DF" disconnecting.
2025-08-08 16:25:00.104 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 130.2584ms
2025-08-08 16:25:00.109 +07:00 [DBG] Connection id "0HNEMBEV568DF" stopped.
2025-08-08 16:25:29.955 +07:00 [DBG] Connection id "0HNEMBEV568DG" accepted.
2025-08-08 16:25:29.959 +07:00 [DBG] Connection id "0HNEMBEV568DG" started.
2025-08-08 16:25:29.965 +07:00 [DBG] Connection 0HNEMBEV568DG established using the following protocol: "Tls13"
2025-08-08 16:25:29.966 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:25:29.969 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:25:29.970 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:25:29.971 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:25:29.972 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:25:29.973 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:25:29.974 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:25:29.975 +07:00 [DBG] Authorization was successful.
2025-08-08 16:25:29.976 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:25:29.977 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:25:29.979 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:25:29.982 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:25:29.984 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:25:29.985 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:25:29.986 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:25:29.987 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:25:29.989 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:25:29.990 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:25:29.991 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:25:29.993 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:25:29.994 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:25:29.997 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:25:29.999 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:25:30.000 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:25:30.001 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:25:30.003 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:25:30.004 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:25:30.006 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:25:30.008 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:25:30.009 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:25:30.009 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:30.011 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:30.012 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:25:30.013 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:25:30.014 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:25:30.015 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:25:30.019 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:25:30.026 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:25:30.027 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:25:30.028 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:30.030 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:25:30.031 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:30.033 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:30.035 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:25:30.036 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:25:30.037 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:25:30.039 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:25:30.042 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:25:30.045 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:25:30.046 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:25:30.048 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:30.049 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:25:30.051 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:25:30.053 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:25:30.054 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:25:30.055 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:25:30.055 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:25:30.057 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:25:30.058 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 70.5659ms
2025-08-08 16:25:30.060 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:25:30.062 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:25:30.062 +07:00 [DBG] Connection id "0HNEMBEV568DG" received FIN.
2025-08-08 16:25:30.063 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:25:30.064 +07:00 [DBG] Connection id "0HNEMBEV568DG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:25:30.066 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:25:30.068 +07:00 [DBG] Connection id "0HNEMBEV568DG" disconnecting.
2025-08-08 16:25:30.069 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 103.0688ms
2025-08-08 16:25:30.074 +07:00 [DBG] Connection id "0HNEMBEV568DG" stopped.
2025-08-08 16:25:59.962 +07:00 [DBG] Connection id "0HNEMBEV568DH" accepted.
2025-08-08 16:25:59.970 +07:00 [DBG] Connection id "0HNEMBEV568DH" started.
2025-08-08 16:25:59.975 +07:00 [DBG] Connection 0HNEMBEV568DH established using the following protocol: "Tls13"
2025-08-08 16:25:59.977 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:25:59.980 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:25:59.981 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:25:59.983 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:25:59.984 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:25:59.985 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:25:59.986 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:25:59.988 +07:00 [DBG] Authorization was successful.
2025-08-08 16:25:59.989 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:25:59.990 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:25:59.992 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:25:59.994 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:25:59.996 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:25:59.998 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:26:00.000 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:26:00.002 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:26:00.004 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:26:00.005 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:26:00.007 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:26:00.008 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:26:00.011 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:26:00.013 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:26:00.016 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:26:00.018 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:26:00.020 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:26:00.021 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:26:00.023 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:26:00.026 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:26:00.028 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:26:00.029 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:26:00.031 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:00.033 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:00.035 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:26:00.036 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:26:00.037 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:26:00.039 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:26:00.051 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:26:00.053 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:26:00.055 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:26:00.057 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:00.059 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:26:00.061 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:00.063 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:00.064 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:26:00.065 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:26:00.067 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:26:00.068 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:26:00.075 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:26:00.078 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:26:00.079 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:26:00.081 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:00.083 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:26:00.085 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:26:00.088 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:26:00.089 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:26:00.090 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:26:00.091 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:26:00.092 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:26:00.093 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 91.6736ms
2025-08-08 16:26:00.096 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:26:00.097 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:26:00.098 +07:00 [DBG] Connection id "0HNEMBEV568DH" received FIN.
2025-08-08 16:26:00.102 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:00.105 +07:00 [DBG] Connection id "0HNEMBEV568DH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:26:00.106 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:26:00.108 +07:00 [DBG] Connection id "0HNEMBEV568DH" disconnecting.
2025-08-08 16:26:00.110 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 133.0096ms
2025-08-08 16:26:00.115 +07:00 [DBG] Connection id "0HNEMBEV568DH" stopped.
2025-08-08 16:26:29.961 +07:00 [DBG] Connection id "0HNEMBEV568DI" accepted.
2025-08-08 16:26:29.967 +07:00 [DBG] Connection id "0HNEMBEV568DI" started.
2025-08-08 16:26:29.972 +07:00 [DBG] Connection 0HNEMBEV568DI established using the following protocol: "Tls13"
2025-08-08 16:26:29.973 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:26:29.976 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:26:29.978 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:26:29.980 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:26:29.981 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:26:29.982 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:26:29.982 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:26:29.984 +07:00 [DBG] Authorization was successful.
2025-08-08 16:26:29.985 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:26:29.986 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:26:29.989 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:26:29.991 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:26:29.992 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:26:29.995 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:26:29.997 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:26:29.998 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:26:30.000 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:26:30.002 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:26:30.003 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:26:30.006 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:26:30.009 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:26:30.011 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:26:30.013 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:26:30.015 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:26:30.017 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:26:30.019 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:26:30.021 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:26:30.024 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:26:30.026 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:26:30.027 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:26:30.029 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:30.030 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:30.032 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:26:30.033 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:26:30.035 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:26:30.037 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:26:30.041 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:26:30.049 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:26:30.050 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:26:30.052 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:30.054 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:26:30.056 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:30.058 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:30.059 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:26:30.061 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:26:30.062 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:26:30.064 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:26:30.067 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:26:30.070 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:26:30.072 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:26:30.073 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:30.074 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:26:30.076 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:26:30.078 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:26:30.079 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:26:30.081 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:26:30.082 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:26:30.084 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:26:30.085 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 87.4837ms
2025-08-08 16:26:30.087 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:26:30.089 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:26:30.089 +07:00 [DBG] Connection id "0HNEMBEV568DI" received FIN.
2025-08-08 16:26:30.090 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:26:30.091 +07:00 [DBG] Connection id "0HNEMBEV568DI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:26:30.093 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:26:30.094 +07:00 [DBG] Connection id "0HNEMBEV568DI" disconnecting.
2025-08-08 16:26:30.096 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 122.1668ms
2025-08-08 16:26:30.101 +07:00 [DBG] Connection id "0HNEMBEV568DI" stopped.
2025-08-08 16:27:29.682 +07:00 [DBG] Connection id "0HNEMBEV568DJ" accepted.
2025-08-08 16:27:29.689 +07:00 [DBG] Connection id "0HNEMBEV568DJ" started.
2025-08-08 16:27:29.695 +07:00 [DBG] Connection 0HNEMBEV568DJ established using the following protocol: "Tls13"
2025-08-08 16:27:29.696 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:27:29.701 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:27:29.703 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:27:29.705 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:27:29.706 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:27:29.707 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:27:29.708 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:27:29.709 +07:00 [DBG] Authorization was successful.
2025-08-08 16:27:29.710 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:27:29.712 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:27:29.714 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:27:29.716 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:27:29.718 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:27:29.719 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:27:29.721 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:27:29.722 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:27:29.723 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:27:29.724 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:27:29.726 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:27:29.728 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:27:29.729 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:27:29.731 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:27:29.732 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:27:29.735 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:27:29.736 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:27:29.737 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:27:29.738 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:27:29.740 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:27:29.742 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:27:29.742 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:27:29.743 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:29.744 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:29.745 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:27:29.746 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:27:29.748 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:27:29.749 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:27:29.763 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:27:29.766 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:27:29.768 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:27:29.770 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:29.771 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:27:29.773 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:29.775 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:29.776 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:27:29.777 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:27:29.778 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:27:29.779 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:27:29.786 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:27:29.789 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:27:29.790 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:27:29.791 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:29.793 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:27:29.794 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:27:29.796 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:27:29.797 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:27:29.798 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:27:29.799 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:27:29.800 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:27:29.801 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 79.1531ms
2025-08-08 16:27:29.804 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:27:29.805 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:27:29.806 +07:00 [DBG] Connection id "0HNEMBEV568DJ" received FIN.
2025-08-08 16:27:29.807 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:29.811 +07:00 [DBG] Connection id "0HNEMBEV568DJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:27:29.812 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-08 16:27:29.813 +07:00 [DBG] Connection id "0HNEMBEV568DJ" disconnecting.
2025-08-08 16:27:29.815 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 118.1467ms
2025-08-08 16:27:29.819 +07:00 [DBG] Connection id "0HNEMBEV568DJ" stopped.
2025-08-08 16:27:35.229 +07:00 [DBG] Connection id "0HNEMBEV568DK" accepted.
2025-08-08 16:27:35.230 +07:00 [DBG] Connection id "0HNEMBEV568DK" started.
2025-08-08 16:27:35.242 +07:00 [DBG] Connection 0HNEMBEV568DK established using the following protocol: "Tls13"
2025-08-08 16:27:35.244 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:27:35.247 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:27:35.249 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:27:35.250 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:27:35.251 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:27:35.252 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:27:35.254 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:27:35.256 +07:00 [DBG] Authorization was successful.
2025-08-08 16:27:35.257 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:27:35.258 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:27:35.260 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:27:35.263 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:27:35.266 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:27:35.269 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:27:35.271 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:27:35.272 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:27:35.274 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:27:35.276 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:27:35.277 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:27:35.279 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:27:35.281 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:27:35.284 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:27:35.286 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:27:35.288 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:27:35.290 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:27:35.291 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:27:35.292 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:27:35.293 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:27:35.296 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:27:35.297 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:27:35.298 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:35.299 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:35.301 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:27:35.302 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:27:35.304 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:27:35.305 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:27:35.308 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:27:35.312 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:27:35.313 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:27:35.315 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:35.317 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:27:35.319 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:35.320 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:35.322 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:27:35.323 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:27:35.325 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:27:35.326 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:27:35.329 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:27:35.337 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:27:35.339 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:27:35.340 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:35.342 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:27:35.344 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:27:35.346 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:27:35.347 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:27:35.348 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:27:35.349 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:27:35.350 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:27:35.352 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 79.6955ms
2025-08-08 16:27:35.353 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:27:35.354 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:27:35.355 +07:00 [DBG] Connection id "0HNEMBEV568DK" received FIN.
2025-08-08 16:27:35.356 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:27:35.357 +07:00 [DBG] Connection id "0HNEMBEV568DK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:27:35.359 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:27:35.360 +07:00 [DBG] Connection id "0HNEMBEV568DK" disconnecting.
2025-08-08 16:27:35.361 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 117.2268ms
2025-08-08 16:27:35.366 +07:00 [DBG] Connection id "0HNEMBEV568DK" stopped.
2025-08-08 16:28:05.956 +07:00 [DBG] Connection id "0HNEMBEV568DL" accepted.
2025-08-08 16:28:05.961 +07:00 [DBG] Connection id "0HNEMBEV568DL" started.
2025-08-08 16:28:05.965 +07:00 [DBG] Connection 0HNEMBEV568DL established using the following protocol: "Tls13"
2025-08-08 16:28:05.967 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:28:05.969 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:28:05.970 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:28:05.972 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:28:05.973 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:28:05.974 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:28:05.975 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:28:05.975 +07:00 [DBG] Authorization was successful.
2025-08-08 16:28:05.976 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:28:05.977 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:28:05.979 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:28:05.980 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:28:05.981 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:28:05.983 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:28:05.984 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:28:05.986 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:28:05.987 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:28:05.988 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:28:05.989 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:28:05.990 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:28:05.992 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:28:05.994 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:28:05.995 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:28:05.997 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:28:05.998 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:28:05.999 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:28:06.001 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:28:06.002 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:28:06.004 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:28:06.005 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:28:06.006 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:06.008 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:06.010 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:28:06.011 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:28:06.013 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:28:06.014 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:28:06.030 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:28:06.032 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:28:06.034 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:28:06.035 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:06.036 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:28:06.038 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:06.039 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:06.041 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:28:06.042 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:28:06.043 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:28:06.044 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:28:06.050 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:28:06.057 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:28:06.058 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:28:06.059 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:06.061 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:28:06.062 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:28:06.063 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:28:06.064 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:28:06.064 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:28:06.065 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:28:06.066 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:28:06.068 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 82.8338ms
2025-08-08 16:28:06.070 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:28:06.071 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:28:06.072 +07:00 [DBG] Connection id "0HNEMBEV568DL" received FIN.
2025-08-08 16:28:06.073 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:06.074 +07:00 [DBG] Connection id "0HNEMBEV568DL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:28:06.076 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:28:06.077 +07:00 [DBG] Connection id "0HNEMBEV568DL" disconnecting.
2025-08-08 16:28:06.078 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 111.3002ms
2025-08-08 16:28:06.081 +07:00 [DBG] Connection id "0HNEMBEV568DL" stopped.
2025-08-08 16:28:12.862 +07:00 [DBG] Connection id "0HNEMBEV568DM" accepted.
2025-08-08 16:28:12.864 +07:00 [DBG] Connection id "0HNEMBEV568DM" started.
2025-08-08 16:28:12.867 +07:00 [DBG] Connection 0HNEMBEV568DM established using the following protocol: "Tls13"
2025-08-08 16:28:12.870 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/auth/login - application/json 57
2025-08-08 16:28:12.882 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-08-08 16:28:12.883 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-08-08 16:28:12.885 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:28:12.886 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:28:12.886 +07:00 [DBG] The request has an origin header: 'https://localhost:7172'.
2025-08-08 16:28:12.888 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:28:12.889 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:28:12.890 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:28:12.891 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:28:12.892 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 16:28:12.893 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:28:12.896 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:28:12.897 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:28:12.899 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:28:12.900 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:28:12.902 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:28:12.903 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:28:12.905 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:28:12.906 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 16:28:12.907 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 16:28:12.909 +07:00 [DBG] Connection id "0HNEMBEV568DM", Request id "0HNEMBEV568DM:00000001": started reading request body.
2025-08-08 16:28:12.910 +07:00 [DBG] Connection id "0HNEMBEV568DM", Request id "0HNEMBEV568DM:00000001": done reading request body.
2025-08-08 16:28:12.911 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 16:28:12.912 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:28:12.913 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:28:12.914 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:28:12.916 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:28:12.918 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: student1
2025-08-08 16:28:12.919 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:28:12.921 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:28:12.921 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:28:12.923 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:12.924 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:12.925 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:28:12.926 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:28:12.927 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:28:12.928 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:28:12.947 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:28:12.949 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:28:12.952 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:28:12.953 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-08 16:28:12.955 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:12.956 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:28:12.957 +07:00 [INF] 🔓 Login successful for user: student1
2025-08-08 16:28:12.959 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:12.960 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:12.961 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:28:12.962 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:28:12.963 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:28:12.965 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 16:28:12.970 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-08 16:28:12.972 +07:00 [DBG] The navigation 'User.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:28:12.973 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:28:12.974 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:28:12.976 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-08 16:28:12.977 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:12.979 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:28:12.980 +07:00 [INF] ✅ Đăng nhập thành công cho user: student1
2025-08-08 16:28:12.981 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:28:12.983 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:28:12.984 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:28:12.985 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:28:12.986 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:28:12.987 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 16:28:12.989 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 87.053ms
2025-08-08 16:28:12.990 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:28:12.992 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:28:12.993 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:12.995 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:28:12.996 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/auth/login - 200 null application/json; charset=utf-8 126.5519ms
2025-08-08 16:28:35.967 +07:00 [DBG] Connection id "0HNEMBEV568DN" accepted.
2025-08-08 16:28:35.968 +07:00 [DBG] Connection id "0HNEMBEV568DN" started.
2025-08-08 16:28:35.973 +07:00 [DBG] Connection 0HNEMBEV568DN established using the following protocol: "Tls13"
2025-08-08 16:28:35.974 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:28:35.977 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:28:35.978 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:28:35.980 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:28:35.981 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:28:35.982 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:28:35.983 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:28:35.984 +07:00 [DBG] Authorization was successful.
2025-08-08 16:28:35.985 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:28:35.986 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:28:35.988 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:28:35.990 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:28:35.991 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:28:35.993 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:28:35.994 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:28:35.996 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:28:35.998 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:28:35.999 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:28:36.001 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:28:36.002 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:28:36.004 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:28:36.006 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:28:36.009 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:28:36.010 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:28:36.012 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:28:36.013 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:28:36.015 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:28:36.017 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:28:36.019 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:28:36.020 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:28:36.021 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:36.023 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:36.024 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:28:36.026 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:28:36.027 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:28:36.030 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:28:36.042 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:28:36.045 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:28:36.046 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:28:36.047 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:36.049 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:28:36.051 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:36.053 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:36.054 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:28:36.055 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:28:36.056 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:28:36.058 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:28:36.062 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:28:36.065 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:28:36.066 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:28:36.068 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:36.070 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:28:36.071 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:28:36.073 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:28:36.074 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:28:36.074 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:28:36.075 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:28:36.077 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:28:36.078 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 81.9446ms
2025-08-08 16:28:36.080 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:28:36.081 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:28:36.082 +07:00 [DBG] Connection id "0HNEMBEV568DN" received FIN.
2025-08-08 16:28:36.085 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:28:36.088 +07:00 [DBG] Connection id "0HNEMBEV568DN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:28:36.089 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:28:36.091 +07:00 [DBG] Connection id "0HNEMBEV568DN" disconnecting.
2025-08-08 16:28:36.092 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 117.6537ms
2025-08-08 16:28:36.096 +07:00 [DBG] Connection id "0HNEMBEV568DN" stopped.
2025-08-08 16:29:05.957 +07:00 [DBG] Connection id "0HNEMBEV568DO" accepted.
2025-08-08 16:29:05.961 +07:00 [DBG] Connection id "0HNEMBEV568DO" started.
2025-08-08 16:29:05.967 +07:00 [DBG] Connection 0HNEMBEV568DO established using the following protocol: "Tls13"
2025-08-08 16:29:05.969 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:29:05.971 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:29:05.972 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:29:05.974 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:29:05.975 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:29:05.976 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:29:05.977 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:29:05.978 +07:00 [DBG] Authorization was successful.
2025-08-08 16:29:05.979 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:29:05.980 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:29:05.982 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:29:05.983 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:29:05.985 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:29:05.987 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:29:05.989 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:29:05.990 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:29:05.992 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:29:05.993 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:29:05.995 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:29:05.997 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:29:05.999 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:29:06.000 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:29:06.002 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:29:06.004 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:29:06.005 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:29:06.006 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:29:06.008 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:29:06.010 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:29:06.012 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:29:06.012 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:29:06.013 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:06.015 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:06.016 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:29:06.017 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:29:06.018 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:29:06.020 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:29:06.023 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:29:06.026 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:29:06.027 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:29:06.029 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:06.030 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:29:06.032 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:06.033 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:06.034 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:29:06.035 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:29:06.037 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:29:06.038 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:29:06.041 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:29:06.043 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:29:06.044 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:29:06.046 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:06.047 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:29:06.048 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:29:06.050 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:29:06.051 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:29:06.052 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:29:06.053 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:29:06.054 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:29:06.055 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 64.4732ms
2025-08-08 16:29:06.057 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:29:06.058 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:29:06.059 +07:00 [DBG] Connection id "0HNEMBEV568DO" received FIN.
2025-08-08 16:29:06.060 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:06.061 +07:00 [DBG] Connection id "0HNEMBEV568DO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:29:06.062 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:29:06.063 +07:00 [DBG] Connection id "0HNEMBEV568DO" disconnecting.
2025-08-08 16:29:06.065 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 96.3097ms
2025-08-08 16:29:06.069 +07:00 [DBG] Connection id "0HNEMBEV568DO" stopped.
2025-08-08 16:29:35.958 +07:00 [DBG] Connection id "0HNEMBEV568DP" accepted.
2025-08-08 16:29:35.964 +07:00 [DBG] Connection id "0HNEMBEV568DP" started.
2025-08-08 16:29:35.969 +07:00 [DBG] Connection 0HNEMBEV568DP established using the following protocol: "Tls13"
2025-08-08 16:29:35.970 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:29:35.973 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:29:35.975 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:29:35.977 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:29:35.978 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:29:35.979 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:29:35.979 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:29:35.980 +07:00 [DBG] Authorization was successful.
2025-08-08 16:29:35.982 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:29:35.983 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:29:35.985 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:29:35.987 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:29:35.988 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:29:35.991 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:29:35.992 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:29:35.994 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:29:35.995 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:29:35.997 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:29:35.998 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:29:36.000 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:29:36.001 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:29:36.003 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:29:36.005 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:29:36.007 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:29:36.008 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:29:36.009 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:29:36.011 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:29:36.013 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:29:36.015 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:29:36.016 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:29:36.018 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:36.020 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:36.021 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:29:36.022 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:29:36.023 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:29:36.025 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:29:36.041 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:29:36.044 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:29:36.046 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:29:36.047 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:36.049 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:29:36.050 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:36.052 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:36.054 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:29:36.055 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:29:36.056 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:29:36.057 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:29:36.064 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:29:36.067 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:29:36.069 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:29:36.071 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:36.072 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:29:36.074 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:29:36.077 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:29:36.078 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:29:36.080 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:29:36.081 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:29:36.082 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:29:36.084 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 90.5839ms
2025-08-08 16:29:36.089 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:29:36.091 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:29:36.092 +07:00 [DBG] Connection id "0HNEMBEV568DP" received FIN.
2025-08-08 16:29:36.100 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:29:36.103 +07:00 [DBG] Connection id "0HNEMBEV568DP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:29:36.105 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:29:36.106 +07:00 [DBG] Connection id "0HNEMBEV568DP" disconnecting.
2025-08-08 16:29:36.108 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 137.9818ms
2025-08-08 16:29:36.112 +07:00 [DBG] Connection id "0HNEMBEV568DP" stopped.
2025-08-08 16:30:05.968 +07:00 [DBG] Connection id "0HNEMBEV568DQ" accepted.
2025-08-08 16:30:05.969 +07:00 [DBG] Connection id "0HNEMBEV568DQ" started.
2025-08-08 16:30:05.974 +07:00 [DBG] Connection 0HNEMBEV568DQ established using the following protocol: "Tls13"
2025-08-08 16:30:05.975 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:30:05.978 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:30:05.979 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:30:05.980 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:30:05.981 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:30:05.982 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:30:05.983 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:30:05.985 +07:00 [DBG] Authorization was successful.
2025-08-08 16:30:05.985 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:30:05.986 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:30:05.988 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:30:05.990 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:30:05.992 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:30:05.993 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:30:05.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:30:05.996 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:30:05.998 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:30:06.000 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:30:06.001 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:30:06.002 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:30:06.003 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:30:06.005 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:30:06.008 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:30:06.009 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:30:06.010 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:30:06.011 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:30:06.012 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:30:06.014 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:30:06.016 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:30:06.017 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:30:06.018 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:06.019 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:06.020 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:30:06.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:30:06.022 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:30:06.024 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:30:06.028 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:30:06.035 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:30:06.036 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:30:06.037 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:06.038 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:30:06.041 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:06.042 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:06.043 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:30:06.044 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:30:06.045 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:30:06.046 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:30:06.049 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:30:06.051 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:30:06.052 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:30:06.054 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:06.056 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:30:06.057 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:30:06.059 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:30:06.060 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:30:06.061 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:30:06.062 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:30:06.063 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:30:06.064 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 67.9573ms
2025-08-08 16:30:06.066 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:30:06.067 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:30:06.068 +07:00 [DBG] Connection id "0HNEMBEV568DQ" received FIN.
2025-08-08 16:30:06.068 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:06.069 +07:00 [DBG] Connection id "0HNEMBEV568DQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:30:06.070 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:30:06.072 +07:00 [DBG] Connection id "0HNEMBEV568DQ" disconnecting.
2025-08-08 16:30:06.073 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 97.248ms
2025-08-08 16:30:06.076 +07:00 [DBG] Connection id "0HNEMBEV568DQ" stopped.
2025-08-08 16:30:35.962 +07:00 [DBG] Connection id "0HNEMBEV568DR" accepted.
2025-08-08 16:30:35.968 +07:00 [DBG] Connection id "0HNEMBEV568DR" started.
2025-08-08 16:30:35.972 +07:00 [DBG] Connection 0HNEMBEV568DR established using the following protocol: "Tls13"
2025-08-08 16:30:35.973 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:30:35.975 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:30:35.977 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:30:35.979 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:30:35.980 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:30:35.981 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:30:35.982 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:30:35.983 +07:00 [DBG] Authorization was successful.
2025-08-08 16:30:35.984 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:30:35.985 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:30:35.987 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:30:35.988 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:30:35.989 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:30:35.991 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:30:35.993 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:30:35.995 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:30:35.996 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:30:35.997 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:30:35.999 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:30:36.001 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:30:36.002 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:30:36.004 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:30:36.005 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:30:36.007 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:30:36.008 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:30:36.010 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:30:36.011 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:30:36.012 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:30:36.014 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:30:36.015 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:30:36.017 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:36.018 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:36.019 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:30:36.020 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:30:36.021 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:30:36.022 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:30:36.040 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:30:36.043 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:30:36.045 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:30:36.046 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:36.047 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:30:36.050 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:36.051 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:36.052 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:30:36.053 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:30:36.055 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:30:36.057 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:30:36.062 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:30:36.064 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:30:36.065 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:30:36.067 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:36.068 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:30:36.070 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:30:36.072 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:30:36.073 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:30:36.074 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:30:36.074 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:30:36.076 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:30:36.077 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 82.2789ms
2025-08-08 16:30:36.078 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:30:36.080 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:30:36.080 +07:00 [DBG] Connection id "0HNEMBEV568DR" received FIN.
2025-08-08 16:30:36.081 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:30:36.082 +07:00 [DBG] Connection id "0HNEMBEV568DR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:30:36.083 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:30:36.084 +07:00 [DBG] Connection id "0HNEMBEV568DR" disconnecting.
2025-08-08 16:30:36.086 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 112.1679ms
2025-08-08 16:30:36.090 +07:00 [DBG] Connection id "0HNEMBEV568DR" stopped.
2025-08-08 16:31:33.967 +07:00 [DBG] Connection id "0HNEMBEV568DS" accepted.
2025-08-08 16:31:33.973 +07:00 [DBG] Connection id "0HNEMBEV568DS" started.
2025-08-08 16:31:33.977 +07:00 [DBG] Connection 0HNEMBEV568DS established using the following protocol: "Tls13"
2025-08-08 16:31:33.979 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:31:33.981 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:31:33.983 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:31:33.984 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:31:33.985 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:31:33.986 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:31:33.987 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:31:33.988 +07:00 [DBG] Authorization was successful.
2025-08-08 16:31:33.989 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:31:33.990 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:31:33.992 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:31:33.994 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:31:33.995 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:31:33.996 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:31:33.998 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:31:33.999 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:31:34.000 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:31:34.001 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:31:34.002 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:31:34.004 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:31:34.005 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:31:34.006 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:31:34.008 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:31:34.010 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:31:34.011 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:31:34.012 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:31:34.013 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:31:34.015 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:31:34.017 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:31:34.018 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:31:34.019 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:31:34.020 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:31:34.021 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:31:34.022 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:31:34.023 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:31:34.025 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:31:34.042 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:31:34.050 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:31:34.052 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:31:34.054 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:31:34.055 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:31:34.058 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:31:34.060 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:31:34.061 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:31:34.063 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:31:34.064 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:31:34.066 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:31:34.073 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:31:34.076 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:31:34.077 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:31:34.079 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:31:34.080 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:31:34.082 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:31:34.083 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:31:34.084 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:31:34.085 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:31:34.086 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:31:34.087 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:31:34.089 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 89.8127ms
2025-08-08 16:31:34.090 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:31:34.091 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:31:34.092 +07:00 [DBG] Connection id "0HNEMBEV568DS" received FIN.
2025-08-08 16:31:34.092 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:31:34.094 +07:00 [DBG] Connection id "0HNEMBEV568DS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:31:34.095 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:31:34.096 +07:00 [DBG] Connection id "0HNEMBEV568DS" disconnecting.
2025-08-08 16:31:34.097 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 118.0551ms
2025-08-08 16:31:34.101 +07:00 [DBG] Connection id "0HNEMBEV568DS" stopped.
2025-08-08 16:32:33.973 +07:00 [DBG] Connection id "0HNEMBEV568DT" accepted.
2025-08-08 16:32:33.980 +07:00 [DBG] Connection id "0HNEMBEV568DT" started.
2025-08-08 16:32:33.984 +07:00 [DBG] Connection 0HNEMBEV568DT established using the following protocol: "Tls13"
2025-08-08 16:32:33.986 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:32:33.989 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:32:33.991 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:32:33.993 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:32:33.994 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:32:33.996 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:32:33.996 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:32:33.997 +07:00 [DBG] Authorization was successful.
2025-08-08 16:32:33.998 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:32:34.000 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:32:34.001 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:32:34.003 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:32:34.004 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:32:34.006 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:32:34.007 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:32:34.009 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:32:34.010 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:32:34.012 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:32:34.013 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:32:34.015 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:32:34.016 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:32:34.018 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:32:34.020 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:32:34.021 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:32:34.022 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:32:34.023 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:32:34.025 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:32:34.027 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:32:34.029 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:32:34.030 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:32:34.031 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:32:34.032 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:32:34.033 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:32:34.034 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:32:34.036 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:32:34.037 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:32:34.048 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:32:34.055 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:32:34.056 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:32:34.058 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:32:34.059 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:32:34.061 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:32:34.062 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:32:34.064 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:32:34.065 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:32:34.066 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:32:34.068 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:32:34.074 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:32:34.076 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:32:34.077 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:32:34.079 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:32:34.080 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:32:34.081 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:32:34.083 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:32:34.084 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:32:34.085 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:32:34.086 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:32:34.087 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:32:34.089 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 79.8247ms
2025-08-08 16:32:34.091 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:32:34.092 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:32:34.093 +07:00 [DBG] Connection id "0HNEMBEV568DT" received FIN.
2025-08-08 16:32:34.093 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:32:34.095 +07:00 [DBG] Connection id "0HNEMBEV568DT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:32:34.096 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:32:34.097 +07:00 [DBG] Connection id "0HNEMBEV568DT" disconnecting.
2025-08-08 16:32:34.099 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 112.5194ms
2025-08-08 16:32:34.102 +07:00 [DBG] Connection id "0HNEMBEV568DT" stopped.
2025-08-08 16:33:33.969 +07:00 [DBG] Connection id "0HNEMBEV568DU" accepted.
2025-08-08 16:33:33.976 +07:00 [DBG] Connection id "0HNEMBEV568DU" started.
2025-08-08 16:33:33.980 +07:00 [DBG] Connection 0HNEMBEV568DU established using the following protocol: "Tls13"
2025-08-08 16:33:33.982 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:33:33.984 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:33:33.986 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:33:33.987 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:33:33.988 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:33:33.990 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:33:33.991 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:33:33.992 +07:00 [DBG] Authorization was successful.
2025-08-08 16:33:33.993 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:33:33.994 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:33:33.997 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:33:33.999 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:33:34.001 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:33:34.004 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:33:34.006 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:33:34.007 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:33:34.009 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:33:34.010 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:33:34.011 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:33:34.013 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:33:34.014 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:33:34.015 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:33:34.017 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:33:34.018 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:33:34.019 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:33:34.021 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:33:34.022 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:33:34.023 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:33:34.025 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:33:34.026 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:33:34.027 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:33:34.028 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:33:34.029 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:33:34.030 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:33:34.031 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:33:34.032 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:33:34.042 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:33:34.045 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:33:34.046 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:33:34.047 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:33:34.048 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:33:34.050 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:33:34.052 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:33:34.053 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:33:34.054 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:33:34.055 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:33:34.056 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:33:34.062 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:33:34.064 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:33:34.065 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:33:34.067 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:33:34.068 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:33:34.070 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:33:34.072 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:33:34.073 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:33:34.073 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:33:34.074 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:33:34.075 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:33:34.077 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 69.3437ms
2025-08-08 16:33:34.078 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:33:34.079 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:33:34.080 +07:00 [DBG] Connection id "0HNEMBEV568DU" received FIN.
2025-08-08 16:33:34.082 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:33:34.087 +07:00 [DBG] Connection id "0HNEMBEV568DU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:33:34.088 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-08 16:33:34.089 +07:00 [DBG] Connection id "0HNEMBEV568DU" disconnecting.
2025-08-08 16:33:34.090 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 108.182ms
2025-08-08 16:33:34.094 +07:00 [DBG] Connection id "0HNEMBEV568DU" stopped.
2025-08-08 16:34:33.971 +07:00 [DBG] Connection id "0HNEMBEV568DV" accepted.
2025-08-08 16:34:33.979 +07:00 [DBG] Connection id "0HNEMBEV568DV" started.
2025-08-08 16:34:33.983 +07:00 [DBG] Connection 0HNEMBEV568DV established using the following protocol: "Tls13"
2025-08-08 16:34:33.985 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:34:33.987 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:34:33.988 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:34:33.990 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:34:33.991 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:34:33.992 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:34:33.993 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:34:33.994 +07:00 [DBG] Authorization was successful.
2025-08-08 16:34:33.994 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:34:33.995 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:34:33.997 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:34:33.999 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:34:34.000 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:34:34.001 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:34:34.003 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:34:34.004 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:34:34.006 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:34:34.007 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:34:34.009 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:34:34.010 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:34:34.011 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:34:34.014 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:34:34.015 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:34:34.016 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:34:34.018 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:34:34.019 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:34:34.020 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:34:34.022 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:34:34.023 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:34:34.024 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:34:34.025 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:34:34.027 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:34:34.028 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:34:34.029 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:34:34.030 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:34:34.031 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:34:34.041 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:34:34.043 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:34:34.044 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:34:34.045 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:34:34.046 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:34:34.048 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:34:34.049 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:34:34.051 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:34:34.051 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:34:34.052 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:34:34.054 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:34:34.060 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:34:34.062 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:34:34.064 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:34:34.065 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:34:34.066 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:34:34.068 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:34:34.070 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:34:34.071 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:34:34.072 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:34:34.073 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:34:34.074 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:34:34.075 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 71.3545ms
2025-08-08 16:34:34.077 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:34:34.078 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:34:34.078 +07:00 [DBG] Connection id "0HNEMBEV568DV" received FIN.
2025-08-08 16:34:34.079 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:34:34.085 +07:00 [DBG] Connection id "0HNEMBEV568DV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:34:34.086 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-08 16:34:34.087 +07:00 [DBG] Connection id "0HNEMBEV568DV" disconnecting.
2025-08-08 16:34:34.089 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 103.9055ms
2025-08-08 16:34:34.093 +07:00 [DBG] Connection id "0HNEMBEV568DV" stopped.
2025-08-08 16:35:33.967 +07:00 [DBG] Connection id "0HNEMBEV568E0" accepted.
2025-08-08 16:35:33.975 +07:00 [DBG] Connection id "0HNEMBEV568E0" started.
2025-08-08 16:35:33.979 +07:00 [DBG] Connection 0HNEMBEV568E0 established using the following protocol: "Tls13"
2025-08-08 16:35:33.981 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:35:33.983 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:35:33.984 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:35:33.986 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:35:33.986 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:35:33.987 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:35:33.989 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:35:33.990 +07:00 [DBG] Authorization was successful.
2025-08-08 16:35:33.991 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:35:33.992 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:35:33.994 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:35:33.995 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:35:33.997 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:35:33.999 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:35:34.001 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:35:34.003 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:35:34.005 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:35:34.007 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:35:34.009 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:35:34.011 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:35:34.013 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:35:34.017 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:35:34.021 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:35:34.023 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:35:34.024 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:35:34.025 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:35:34.026 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:35:34.027 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:35:34.030 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:35:34.031 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:35:34.032 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:35:34.033 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:35:34.034 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:35:34.035 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:35:34.037 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:35:34.039 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:35:34.053 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:35:34.056 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:35:34.058 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:35:34.060 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:35:34.061 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:35:34.065 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:35:34.067 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:35:34.069 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:35:34.070 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:35:34.072 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:35:34.074 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:35:34.083 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:35:34.085 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:35:34.086 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:35:34.088 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:35:34.089 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:35:34.090 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:35:34.093 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:35:34.094 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:35:34.095 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:35:34.096 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:35:34.097 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:35:34.099 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 95.5842ms
2025-08-08 16:35:34.101 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:35:34.103 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:35:34.104 +07:00 [DBG] Connection id "0HNEMBEV568E0" received FIN.
2025-08-08 16:35:34.105 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:35:34.111 +07:00 [DBG] Connection id "0HNEMBEV568E0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:35:34.112 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-08 16:35:34.114 +07:00 [DBG] Connection id "0HNEMBEV568E0" disconnecting.
2025-08-08 16:35:34.115 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 134.6542ms
2025-08-08 16:35:34.120 +07:00 [DBG] Connection id "0HNEMBEV568E0" stopped.
2025-08-08 16:36:33.964 +07:00 [DBG] Connection id "0HNEMBEV568E1" accepted.
2025-08-08 16:36:33.969 +07:00 [DBG] Connection id "0HNEMBEV568E1" started.
2025-08-08 16:36:33.974 +07:00 [DBG] Connection 0HNEMBEV568E1 established using the following protocol: "Tls13"
2025-08-08 16:36:33.976 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:36:33.979 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:36:33.980 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:36:33.982 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:36:33.983 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:36:33.983 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:36:33.984 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:36:33.985 +07:00 [DBG] Authorization was successful.
2025-08-08 16:36:33.986 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:36:33.987 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:36:33.989 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:36:33.990 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:36:33.992 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:36:33.994 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:36:33.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:36:33.996 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:36:33.998 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:36:33.999 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:36:34.000 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:36:34.002 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:36:34.004 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:36:34.005 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:36:34.007 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:36:34.008 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:36:34.010 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:36:34.011 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:36:34.012 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:36:34.014 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:36:34.016 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:36:34.016 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:36:34.018 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:36:34.019 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:36:34.020 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:36:34.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:36:34.022 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:36:34.023 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:36:34.039 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:36:34.041 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:36:34.042 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:36:34.044 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:36:34.045 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:36:34.047 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:36:34.048 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:36:34.050 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:36:34.051 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:36:34.053 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:36:34.055 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:36:34.062 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:36:34.064 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:36:34.065 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:36:34.067 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:36:34.068 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:36:34.070 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:36:34.072 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:36:34.073 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:36:34.073 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:36:34.074 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:36:34.075 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:36:34.077 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 80.5085ms
2025-08-08 16:36:34.078 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:36:34.079 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:36:34.080 +07:00 [DBG] Connection id "0HNEMBEV568E1" received FIN.
2025-08-08 16:36:34.083 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:36:34.086 +07:00 [DBG] Connection id "0HNEMBEV568E1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:36:34.087 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:36:34.088 +07:00 [DBG] Connection id "0HNEMBEV568E1" disconnecting.
2025-08-08 16:36:34.090 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 113.4789ms
2025-08-08 16:36:34.093 +07:00 [DBG] Connection id "0HNEMBEV568E1" stopped.
2025-08-08 16:37:15.218 +07:00 [DBG] Connection id "0HNEMBEV568E2" accepted.
2025-08-08 16:37:15.224 +07:00 [DBG] Connection id "0HNEMBEV568E2" started.
2025-08-08 16:37:15.229 +07:00 [DBG] Connection 0HNEMBEV568E2 established using the following protocol: "Tls13"
2025-08-08 16:37:15.231 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:37:15.234 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:37:15.235 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:37:15.236 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:37:15.237 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:37:15.238 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:37:15.239 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:37:15.241 +07:00 [DBG] Authorization was successful.
2025-08-08 16:37:15.241 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:37:15.243 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:37:15.245 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:37:15.246 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:37:15.248 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:37:15.250 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:37:15.252 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:37:15.255 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:37:15.257 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:37:15.260 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:37:15.261 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:37:15.264 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:37:15.266 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:37:15.268 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:37:15.269 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:37:15.271 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:37:15.272 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:37:15.273 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:37:15.274 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:37:15.276 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:37:15.279 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:37:15.280 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:37:15.281 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:15.282 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:15.283 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:37:15.284 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:37:15.285 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:37:15.286 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:37:15.301 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:37:15.304 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:37:15.305 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:37:15.306 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:15.307 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:37:15.309 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:15.311 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:15.312 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:37:15.313 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:37:15.314 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:37:15.315 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:37:15.321 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:37:15.323 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:37:15.324 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:37:15.326 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:15.327 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:37:15.329 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:37:15.330 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:37:15.331 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:37:15.332 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:37:15.333 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:37:15.334 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:37:15.335 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 80.8558ms
2025-08-08 16:37:15.337 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:37:15.338 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:37:15.339 +07:00 [DBG] Connection id "0HNEMBEV568E2" received FIN.
2025-08-08 16:37:15.343 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:15.346 +07:00 [DBG] Connection id "0HNEMBEV568E2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:37:15.347 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:37:15.348 +07:00 [DBG] Connection id "0HNEMBEV568E2" disconnecting.
2025-08-08 16:37:15.349 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 118.6269ms
2025-08-08 16:37:15.353 +07:00 [DBG] Connection id "0HNEMBEV568E2" stopped.
2025-08-08 16:37:35.960 +07:00 [DBG] Connection id "0HNEMBEV568E3" accepted.
2025-08-08 16:37:35.965 +07:00 [DBG] Connection id "0HNEMBEV568E3" started.
2025-08-08 16:37:35.969 +07:00 [DBG] Connection 0HNEMBEV568E3 established using the following protocol: "Tls13"
2025-08-08 16:37:35.970 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:37:35.973 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:37:35.975 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:37:35.976 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:37:35.977 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:37:35.978 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:37:35.979 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:37:35.980 +07:00 [DBG] Authorization was successful.
2025-08-08 16:37:35.981 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:37:35.982 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:37:35.984 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:37:35.985 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:37:35.986 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:37:35.989 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:37:35.991 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:37:35.992 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:37:35.993 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:37:35.995 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:37:35.997 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:37:35.998 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:37:36.000 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:37:36.002 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:37:36.003 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:37:36.005 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:37:36.007 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:37:36.008 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:37:36.009 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:37:36.011 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:37:36.013 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:37:36.014 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:37:36.015 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:36.017 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:36.018 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:37:36.019 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:37:36.020 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:37:36.021 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:37:36.026 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:37:36.032 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:37:36.033 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:37:36.035 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:36.036 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:37:36.038 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:36.039 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:36.040 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:37:36.041 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:37:36.042 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:37:36.044 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:37:36.047 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:37:36.049 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:37:36.050 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:37:36.052 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:36.053 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:37:36.054 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:37:36.056 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:37:36.057 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:37:36.058 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:37:36.058 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:37:36.059 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:37:36.061 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 68.5461ms
2025-08-08 16:37:36.062 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:37:36.064 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:37:36.064 +07:00 [DBG] Connection id "0HNEMBEV568E3" received FIN.
2025-08-08 16:37:36.065 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:37:36.066 +07:00 [DBG] Connection id "0HNEMBEV568E3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:37:36.068 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:37:36.069 +07:00 [DBG] Connection id "0HNEMBEV568E3" disconnecting.
2025-08-08 16:37:36.071 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 100.3188ms
2025-08-08 16:37:36.075 +07:00 [DBG] Connection id "0HNEMBEV568E3" stopped.
2025-08-08 16:38:05.971 +07:00 [DBG] Connection id "0HNEMBEV568E4" accepted.
2025-08-08 16:38:05.973 +07:00 [DBG] Connection id "0HNEMBEV568E4" started.
2025-08-08 16:38:05.977 +07:00 [DBG] Connection 0HNEMBEV568E4 established using the following protocol: "Tls13"
2025-08-08 16:38:05.979 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:38:05.981 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:38:05.982 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:38:05.984 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:38:05.985 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:38:05.986 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:38:05.986 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:38:05.987 +07:00 [DBG] Authorization was successful.
2025-08-08 16:38:05.988 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:38:05.989 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:38:05.991 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:38:05.993 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:38:05.994 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:38:05.996 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:38:05.997 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:38:05.999 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:38:06.000 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:38:06.001 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:38:06.002 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:38:06.004 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:38:06.005 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:38:06.007 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:38:06.008 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:38:06.010 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:38:06.011 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:38:06.013 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:38:06.014 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:38:06.015 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:38:06.017 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:38:06.018 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:38:06.018 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:38:06.019 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:38:06.021 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:38:06.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:38:06.022 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:38:06.023 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:38:06.039 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:38:06.042 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:38:06.043 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:38:06.046 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:38:06.047 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:38:06.049 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:38:06.051 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:38:06.053 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:38:06.054 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:38:06.056 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:38:06.057 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:38:06.063 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:38:06.065 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:38:06.066 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:38:06.068 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:38:06.069 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:38:06.070 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:38:06.073 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:38:06.073 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:38:06.074 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:38:06.075 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:38:06.076 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:38:06.078 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 79.3494ms
2025-08-08 16:38:06.079 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:38:06.081 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:38:06.082 +07:00 [DBG] Connection id "0HNEMBEV568E4" received FIN.
2025-08-08 16:38:06.085 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:38:06.088 +07:00 [DBG] Connection id "0HNEMBEV568E4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:38:06.089 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:38:06.090 +07:00 [DBG] Connection id "0HNEMBEV568E4" disconnecting.
2025-08-08 16:38:06.092 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 113.0073ms
2025-08-08 16:38:06.096 +07:00 [DBG] Connection id "0HNEMBEV568E4" stopped.
2025-08-08 16:39:33.974 +07:00 [DBG] Connection id "0HNEMBEV568E5" accepted.
2025-08-08 16:39:33.981 +07:00 [DBG] Connection id "0HNEMBEV568E5" started.
2025-08-08 16:39:33.987 +07:00 [DBG] Connection 0HNEMBEV568E5 established using the following protocol: "Tls13"
2025-08-08 16:39:33.988 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:39:33.991 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:39:33.992 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:39:33.993 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:39:33.995 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:39:33.996 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:39:33.997 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:39:33.997 +07:00 [DBG] Authorization was successful.
2025-08-08 16:39:33.998 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:39:33.999 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:39:34.001 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:39:34.002 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:39:34.004 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:39:34.005 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:39:34.006 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:39:34.008 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:39:34.009 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:39:34.011 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:39:34.012 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:39:34.013 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:39:34.015 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:39:34.017 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:39:34.018 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:39:34.020 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:39:34.022 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:39:34.023 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:39:34.024 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:39:34.026 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:39:34.028 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:39:34.029 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:39:34.030 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:39:34.031 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:39:34.032 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:39:34.034 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:39:34.035 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:39:34.036 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:39:34.046 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:39:34.048 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:39:34.050 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:39:34.051 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:39:34.052 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:39:34.054 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:39:34.055 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:39:34.057 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:39:34.059 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:39:34.060 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:39:34.061 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:39:34.068 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:39:34.071 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:39:34.072 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:39:34.074 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:39:34.075 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:39:34.077 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:39:34.079 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:39:34.080 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:39:34.081 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:39:34.081 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:39:34.083 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:39:34.085 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 76.7372ms
2025-08-08 16:39:34.087 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:39:34.088 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:39:34.090 +07:00 [DBG] Connection id "0HNEMBEV568E5" received FIN.
2025-08-08 16:39:34.091 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:39:34.100 +07:00 [DBG] Connection id "0HNEMBEV568E5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:39:34.102 +07:00 [DBG] Disposed connection to database '' on server '' (10ms).
2025-08-08 16:39:34.104 +07:00 [DBG] Connection id "0HNEMBEV568E5" disconnecting.
2025-08-08 16:39:34.106 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 117.7172ms
2025-08-08 16:39:34.112 +07:00 [DBG] Connection id "0HNEMBEV568E5" stopped.
2025-08-08 16:40:07.251 +07:00 [DBG] Connection id "0HNEMBEV568E6" accepted.
2025-08-08 16:40:07.257 +07:00 [DBG] Connection id "0HNEMBEV568E6" started.
2025-08-08 16:40:07.262 +07:00 [DBG] Connection 0HNEMBEV568E6 established using the following protocol: "Tls13"
2025-08-08 16:40:07.264 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:40:07.266 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:40:07.267 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:40:07.269 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:40:07.270 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:40:07.271 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:40:07.272 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:40:07.273 +07:00 [DBG] Authorization was successful.
2025-08-08 16:40:07.274 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:40:07.275 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:40:07.277 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:40:07.279 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:40:07.281 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:40:07.283 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:40:07.285 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:40:07.287 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:40:07.289 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:40:07.291 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:40:07.292 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:40:07.293 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:40:07.295 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:40:07.297 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:40:07.298 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:40:07.299 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:40:07.301 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:40:07.302 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:40:07.304 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:40:07.305 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:40:07.308 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:40:07.309 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:40:07.310 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:07.311 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:07.312 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:40:07.313 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:40:07.315 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:40:07.317 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:40:07.326 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:40:07.329 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:40:07.330 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:40:07.332 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:07.333 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:40:07.335 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:07.337 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:07.338 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:40:07.339 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:40:07.340 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:40:07.341 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:40:07.346 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:40:07.349 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:40:07.351 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:40:07.352 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:07.353 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (0ms).
2025-08-08 16:40:07.354 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:40:07.356 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:40:07.356 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:40:07.358 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:40:07.358 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:40:07.360 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:40:07.361 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 74.1825ms
2025-08-08 16:40:07.363 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:40:07.365 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:40:07.366 +07:00 [DBG] Connection id "0HNEMBEV568E6" received FIN.
2025-08-08 16:40:07.366 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:07.368 +07:00 [DBG] Connection id "0HNEMBEV568E6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:40:07.369 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:40:07.371 +07:00 [DBG] Connection id "0HNEMBEV568E6" disconnecting.
2025-08-08 16:40:07.373 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 109.4414ms
2025-08-08 16:40:07.380 +07:00 [DBG] Connection id "0HNEMBEV568E6" stopped.
2025-08-08 16:40:35.230 +07:00 [DBG] Connection id "0HNEMBEV568E7" accepted.
2025-08-08 16:40:35.237 +07:00 [DBG] Connection id "0HNEMBEV568E7" started.
2025-08-08 16:40:35.242 +07:00 [DBG] Connection 0HNEMBEV568E7 established using the following protocol: "Tls13"
2025-08-08 16:40:35.243 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:40:35.246 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:40:35.247 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:40:35.248 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:40:35.249 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:40:35.250 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:40:35.251 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:40:35.252 +07:00 [DBG] Authorization was successful.
2025-08-08 16:40:35.253 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:40:35.254 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:40:35.256 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:40:35.257 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:40:35.259 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:40:35.260 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:40:35.262 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:40:35.263 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:40:35.264 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:40:35.266 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:40:35.267 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:40:35.268 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:40:35.270 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:40:35.272 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:40:35.273 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:40:35.275 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:40:35.276 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:40:35.277 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:40:35.279 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:40:35.280 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:40:35.282 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:40:35.283 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:40:35.284 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:35.285 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:35.287 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:40:35.288 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:40:35.289 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:40:35.291 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:40:35.306 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:40:35.308 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:40:35.310 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:40:35.311 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:35.312 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:40:35.314 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:35.315 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:35.317 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:40:35.318 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:40:35.319 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:40:35.321 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:40:35.326 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:40:35.329 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:40:35.330 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:40:35.332 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:35.334 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:40:35.336 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:40:35.339 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:40:35.339 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:40:35.340 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:40:35.341 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:40:35.342 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:40:35.344 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 81.4485ms
2025-08-08 16:40:35.346 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:40:35.348 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:40:35.349 +07:00 [DBG] Connection id "0HNEMBEV568E7" received FIN.
2025-08-08 16:40:35.352 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:40:35.355 +07:00 [DBG] Connection id "0HNEMBEV568E7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:40:35.356 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:40:35.357 +07:00 [DBG] Connection id "0HNEMBEV568E7" disconnecting.
2025-08-08 16:40:35.359 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 115.3871ms
2025-08-08 16:40:35.362 +07:00 [DBG] Connection id "0HNEMBEV568E7" stopped.
2025-08-08 16:41:05.957 +07:00 [DBG] Connection id "0HNEMBEV568E8" accepted.
2025-08-08 16:41:05.962 +07:00 [DBG] Connection id "0HNEMBEV568E8" started.
2025-08-08 16:41:05.966 +07:00 [DBG] Connection 0HNEMBEV568E8 established using the following protocol: "Tls13"
2025-08-08 16:41:05.968 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:41:05.970 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:41:05.971 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:41:05.973 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:41:05.974 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:41:05.975 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:41:05.976 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:41:05.977 +07:00 [DBG] Authorization was successful.
2025-08-08 16:41:05.978 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:41:05.979 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:41:05.980 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:41:05.981 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:41:05.983 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:41:05.984 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:41:05.986 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:41:05.987 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:41:05.988 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:41:05.989 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:41:05.990 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:41:05.991 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:41:05.994 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:41:05.995 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:41:05.996 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:41:05.997 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:41:05.998 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:41:06.000 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:41:06.001 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:41:06.002 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:41:06.004 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:41:06.004 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:41:06.005 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:06.007 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:06.008 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:41:06.009 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:41:06.010 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:41:06.011 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:41:06.016 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:41:06.022 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:41:06.023 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:41:06.025 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:06.026 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:41:06.028 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:06.029 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:06.031 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:41:06.032 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:41:06.033 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:41:06.035 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:41:06.037 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:41:06.040 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:41:06.041 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:41:06.043 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:06.044 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:41:06.046 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:41:06.049 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:41:06.050 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:41:06.051 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:41:06.051 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:41:06.053 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:41:06.055 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 67.9564ms
2025-08-08 16:41:06.057 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:41:06.058 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:41:06.058 +07:00 [DBG] Connection id "0HNEMBEV568E8" received FIN.
2025-08-08 16:41:06.059 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:06.060 +07:00 [DBG] Connection id "0HNEMBEV568E8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:41:06.062 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:41:06.063 +07:00 [DBG] Connection id "0HNEMBEV568E8" disconnecting.
2025-08-08 16:41:06.065 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 97.2134ms
2025-08-08 16:41:06.070 +07:00 [DBG] Connection id "0HNEMBEV568E8" stopped.
2025-08-08 16:41:35.963 +07:00 [DBG] Connection id "0HNEMBEV568E9" accepted.
2025-08-08 16:41:35.969 +07:00 [DBG] Connection id "0HNEMBEV568E9" started.
2025-08-08 16:41:35.974 +07:00 [DBG] Connection 0HNEMBEV568E9 established using the following protocol: "Tls13"
2025-08-08 16:41:35.975 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:41:35.977 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:41:35.978 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:41:35.981 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:41:35.982 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:41:35.983 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:41:35.984 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:41:35.985 +07:00 [DBG] Authorization was successful.
2025-08-08 16:41:35.985 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:41:35.987 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:41:35.989 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:41:35.990 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:41:35.991 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:41:35.993 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:41:35.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:41:35.996 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:41:35.998 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:41:35.999 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:41:36.001 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:41:36.002 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:41:36.004 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:41:36.006 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:41:36.007 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:41:36.009 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:41:36.010 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:41:36.011 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:41:36.012 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:41:36.014 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:41:36.017 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:41:36.017 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:41:36.018 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:36.020 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:36.021 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:41:36.023 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:41:36.024 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:41:36.025 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:41:36.031 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:41:36.033 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:41:36.034 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:41:36.036 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:36.037 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:41:36.039 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:36.040 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:36.041 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:41:36.042 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:41:36.044 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:41:36.045 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:41:36.052 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:41:36.054 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:41:36.055 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:41:36.057 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:36.058 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:41:36.060 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:41:36.062 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:41:36.063 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:41:36.064 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:41:36.065 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:41:36.066 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:41:36.067 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 70.9014ms
2025-08-08 16:41:36.069 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:41:36.071 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:41:36.071 +07:00 [DBG] Connection id "0HNEMBEV568E9" received FIN.
2025-08-08 16:41:36.072 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:41:36.073 +07:00 [DBG] Connection id "0HNEMBEV568E9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:41:36.074 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:41:36.076 +07:00 [DBG] Connection id "0HNEMBEV568E9" disconnecting.
2025-08-08 16:41:36.077 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 101.6737ms
2025-08-08 16:41:36.081 +07:00 [DBG] Connection id "0HNEMBEV568E9" stopped.
2025-08-08 16:42:05.232 +07:00 [DBG] Connection id "0HNEMBEV568EA" accepted.
2025-08-08 16:42:05.237 +07:00 [DBG] Connection id "0HNEMBEV568EA" started.
2025-08-08 16:42:05.241 +07:00 [DBG] Connection 0HNEMBEV568EA established using the following protocol: "Tls13"
2025-08-08 16:42:05.243 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:42:05.246 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:42:05.247 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:42:05.249 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:42:05.250 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:42:05.250 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:42:05.251 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:42:05.253 +07:00 [DBG] Authorization was successful.
2025-08-08 16:42:05.253 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:42:05.254 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:42:05.256 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:42:05.258 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:42:05.261 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:42:05.263 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:42:05.264 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:42:05.266 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:42:05.268 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:42:05.270 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:42:05.271 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:42:05.273 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:42:05.275 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:42:05.276 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:42:05.277 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:42:05.279 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:42:05.281 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:42:05.282 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:42:05.283 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:42:05.284 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:42:05.286 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:42:05.288 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:42:05.289 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:05.290 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:05.291 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:42:05.291 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:42:05.292 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:42:05.293 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:42:05.297 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:42:05.300 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:42:05.301 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:42:05.303 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:05.304 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:42:05.306 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:05.307 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:05.308 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:42:05.309 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:42:05.311 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:42:05.312 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:42:05.314 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:42:05.317 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:42:05.318 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:42:05.319 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:05.320 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:42:05.322 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:42:05.324 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:42:05.325 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:42:05.325 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:42:05.326 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:42:05.328 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:42:05.329 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 62.965ms
2025-08-08 16:42:05.331 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:42:05.332 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:42:05.333 +07:00 [DBG] Connection id "0HNEMBEV568EA" received FIN.
2025-08-08 16:42:05.333 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:05.335 +07:00 [DBG] Connection id "0HNEMBEV568EA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:42:05.336 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:42:05.337 +07:00 [DBG] Connection id "0HNEMBEV568EA" disconnecting.
2025-08-08 16:42:05.338 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 94.9405ms
2025-08-08 16:42:05.342 +07:00 [DBG] Connection id "0HNEMBEV568EA" stopped.
2025-08-08 16:42:35.963 +07:00 [DBG] Connection id "0HNEMBEV568EB" accepted.
2025-08-08 16:42:35.967 +07:00 [DBG] Connection id "0HNEMBEV568EB" started.
2025-08-08 16:42:35.973 +07:00 [DBG] Connection 0HNEMBEV568EB established using the following protocol: "Tls13"
2025-08-08 16:42:35.975 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:42:35.977 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:42:35.978 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:42:35.980 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:42:35.981 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:42:35.982 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:42:35.983 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:42:35.984 +07:00 [DBG] Authorization was successful.
2025-08-08 16:42:35.985 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:42:35.986 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:42:35.989 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:42:35.991 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:42:35.992 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:42:35.994 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:42:35.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:42:35.997 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:42:35.999 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:42:36.001 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:42:36.002 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:42:36.004 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:42:36.006 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:42:36.007 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:42:36.009 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:42:36.010 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:42:36.012 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:42:36.013 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:42:36.014 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:42:36.016 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:42:36.018 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:42:36.019 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:42:36.020 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:36.021 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:36.022 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:42:36.023 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:42:36.024 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:42:36.026 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:42:36.035 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:42:36.037 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:42:36.039 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:42:36.040 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:36.041 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:42:36.043 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:36.044 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:36.046 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:42:36.047 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:42:36.048 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:42:36.049 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:42:36.055 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:42:36.058 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:42:36.059 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:42:36.061 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:36.062 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:42:36.064 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:42:36.066 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:42:36.067 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:42:36.068 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:42:36.068 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:42:36.070 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:42:36.071 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 73.7169ms
2025-08-08 16:42:36.072 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:42:36.074 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:42:36.074 +07:00 [DBG] Connection id "0HNEMBEV568EB" received FIN.
2025-08-08 16:42:36.075 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:42:36.076 +07:00 [DBG] Connection id "0HNEMBEV568EB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:42:36.078 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:42:36.079 +07:00 [DBG] Connection id "0HNEMBEV568EB" disconnecting.
2025-08-08 16:42:36.081 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 106.7035ms
2025-08-08 16:42:36.085 +07:00 [DBG] Connection id "0HNEMBEV568EB" stopped.
2025-08-08 16:43:05.235 +07:00 [DBG] Connection id "0HNEMBEV568EC" accepted.
2025-08-08 16:43:05.240 +07:00 [DBG] Connection id "0HNEMBEV568EC" started.
2025-08-08 16:43:05.244 +07:00 [DBG] Connection 0HNEMBEV568EC established using the following protocol: "Tls13"
2025-08-08 16:43:05.246 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:43:05.248 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:43:05.250 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:43:05.251 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:43:05.252 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:43:05.253 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:43:05.254 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:43:05.255 +07:00 [DBG] Authorization was successful.
2025-08-08 16:43:05.256 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:43:05.257 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:43:05.259 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:43:05.260 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:43:05.261 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:43:05.263 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:43:05.265 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:43:05.266 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:43:05.267 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:43:05.268 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:43:05.270 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:43:05.272 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:43:05.273 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:43:05.275 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:43:05.277 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:43:05.278 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:43:05.279 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:43:05.281 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:43:05.282 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:43:05.284 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:43:05.286 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:43:05.287 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:43:05.288 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:05.289 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:05.291 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:43:05.292 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:43:05.293 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:43:05.294 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:43:05.299 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:43:05.306 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:43:05.307 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:43:05.308 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:05.309 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:43:05.311 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:05.313 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:05.314 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:43:05.315 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:43:05.316 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:43:05.317 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:43:05.320 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:43:05.322 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:43:05.324 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:43:05.325 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:05.327 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:43:05.328 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:43:05.330 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:43:05.331 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:43:05.332 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:43:05.333 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:43:05.334 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:43:05.335 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 69.0488ms
2025-08-08 16:43:05.337 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:43:05.338 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:43:05.339 +07:00 [DBG] Connection id "0HNEMBEV568EC" received FIN.
2025-08-08 16:43:05.340 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:05.341 +07:00 [DBG] Connection id "0HNEMBEV568EC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:43:05.342 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:43:05.343 +07:00 [DBG] Connection id "0HNEMBEV568EC" disconnecting.
2025-08-08 16:43:05.344 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 98.4933ms
2025-08-08 16:43:05.349 +07:00 [DBG] Connection id "0HNEMBEV568EC" stopped.
2025-08-08 16:43:35.966 +07:00 [DBG] Connection id "0HNEMBEV568ED" accepted.
2025-08-08 16:43:35.972 +07:00 [DBG] Connection id "0HNEMBEV568ED" started.
2025-08-08 16:43:35.977 +07:00 [DBG] Connection 0HNEMBEV568ED established using the following protocol: "Tls13"
2025-08-08 16:43:35.978 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:43:35.981 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:43:35.982 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:43:35.983 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:43:35.984 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:43:35.985 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:43:35.986 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:43:35.987 +07:00 [DBG] Authorization was successful.
2025-08-08 16:43:35.988 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:43:35.989 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:43:35.991 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:43:35.992 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:43:35.995 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:43:35.996 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:43:35.998 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:43:35.999 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:43:36.001 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:43:36.003 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:43:36.005 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:43:36.006 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:43:36.008 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:43:36.010 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:43:36.012 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:43:36.013 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:43:36.015 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:43:36.016 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:43:36.017 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:43:36.019 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:43:36.021 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:43:36.022 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:43:36.022 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:36.023 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:36.025 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:43:36.026 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:43:36.028 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:43:36.029 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:43:36.039 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:43:36.041 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:43:36.043 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:43:36.044 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:36.045 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:43:36.047 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:36.048 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:36.049 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:43:36.051 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:43:36.052 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:43:36.053 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:43:36.058 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:43:36.060 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:43:36.061 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:43:36.064 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:36.065 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:43:36.067 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:43:36.069 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:43:36.070 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:43:36.071 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:43:36.072 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:43:36.073 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:43:36.075 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 75.2894ms
2025-08-08 16:43:36.076 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:43:36.077 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:43:36.078 +07:00 [DBG] Connection id "0HNEMBEV568ED" received FIN.
2025-08-08 16:43:36.081 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:43:36.085 +07:00 [DBG] Connection id "0HNEMBEV568ED" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:43:36.085 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:43:36.087 +07:00 [DBG] Connection id "0HNEMBEV568ED" disconnecting.
2025-08-08 16:43:36.088 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 109.5406ms
2025-08-08 16:43:36.092 +07:00 [DBG] Connection id "0HNEMBEV568ED" stopped.
2025-08-08 16:44:05.959 +07:00 [DBG] Connection id "0HNEMBEV568EE" accepted.
2025-08-08 16:44:05.966 +07:00 [DBG] Connection id "0HNEMBEV568EE" started.
2025-08-08 16:44:05.971 +07:00 [DBG] Connection 0HNEMBEV568EE established using the following protocol: "Tls13"
2025-08-08 16:44:05.972 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:44:05.975 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:44:05.976 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:44:05.978 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:05.979 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:05.980 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:05.982 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:05.983 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:05.984 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:05.985 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:44:05.987 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:05.989 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:05.991 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:05.994 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:05.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:05.997 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:44:05.998 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:44:06.000 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:44:06.001 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:44:06.003 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:44:06.004 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:44:06.006 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:44:06.007 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:44:06.009 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:06.010 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:06.011 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:44:06.013 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:06.014 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:06.017 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:06.018 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:44:06.019 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:06.021 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:06.023 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:06.024 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:44:06.026 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:44:06.027 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:44:06.031 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:44:06.039 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:06.041 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:44:06.042 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:06.044 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:06.045 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:06.047 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:06.048 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:06.048 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:44:06.049 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:44:06.051 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:44:06.054 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:44:06.055 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:06.057 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:44:06.059 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:06.061 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:06.063 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:06.065 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:06.066 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:06.068 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:06.069 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:06.071 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:06.072 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 75.3615ms
2025-08-08 16:44:06.074 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:06.075 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:06.076 +07:00 [DBG] Connection id "0HNEMBEV568EE" received FIN.
2025-08-08 16:44:06.077 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:06.078 +07:00 [DBG] Connection id "0HNEMBEV568EE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:44:06.079 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:44:06.081 +07:00 [DBG] Connection id "0HNEMBEV568EE" disconnecting.
2025-08-08 16:44:06.082 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 109.4772ms
2025-08-08 16:44:06.087 +07:00 [DBG] Connection id "0HNEMBEV568EE" stopped.
2025-08-08 16:44:11.559 +07:00 [DBG] Connection id "0HNEMBEV568EF" accepted.
2025-08-08 16:44:11.561 +07:00 [DBG] Connection id "0HNEMBEV568EF" started.
2025-08-08 16:44:11.566 +07:00 [DBG] Connection 0HNEMBEV568EF established using the following protocol: "Tls13"
2025-08-08 16:44:11.568 +07:00 [DBG] Connection id "0HNEMBEV568EG" accepted.
2025-08-08 16:44:11.568 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:44:11.573 +07:00 [DBG] Connection id "0HNEMBEV568EG" started.
2025-08-08 16:44:11.581 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:44:11.584 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:44:11.584 +07:00 [DBG] Connection 0HNEMBEV568EG established using the following protocol: "Tls13"
2025-08-08 16:44:11.586 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:11.588 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Score/grouped-by-semester/7 - null null
2025-08-08 16:44:11.590 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:11.598 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Score/grouped-by-semester/7'
2025-08-08 16:44:11.599 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:11.600 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:44:11.601 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:11.602 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:11.603 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:11.604 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:44:11.604 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:11.606 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:44:11.607 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:44:11.608 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:44:11.610 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:11.611 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Score/grouped-by-semester/7 - 204 null null 22.767ms
2025-08-08 16:44:11.612 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:11.614 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/Score/grouped-by-semester/7 - null null
2025-08-08 16:44:11.617 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:11.622 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Score/grouped-by-semester/7'
2025-08-08 16:44:11.623 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:11.624 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)' with route pattern 'api/Score/grouped-by-semester/{studentId}' is valid for the request path '/api/Score/grouped-by-semester/7'
2025-08-08 16:44:11.626 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:11.628 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-08 16:44:11.630 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:44:11.631 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:11.632 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:44:11.633 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:44:11.634 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:44:11.635 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:44:11.637 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:44:11.637 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:11.639 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:44:11.639 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:11.642 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:44:11.644 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:11.645 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:44:11.646 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-08 16:44:11.647 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:44:11.650 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:11.651 +07:00 [INF] Route matched with {action = "GetScoresGroupedBySemester", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresGroupedBySemester(Int32) on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-08 16:44:11.651 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:11.653 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:11.654 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:44:11.656 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:11.658 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:11.659 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:11.660 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:11.662 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:11.664 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:11.666 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:11.666 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:44:11.668 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 16:44:11.669 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.671 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 16:44:11.672 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.673 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.Int32' ...
2025-08-08 16:44:11.674 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:11.676 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.Int32' using the name 'studentId' in request data ...
2025-08-08 16:44:11.677 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:44:11.679 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.Int32'.
2025-08-08 16:44:11.680 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:44:11.681 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.Int32'.
2025-08-08 16:44:11.683 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:44:11.684 +07:00 [DBG] Attempting to validate the bound parameter 'studentId' of type 'System.Int32' ...
2025-08-08 16:44:11.687 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:44:11.689 +07:00 [DBG] Done attempting to validate the bound parameter 'studentId' of type 'System.Int32'.
2025-08-08 16:44:11.691 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.693 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:44:11.694 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.695 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:11.695 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:11.700 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.701 +07:00 [DBG] Compiling query expression: 
'DbSet<Score>()
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.Student)
    .ThenInclude(s => s.User)
    .Include(s => s.Enrollment.CourseClass)
    .ThenInclude(c => c.Subject)
    .Include(s => s.Enrollment.CourseClass.Semester)
    .Where(s => s.Enrollment.StudentId == __studentId_0)'
2025-08-08 16:44:11.702 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.705 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:11.706 +07:00 [DBG] Including navigation: 'Score.Enrollment'.
2025-08-08 16:44:11.707 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:44:11.709 +07:00 [DBG] Including navigation: 'Enrollment.Student'.
2025-08-08 16:44:11.709 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:44:11.711 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-08 16:44:11.711 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:44:11.713 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-08 16:44:11.714 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:44:11.716 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 16:44:11.717 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.719 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-08 16:44:11.719 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:44:11.722 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.723 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:11.724 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:11.727 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:11.727 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:11.728 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:11.728 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:11.729 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:11.731 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 101.0184ms
2025-08-08 16:44:11.732 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:11.734 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:11.734 +07:00 [DBG] Connection id "0HNEMBEV568EF" received FIN.
2025-08-08 16:44:11.735 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.737 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:44:11.737 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Score>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
            6 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 36], [Property: Semester.EndDate (DateTime) Required, 37], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 38], [Property: Semester.Name (string) Required, 39], [Property: Semester.StartDate (DateTime) Required, 40] }
        SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode, s2.Id, s2.EndDate, s2.IsOpen, s2.Name, s2.StartDate
        FROM Scores AS s
        INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
        INNER JOIN Students AS s0 ON e.StudentId == s0.Id
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
        INNER JOIN Semesters AS s2 ON c.SemesterId == s2.Id
        WHERE e.StudentId == @__studentId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
            6 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 36], [Property: Semester.EndDate (DateTime) Required, 37], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 38], [Property: Semester.Name (string) Required, 39], [Property: Semester.StartDate (DateTime) Required, 40] }
        SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode, s2.Id, s2.EndDate, s2.IsOpen, s2.Name, s2.StartDate
        FROM Scores AS s
        INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
        INNER JOIN Students AS s0 ON e.StudentId == s0.Id
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
        INNER JOIN Semesters AS s2 ON c.SemesterId == s2.Id
        WHERE e.StudentId == @__studentId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Score entity;
        Enrollment entity;
        Student entity;
        User entity;
        CourseClass entity;
        Subject entity;
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Score instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Score);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Score.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Score)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]: 
                        {
                            return 
                            {
                                Score instance;
                                instance = new Score();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EnrollmentId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Final>k__BackingField = dataReader.IsDBNull(2) ? default(double?) : (double?)dataReader.GetDouble(2);
                                instance.<Midterm>k__BackingField = dataReader.IsDBNull(3) ? default(double?) : (double?)dataReader.GetDouble(3);
                                instance.<Other>k__BackingField = dataReader.IsDBNull(4) ? default(double?) : (double?)dataReader.GetDouble(4);
                                instance.<Total>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Score)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Enrollment instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Enrollment);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Enrollment)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Enrollment")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(7);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(8);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Student instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Student);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(10) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Student)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(10);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(11);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(12);
                                instance.<Gender>k__BackingField = dataReader.GetString(13);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(14);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(15);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            User instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(User);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (User)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<FullName>k__BackingField = dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<Role>k__BackingField = dataReader.GetString(21);
                                instance.<Username>k__BackingField = dataReader.GetString(22);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            CourseClass instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(CourseClass);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (CourseClass)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CourseClass")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(24);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(27);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(28);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(29);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        entity = 
        {
            MaterializationContext materializationContext6;
            IEntityType entityType6;
            Subject instance6;
            InternalEntityEntry entry6;
            bool hasNullKey6;
            materializationContext6 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance6 = default(Subject);
            entry6 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(30) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey6);
            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
            {
                entityType6 = entry6.EntityType;
                return instance6 = (Subject)entry6.Entity;
            } : 
            {
                ISnapshot shadowSnapshot6;
                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType6 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance6 = switch (entityType6)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(30);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(31);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(32) ? default(string) : dataReader.GetString(32);
                                instance.<Name>k__BackingField = dataReader.GetString(33);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(34);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(35);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext6.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType6, 
                    entity: instance6, 
                    snapshot: shadowSnapshot6);
                return instance6;
            } : default(void);
            return instance6;
        };
        entity = 
        {
            MaterializationContext materializationContext7;
            IEntityType entityType7;
            Semester instance7;
            InternalEntityEntry entry7;
            bool hasNullKey7;
            materializationContext7 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance7 = default(Semester);
            entry7 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(36) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey7);
            !(hasNullKey7) ? entry7 != default(InternalEntityEntry) ? 
            {
                entityType7 = entry7.EntityType;
                return instance7 = (Semester)entry7.Entity;
            } : 
            {
                ISnapshot shadowSnapshot7;
                shadowSnapshot7 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType7 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Semester")];
                instance7 = switch (entityType7)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(36);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(37);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(38);
                                instance.<Name>k__BackingField = dataReader.GetString(39);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(40);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext7.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry7 = entityType7 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType7, 
                    entity: instance7, 
                    snapshot: shadowSnapshot7);
                return instance7;
            } : default(void);
            return instance7;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{23}, namelessParameter{24}) => 
            {
                namelessParameter{23}.<User>k__BackingField = namelessParameter{24};
                return namelessParameter{24}.<Student>k__BackingField = namelessParameter{23};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, Student>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.Student (Student) ToPrincipal Student Inverse: Enrollments | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Student")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: Student | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{27}, namelessParameter{28}) => 
            {
                namelessParameter{27}.<Student>k__BackingField = namelessParameter{28};
                return [LIFTABLE Constant: ClrICollectionAccessor<Student, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{28}, 
                    value: namelessParameter{27}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{32}, namelessParameter{33}) => 
            {
                namelessParameter{32}.<Subject>k__BackingField = namelessParameter{33};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{33}, 
                    value: namelessParameter{32}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{37}, namelessParameter{38}) => 
            {
                namelessParameter{37}.<Semester>k__BackingField = namelessParameter{38};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{39} => namelessParameter{39}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{38}, 
                    value: namelessParameter{37}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{40} => namelessParameter{40}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{42}, namelessParameter{43}) => 
            {
                namelessParameter{42}.<CourseClass>k__BackingField = namelessParameter{43};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{44} => namelessParameter{44}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{43}, 
                    value: namelessParameter{42}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Score, Score, Enrollment>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Score.Enrollment (Enrollment) ToPrincipal Enrollment Inverse: Score | Resolver: namelessParameter{45} => namelessParameter{45}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindNavigation("Enrollment")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.Score (Score) ToDependent Score Inverse: Enrollment | Resolver: namelessParameter{46} => namelessParameter{46}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Score")], 
            fixup: (namelessParameter{47}, namelessParameter{48}) => 
            {
                namelessParameter{47}.<Enrollment>k__BackingField = namelessParameter{48};
                return namelessParameter{48}.<Score>k__BackingField = namelessParameter{47};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 16:44:11.736 +07:00 [DBG] Connection id "0HNEMBEV568EF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:44:11.739 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 170.6288ms
2025-08-08 16:44:11.748 +07:00 [DBG] Connection id "0HNEMBEV568EF" disconnecting.
2025-08-08 16:44:11.753 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:11.754 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:44:11.755 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.756 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.757 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:11.758 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:44:11.759 +07:00 [DBG] Connection id "0HNEMBEV568EF" stopped.
2025-08-08 16:44:11.760 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:11.762 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:44:11.770 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:44:11.775 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.788 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.790 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.793 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.796 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.798 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.799 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.801 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.802 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.803 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.805 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.806 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.807 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.809 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.811 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.812 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.814 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.816 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.817 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.818 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.820 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.822 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.823 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.824 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.826 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.827 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.829 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.830 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.831 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.833 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.834 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.836 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.838 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.839 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.840 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.841 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.843 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.844 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.846 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.847 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.848 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.850 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.851 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.852 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.854 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.855 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.856 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.858 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.860 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.861 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.862 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.864 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.865 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.867 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.868 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.869 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.871 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.872 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.873 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.875 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.876 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.878 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.879 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.880 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.881 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.883 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.885 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.886 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.887 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.888 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.889 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.891 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.893 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.894 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.896 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.897 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.899 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.900 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.901 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.903 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.904 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.906 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.907 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.908 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.909 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.910 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.912 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.913 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.914 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.916 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.917 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.919 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.921 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.922 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.923 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.925 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.926 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.928 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.929 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.930 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:11.932 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.933 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 160ms reading results.
2025-08-08 16:44:11.934 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.935 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (0ms).
2025-08-08 16:44:11.937 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:11.940 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:11.941 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:11.942 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:11.943 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:11.944 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectEnumerableIterator`2[[System.Linq.IGrouping`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[StudentManagementAPI.Models.Score, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Linq, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[StudentManagementAPI.DTOs.Score.SemesterScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:11.960 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI) in 291.9345ms
2025-08-08 16:44:11.962 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-08 16:44:11.963 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:11.964 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:11.966 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:44:11.967 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/Score/grouped-by-semester/7 - 200 null application/json; charset=utf-8 353.2328ms
2025-08-08 16:44:12.483 +07:00 [DBG] Connection id "0HNEMBEV568EH" accepted.
2025-08-08 16:44:12.485 +07:00 [DBG] Connection id "0HNEMBEV568EH" started.
2025-08-08 16:44:12.490 +07:00 [DBG] Connection 0HNEMBEV568EH established using the following protocol: "Tls13"
2025-08-08 16:44:12.491 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:44:12.493 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:44:12.495 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:44:12.496 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/Score/grouped-by-semester/7 - null null
2025-08-08 16:44:12.498 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:12.500 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Score/grouped-by-semester/7'
2025-08-08 16:44:12.501 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:12.503 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)' with route pattern 'api/Score/grouped-by-semester/{studentId}' is valid for the request path '/api/Score/grouped-by-semester/7'
2025-08-08 16:44:12.504 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:12.506 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-08 16:44:12.507 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:12.508 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:12.510 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:12.511 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:44:12.512 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:12.513 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:44:12.514 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:44:12.515 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:12.517 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:12.518 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:12.519 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:12.520 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:12.522 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:12.523 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-08 16:44:12.525 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:12.526 +07:00 [INF] Route matched with {action = "GetScoresGroupedBySemester", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresGroupedBySemester(Int32) on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-08 16:44:12.527 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:12.529 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:12.531 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:44:12.532 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:12.533 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:44:12.535 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:12.536 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:44:12.538 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:12.540 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:44:12.541 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:12.542 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:44:12.544 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 16:44:12.546 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:44:12.548 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 16:44:12.550 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.Int32' ...
2025-08-08 16:44:12.548 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:44:12.552 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.Int32' using the name 'studentId' in request data ...
2025-08-08 16:44:12.554 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:44:12.555 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.Int32'.
2025-08-08 16:44:12.557 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:12.559 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.Int32'.
2025-08-08 16:44:12.560 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:12.561 +07:00 [DBG] Attempting to validate the bound parameter 'studentId' of type 'System.Int32' ...
2025-08-08 16:44:12.563 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:44:12.565 +07:00 [DBG] Done attempting to validate the bound parameter 'studentId' of type 'System.Int32'.
2025-08-08 16:44:12.567 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:12.568 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:12.569 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:12.571 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:12.574 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:12.574 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-08 16:44:12.575 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:44:12.576 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.577 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.578 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.585 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:12.588 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:12.589 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:44:12.590 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:44:12.592 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.597 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:44:12.598 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:12.601 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.602 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:44:12.603 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.605 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-08 16:44:12.606 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.607 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:44:12.609 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.611 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:44:12.612 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.614 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.615 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.617 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:44:12.618 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.619 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.621 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.622 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-08 16:44:12.623 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.625 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.626 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.627 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.629 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.630 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:12.631 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.632 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:12.634 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.635 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:44:12.637 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.638 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:44:12.640 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.644 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:44:12.645 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.648 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.649 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.651 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:44:12.652 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.653 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.655 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.656 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:44:12.657 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.659 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:12.660 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.662 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:12.663 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.664 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:12.665 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.666 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:12.667 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.668 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:12.669 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.670 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:12.671 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.673 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 142.1758ms
2025-08-08 16:44:12.674 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.676 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:12.677 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.678 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:12.679 +07:00 [DBG] Connection id "0HNEMBEV568EH" received FIN.
2025-08-08 16:44:12.680 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.680 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.682 +07:00 [DBG] Connection id "0HNEMBEV568EH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:44:12.683 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.685 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:44:12.686 +07:00 [DBG] Connection id "0HNEMBEV568EH" disconnecting.
2025-08-08 16:44:12.687 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.689 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 197.7241ms
2025-08-08 16:44:12.692 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.695 +07:00 [DBG] Connection id "0HNEMBEV568EH" stopped.
2025-08-08 16:44:12.696 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.699 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.700 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.701 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.703 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.704 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.705 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.707 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.708 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.709 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.711 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.712 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.713 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.715 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.716 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.718 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.719 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.720 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.722 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.723 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.724 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.726 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.727 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.728 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.729 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.731 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.732 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.733 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.735 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.736 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.737 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.739 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.740 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.741 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.743 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.744 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.746 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.747 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.748 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.749 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.751 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.752 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.754 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.755 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.756 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.758 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.759 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.760 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.762 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.763 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.765 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.766 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.768 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.769 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.770 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.772 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.773 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.774 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.775 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.776 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.778 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.780 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.781 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.782 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.783 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.785 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.786 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.788 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:12.789 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.790 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 188ms reading results.
2025-08-08 16:44:12.792 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.793 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:12.795 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:12.796 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:12.797 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:12.798 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:12.799 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:12.801 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectEnumerableIterator`2[[System.Linq.IGrouping`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[StudentManagementAPI.Models.Score, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Linq, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[StudentManagementAPI.DTOs.Score.SemesterScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:12.802 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI) in 257.9604ms
2025-08-08 16:44:12.804 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-08 16:44:12.805 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:12.806 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:12.807 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:44:12.809 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/Score/grouped-by-semester/7 - 200 null application/json; charset=utf-8 313.0153ms
2025-08-08 16:44:20.706 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-08 16:44:20.709 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:44:20.711 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:44:20.712 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:20.713 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:44:20.714 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:44:20.715 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:44:20.716 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 9.9021ms
2025-08-08 16:44:20.722 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-08 16:44:20.726 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:44:20.727 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-08 16:44:20.729 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:44:20.730 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:20.731 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:44:20.732 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:44:20.734 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:20.735 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:20.736 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:20.737 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:44:20.739 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:44:20.741 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:20.743 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:20.744 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:20.746 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:20.748 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:20.749 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:44:20.751 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:44:20.753 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:20.756 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:20.756 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:44:20.757 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:20.759 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:20.760 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:20.762 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:44:20.763 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:20.764 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:44:20.776 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:44:20.778 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.780 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.781 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.783 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.784 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.785 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.786 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.788 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.789 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.791 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.792 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.793 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.794 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.795 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.797 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.798 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.799 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.800 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.802 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.804 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.805 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.806 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.807 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.809 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.811 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.812 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.813 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.815 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.817 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.818 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.820 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.822 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.824 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.825 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.827 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.828 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.829 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.831 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.832 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.833 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.834 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.836 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.838 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.839 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.840 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.841 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.844 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.845 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.847 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.848 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.849 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.851 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.852 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.854 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.855 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.856 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.858 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.860 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.861 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.862 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.864 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.866 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.867 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.869 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.870 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.872 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.873 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.874 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.876 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.877 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:20.879 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:20.881 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 102ms reading results.
2025-08-08 16:44:20.882 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:20.883 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:20.886 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:20.888 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:20.889 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:20.889 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:20.890 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:20.892 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:20.894 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 144.5182ms
2025-08-08 16:44:20.896 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:44:20.897 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:20.899 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:20.900 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:44:20.902 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 179.8204ms
2025-08-08 16:44:21.511 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Score/grouped-by-semester/7 - null null
2025-08-08 16:44:21.514 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Score/grouped-by-semester/7'
2025-08-08 16:44:21.516 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:44:21.518 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:21.519 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:44:21.520 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:44:21.521 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:44:21.521 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Score/grouped-by-semester/7 - 204 null null 10.811ms
2025-08-08 16:44:21.530 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/Score/grouped-by-semester/7 - null null
2025-08-08 16:44:21.533 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Score/grouped-by-semester/7'
2025-08-08 16:44:21.534 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)' with route pattern 'api/Score/grouped-by-semester/{studentId}' is valid for the request path '/api/Score/grouped-by-semester/7'
2025-08-08 16:44:21.536 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-08 16:44:21.537 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:21.539 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:44:21.540 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:44:21.541 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:21.542 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:21.543 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:21.545 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-08 16:44:21.546 +07:00 [INF] Route matched with {action = "GetScoresGroupedBySemester", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresGroupedBySemester(Int32) on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-08 16:44:21.548 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:21.550 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:21.551 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:21.554 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:21.555 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:21.556 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 16:44:21.560 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 16:44:21.562 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.Int32' ...
2025-08-08 16:44:21.563 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.Int32' using the name 'studentId' in request data ...
2025-08-08 16:44:21.564 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.Int32'.
2025-08-08 16:44:21.566 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.Int32'.
2025-08-08 16:44:21.568 +07:00 [DBG] Attempting to validate the bound parameter 'studentId' of type 'System.Int32' ...
2025-08-08 16:44:21.569 +07:00 [DBG] Done attempting to validate the bound parameter 'studentId' of type 'System.Int32'.
2025-08-08 16:44:21.570 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:21.573 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:21.575 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:44:21.575 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:21.577 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:21.578 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:21.580 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:44:21.581 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:44:21.583 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:44:21.586 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:44:21.590 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.591 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.592 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.594 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.595 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.597 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.598 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.599 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.601 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.602 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.604 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.605 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.606 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.608 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.610 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.611 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.612 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.614 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.616 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.617 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.618 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.619 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.622 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.623 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.624 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.625 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.627 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.629 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.630 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.631 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.633 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.634 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.636 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.637 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.638 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.640 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.641 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.643 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.644 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.646 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.647 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.648 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.651 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.652 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.653 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.655 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.657 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.658 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.660 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.662 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.664 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.665 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.666 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.668 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.669 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.671 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.673 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.674 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.675 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.677 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.678 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.679 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.680 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.682 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.683 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.684 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.686 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.687 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.688 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.689 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.690 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.692 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.693 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.694 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.695 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.696 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.698 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.699 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.700 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.701 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.702 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.704 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.706 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.707 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.708 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.709 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.710 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.712 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.713 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.715 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.716 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.718 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.720 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.721 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.722 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.723 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.725 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.727 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.728 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.729 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:21.730 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:21.731 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 141ms reading results.
2025-08-08 16:44:21.733 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:21.735 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:21.736 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:21.737 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:21.739 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:21.740 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:21.741 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:21.742 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectEnumerableIterator`2[[System.Linq.IGrouping`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[StudentManagementAPI.Models.Score, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Linq, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[StudentManagementAPI.DTOs.Score.SemesterScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:21.743 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI) in 186.7009ms
2025-08-08 16:44:21.745 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-08 16:44:21.746 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:21.747 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:21.749 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:44:21.750 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/Score/grouped-by-semester/7 - 200 null application/json; charset=utf-8 220.3475ms
2025-08-08 16:44:22.085 +07:00 [DBG] Connection id "0HNEMBEV568EI" accepted.
2025-08-08 16:44:22.087 +07:00 [DBG] Connection id "0HNEMBEV568EI" started.
2025-08-08 16:44:22.093 +07:00 [DBG] Connection 0HNEMBEV568EI established using the following protocol: "Tls13"
2025-08-08 16:44:22.096 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=20 - null null
2025-08-08 16:44:22.099 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:44:22.101 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:44:22.103 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:22.105 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:22.106 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:22.107 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:22.108 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:22.110 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:22.111 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:44:22.113 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:22.115 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:22.117 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:22.119 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:22.121 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:22.123 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:44:22.125 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:44:22.126 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:44:22.128 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:44:22.130 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:44:22.132 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:44:22.133 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:44:22.136 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:44:22.138 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:22.139 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:22.140 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:44:22.143 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:22.144 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:22.146 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:22.147 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:44:22.149 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:22.151 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:22.152 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:22.153 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:44:22.154 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:22.156 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:44:22.160 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:44:22.163 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:22.165 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:44:22.166 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:22.167 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:22.169 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:22.171 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:22.172 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:22.173 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:44:22.174 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:22.176 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:44:22.179 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:44:22.181 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:22.182 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:44:22.184 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:22.186 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:22.187 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:22.189 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:22.190 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:22.191 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:22.192 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:22.193 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:22.194 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 71.2447ms
2025-08-08 16:44:22.196 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:22.197 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:22.198 +07:00 [DBG] Connection id "0HNEMBEV568EI" received FIN.
2025-08-08 16:44:22.199 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:22.200 +07:00 [DBG] Connection id "0HNEMBEV568EI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:44:22.201 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:44:22.203 +07:00 [DBG] Connection id "0HNEMBEV568EI" disconnecting.
2025-08-08 16:44:22.205 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=20 - 200 null application/json; charset=utf-8 109.0421ms
2025-08-08 16:44:22.209 +07:00 [DBG] Connection id "0HNEMBEV568EI" stopped.
2025-08-08 16:44:23.446 +07:00 [DBG] Connection id "0HNEMBEV568EJ" accepted.
2025-08-08 16:44:23.447 +07:00 [DBG] Connection id "0HNEMBEV568EJ" started.
2025-08-08 16:44:23.448 +07:00 [DBG] Connection id "0HNEMBEV568EK" accepted.
2025-08-08 16:44:23.452 +07:00 [DBG] Connection id "0HNEMBEV568EK" started.
2025-08-08 16:44:23.453 +07:00 [DBG] Connection 0HNEMBEV568EJ established using the following protocol: "Tls13"
2025-08-08 16:44:23.456 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-08 16:44:23.457 +07:00 [DBG] Connection 0HNEMBEV568EK established using the following protocol: "Tls13"
2025-08-08 16:44:23.459 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 16:44:23.461 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-08 16:44:23.463 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-08 16:44:23.466 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-08 16:44:23.468 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:44:23.469 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-08 16:44:23.471 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:23.473 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:44:23.474 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:23.475 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:23.476 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:23.477 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:23.478 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:23.479 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:23.480 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:44:23.481 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:23.482 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-08 16:44:23.483 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:44:23.485 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:23.485 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:44:23.486 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:23.488 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:23.489 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:23.491 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:23.492 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:23.494 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:23.495 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:23.497 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:23.499 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 16:44:23.500 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:23.502 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 16:44:23.502 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:44:23.505 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:23.505 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:44:23.507 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:23.508 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:23.508 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:44:23.511 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:23.511 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.512 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:44:23.513 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.514 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.515 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:23.516 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.518 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:44:23.519 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:23.520 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:44:23.521 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:44:23.522 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 16:44:23.523 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:44:23.527 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 16:44:23.528 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:44:23.530 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.536 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.538 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.539 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:44:23.540 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.542 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.543 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 13ms reading results.
2025-08-08 16:44:23.544 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.546 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.547 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.548 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:44:23.549 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.552 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:23.553 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.555 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:23.556 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.557 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:23.558 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.559 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:23.561 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.561 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:23.563 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.564 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:23.566 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.567 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 68.471ms
2025-08-08 16:44:23.569 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.571 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:44:23.572 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.574 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:23.575 +07:00 [DBG] Connection id "0HNEMBEV568EJ" received FIN.
2025-08-08 16:44:23.576 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.578 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.582 +07:00 [DBG] Connection id "0HNEMBEV568EL" accepted.
2025-08-08 16:44:23.584 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-08 16:44:23.579 +07:00 [DBG] Connection id "0HNEMBEV568EJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:44:23.581 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.589 +07:00 [DBG] Connection id "0HNEMBEV568EL" started.
2025-08-08 16:44:23.590 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 134.2515ms
2025-08-08 16:44:23.591 +07:00 [DBG] Connection id "0HNEMBEV568EJ" disconnecting.
2025-08-08 16:44:23.593 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.597 +07:00 [DBG] Connection 0HNEMBEV568EL established using the following protocol: "Tls13"
2025-08-08 16:44:23.598 +07:00 [DBG] Connection id "0HNEMBEV568EJ" stopped.
2025-08-08 16:44:23.599 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.601 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-08 16:44:23.603 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.606 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-08 16:44:23.607 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.608 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-08 16:44:23.610 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.611 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-08 16:44:23.612 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.614 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:44:23.616 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.616 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:23.618 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.618 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:23.619 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.620 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:23.623 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.624 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:23.625 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.625 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:44:23.627 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.628 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-08 16:44:23.630 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.631 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:23.632 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.634 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:23.636 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.638 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:23.639 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.641 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:23.643 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.644 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:23.646 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.647 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:44:23.649 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.652 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:44:23.653 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.654 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:44:23.655 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.657 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-08 16:44:23.659 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.660 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:44:23.661 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.663 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:44:23.665 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.666 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:44:23.667 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.668 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:44:23.670 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.672 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:44:23.673 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.675 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:23.676 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.679 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:23.680 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.681 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 16:44:23.682 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.683 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.685 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.686 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.687 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.688 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:23.690 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.691 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:44:23.693 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.695 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-08 16:44:23.696 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.697 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:44:23.699 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.704 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:44:23.705 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.707 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.708 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.709 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:44:23.711 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.714 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.715 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.716 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:44:23.717 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:23.720 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:23.721 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.723 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:23.725 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 182ms reading results.
2025-08-08 16:44:23.725 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:23.727 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.728 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:23.729 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:44:23.730 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:23.732 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:23.734 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:23.736 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:23.737 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 90.5649ms
2025-08-08 16:44:23.738 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:23.740 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:44:23.741 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:23.742 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:23.743 +07:00 [DBG] Connection id "0HNEMBEV568EL" received FIN.
2025-08-08 16:44:23.743 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:23.744 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.745 +07:00 [DBG] Connection id "0HNEMBEV568EL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:44:23.747 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.Models.Subject, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:23.748 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:44:23.750 +07:00 [DBG] Connection id "0HNEMBEV568EL" disconnecting.
2025-08-08 16:44:23.751 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 248.5903ms
2025-08-08 16:44:23.752 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 151.6451ms
2025-08-08 16:44:23.755 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:44:23.758 +07:00 [DBG] Connection id "0HNEMBEV568EL" stopped.
2025-08-08 16:44:23.759 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:23.760 +07:00 [DBG] Connection id "0HNEMBEV568EK" received FIN.
2025-08-08 16:44:23.762 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:23.763 +07:00 [DBG] Connection id "0HNEMBEV568EK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:44:23.764 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:44:23.765 +07:00 [DBG] Connection id "0HNEMBEV568EK" disconnecting.
2025-08-08 16:44:23.767 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 306.0808ms
2025-08-08 16:44:23.772 +07:00 [DBG] Connection id "0HNEMBEV568EK" stopped.
2025-08-08 16:44:24.139 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-08 16:44:24.143 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-08 16:44:24.144 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-08 16:44:24.146 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:44:24.147 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:24.147 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:44:24.149 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:44:24.151 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:24.152 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:24.153 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:24.154 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:44:24.157 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:44:24.159 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:24.160 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:24.162 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:24.165 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:24.167 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:24.169 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:44:24.171 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:44:24.173 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:24.176 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:24.177 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:44:24.179 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:24.180 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:24.182 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:24.183 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:44:24.185 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:44:24.187 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:44:24.192 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-08 16:44:24.195 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.196 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.199 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.200 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.201 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.202 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.204 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.206 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.207 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.208 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.209 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.211 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.213 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.214 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.215 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.217 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.219 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.220 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.221 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.223 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.224 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.226 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.227 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.228 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.230 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.231 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.233 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.234 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.236 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.237 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.238 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.240 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.242 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.243 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.244 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.245 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.247 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.249 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.250 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.251 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.252 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.255 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.256 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.257 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.258 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.260 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.262 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.263 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.264 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.266 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.268 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.269 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.270 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.272 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.273 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.275 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.276 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.278 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.279 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.280 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.283 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.284 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.285 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.287 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.289 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.291 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.292 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.293 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.295 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.297 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:24.298 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:24.299 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 104ms reading results.
2025-08-08 16:44:24.301 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:24.303 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:24.304 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:24.306 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:24.307 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:24.308 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:24.310 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:24.311 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:24.313 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 144.1164ms
2025-08-08 16:44:24.314 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-08 16:44:24.315 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:24.317 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:24.318 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:44:24.320 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 181.0545ms
2025-08-08 16:44:37.833 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/me - null null
2025-08-08 16:44:37.836 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 16:44:37.838 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:44:37.839 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:37.840 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:44:37.841 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:44:37.841 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:44:37.842 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/me - 204 null null 9.5138ms
2025-08-08 16:44:37.850 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/me - null null
2025-08-08 16:44:37.853 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-08 16:44:37.854 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)' with route pattern 'api/student/me' is valid for the request path '/api/student/me'
2025-08-08 16:44:37.856 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:44:37.857 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:37.858 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:44:37.860 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:44:37.861 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:37.862 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:37.863 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:37.864 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:44:37.866 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:44:37.868 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:37.869 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:37.871 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:37.873 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:37.874 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:37.876 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:44:37.877 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:44:37.880 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:37.882 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:37.882 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:44:37.883 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:37.885 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:37.887 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:37.888 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:44:37.889 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:37.890 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 16:44:37.905 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-08 16:44:37.909 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:37.910 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:37.911 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:37.912 +07:00 [DBG] The navigation 'Student.Department' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:37.914 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:37.915 +07:00 [DBG] The navigation 'Student.Program' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:37.917 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:37.918 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:37.919 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-08 16:44:37.921 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:37.922 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:37.924 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:37.926 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:37.926 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:37.928 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:37.929 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:37.930 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentDto'.
2025-08-08 16:44:37.931 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI) in 55.7758ms
2025-08-08 16:44:37.933 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-08 16:44:37.935 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:37.936 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:37.937 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:44:37.938 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/me - 200 null application/json; charset=utf-8 89.0434ms
2025-08-08 16:44:38.945 +07:00 [DBG] Connection id "0HNEMBEV568EM" accepted.
2025-08-08 16:44:38.947 +07:00 [DBG] Connection id "0HNEMBEV568EM" started.
2025-08-08 16:44:38.948 +07:00 [DBG] Connection id "0HNEMBEV568EN" accepted.
2025-08-08 16:44:38.950 +07:00 [DBG] Connection id "0HNEMBEV568EN" started.
2025-08-08 16:44:38.952 +07:00 [DBG] Connection 0HNEMBEV568EM established using the following protocol: "Tls13"
2025-08-08 16:44:38.954 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-08 16:44:38.956 +07:00 [DBG] Connection 0HNEMBEV568EN established using the following protocol: "Tls13"
2025-08-08 16:44:38.958 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-08 16:44:38.959 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-08 16:44:38.960 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-08 16:44:38.968 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-08 16:44:38.970 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:44:38.971 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-08 16:44:38.973 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:38.974 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:44:38.975 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:38.977 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:38.978 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:38.979 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:38.979 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:38.980 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:38.981 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:44:38.982 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:38.983 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-08 16:44:38.984 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:44:38.985 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:38.986 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-08 16:44:38.988 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:38.990 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:38.991 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:38.993 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:38.994 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:38.995 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:38.997 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:38.999 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:39.000 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 16:44:39.001 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:39.004 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-08 16:44:39.005 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:44:39.006 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:39.007 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-08 16:44:39.009 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:39.010 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:39.011 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 16:44:39.013 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:39.014 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.014 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:44:39.015 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.016 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.018 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:39.020 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.020 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:39.022 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:39.023 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:44:39.024 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:39.026 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 16:44:39.027 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:44:39.031 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-08 16:44:39.032 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:44:39.034 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.039 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode]
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-08 16:44:39.039 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.042 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.042 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.044 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.045 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.046 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.048 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 14ms reading results.
2025-08-08 16:44:39.049 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.051 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.052 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.054 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-08 16:44:39.055 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.057 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:39.059 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.062 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:39.063 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.064 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:39.065 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.066 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:39.068 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.068 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:39.069 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.070 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:39.071 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.073 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 72.4426ms
2025-08-08 16:44:39.074 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.076 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-08 16:44:39.077 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.078 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:39.078 +07:00 [DBG] Connection id "0HNEMBEV568EM" received FIN.
2025-08-08 16:44:39.080 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.081 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.084 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.083 +07:00 [DBG] Connection id "0HNEMBEV568EM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:44:39.085 +07:00 [DBG] Connection id "0HNEMBEV568EO" accepted.
2025-08-08 16:44:39.085 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:44:39.087 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.090 +07:00 [DBG] Connection id "0HNEMBEV568EO" started.
2025-08-08 16:44:39.089 +07:00 [DBG] Connection id "0HNEMBEV568EM" disconnecting.
2025-08-08 16:44:39.091 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 137.5811ms
2025-08-08 16:44:39.093 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.097 +07:00 [DBG] Connection 0HNEMBEV568EO established using the following protocol: "Tls13"
2025-08-08 16:44:39.099 +07:00 [DBG] Connection id "0HNEMBEV568EM" stopped.
2025-08-08 16:44:39.100 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.101 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-08 16:44:39.104 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.106 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-08 16:44:39.107 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.109 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-08 16:44:39.110 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.111 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-08 16:44:39.113 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.114 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:44:39.116 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.117 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:39.118 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.119 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:39.120 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.120 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:39.122 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.124 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:39.125 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.126 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:44:39.127 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.127 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-08 16:44:39.129 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.131 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:39.133 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.134 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:39.136 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.137 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:39.138 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.140 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:39.141 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.143 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:39.144 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.146 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:44:39.147 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.149 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-08 16:44:39.149 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.151 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:44:39.152 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.153 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-08 16:44:39.154 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.155 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:44:39.157 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.159 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:44:39.160 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.161 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:44:39.162 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.164 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-08 16:44:39.165 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.166 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-08 16:44:39.168 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.169 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:39.170 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.173 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:39.174 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.175 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:44:39.176 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.177 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.179 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.180 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.181 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.182 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:39.184 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.185 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:39.187 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.188 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:44:39.189 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.190 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:44:39.192 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.197 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.199 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-08 16:44:39.199 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:39.201 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.202 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.204 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:44:39.205 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 163ms reading results.
2025-08-08 16:44:39.207 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.209 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.210 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:44:39.211 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:44:39.213 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:39.215 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:39.216 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:39.218 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:39.220 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:39.221 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:39.222 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:39.222 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:39.223 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:39.224 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:39.225 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:39.227 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.Models.Subject, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:39.228 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 82.5967ms
2025-08-08 16:44:39.229 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 224.9642ms
2025-08-08 16:44:39.231 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-08 16:44:39.232 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-08 16:44:39.233 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:39.234 +07:00 [DBG] Connection id "0HNEMBEV568EO" received FIN.
2025-08-08 16:44:39.235 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:39.235 +07:00 [DBG] Connection id "0HNEMBEV568EN" received FIN.
2025-08-08 16:44:39.236 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.237 +07:00 [DBG] Connection id "0HNEMBEV568EO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:44:39.238 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:39.239 +07:00 [DBG] Connection id "0HNEMBEV568EN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:44:39.240 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-08 16:44:39.242 +07:00 [DBG] Connection id "0HNEMBEV568EO" disconnecting.
2025-08-08 16:44:39.243 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-08 16:44:39.244 +07:00 [DBG] Connection id "0HNEMBEV568EN" disconnecting.
2025-08-08 16:44:39.245 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 144.0559ms
2025-08-08 16:44:39.248 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 288.6743ms
2025-08-08 16:44:39.252 +07:00 [DBG] Connection id "0HNEMBEV568EO" stopped.
2025-08-08 16:44:39.255 +07:00 [DBG] Connection id "0HNEMBEV568EN" stopped.
2025-08-08 16:44:42.496 +07:00 [DBG] Connection id "0HNEMBEV568EP" accepted.
2025-08-08 16:44:42.498 +07:00 [DBG] Connection id "0HNEMBEV568EP" started.
2025-08-08 16:44:42.502 +07:00 [DBG] Connection 0HNEMBEV568EP established using the following protocol: "Tls13"
2025-08-08 16:44:42.504 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-08 16:44:42.506 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:44:42.507 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:44:42.509 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:42.510 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:42.510 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:42.511 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:42.512 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:42.513 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:42.514 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:44:42.516 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:42.517 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:42.519 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:42.521 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:42.522 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:42.524 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:44:42.525 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:44:42.527 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:44:42.528 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:44:42.530 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:44:42.531 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:44:42.533 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:44:42.534 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:44:42.536 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:42.537 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:42.539 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:44:42.540 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:42.542 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:42.544 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:42.544 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:44:42.546 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:42.547 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:42.549 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:42.550 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:44:42.551 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:42.553 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:44:42.564 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:44:42.567 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:42.568 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:44:42.569 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:42.571 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:42.573 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:42.574 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:42.576 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:42.577 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-08 16:44:42.578 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:42.580 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:44:42.584 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:44:42.587 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:42.588 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:44:42.590 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:42.592 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:42.593 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:42.597 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:42.598 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:42.599 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:42.600 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:42.601 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:42.603 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 79.4679ms
2025-08-08 16:44:42.605 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:42.606 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:42.606 +07:00 [DBG] Connection id "0HNEMBEV568EP" received FIN.
2025-08-08 16:44:42.607 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:42.608 +07:00 [DBG] Connection id "0HNEMBEV568EP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:44:42.610 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:44:42.611 +07:00 [DBG] Connection id "0HNEMBEV568EP" disconnecting.
2025-08-08 16:44:42.613 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 109.1141ms
2025-08-08 16:44:42.618 +07:00 [DBG] Connection id "0HNEMBEV568EP" stopped.
2025-08-08 16:44:50.421 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-08 16:44:50.424 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 16:44:50.425 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:44:50.426 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:50.427 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:44:50.428 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:44:50.429 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:44:50.430 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 9.4004ms
2025-08-08 16:44:50.432 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-08 16:44:50.438 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 16:44:50.439 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-08 16:44:50.440 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:44:50.441 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:50.443 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:44:50.444 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:44:50.444 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-08 16:44:50.446 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:44:50.447 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 16:44:50.449 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:50.450 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:50.452 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:50.454 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:50.455 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:50.457 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:44:50.458 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:44:50.460 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:44:50.461 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 16:44:50.463 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 16:44:50.464 +07:00 [DBG] Connection id "0HNEMBEV568EG", Request id "0HNEMBEV568EG:00000017": started reading request body.
2025-08-08 16:44:50.465 +07:00 [DBG] Connection id "0HNEMBEV568EG", Request id "0HNEMBEV568EG:00000017": done reading request body.
2025-08-08 16:44:50.467 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 16:44:50.468 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:44:50.469 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:44:50.471 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:44:50.472 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:44:50.474 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: teacher1
2025-08-08 16:44:50.475 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:50.478 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:50.478 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:44:50.479 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.480 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.481 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:50.483 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:44:50.485 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:44:50.486 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:44:50.490 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:44:50.493 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:50.494 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.495 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:44:50.497 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.498 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:44:50.500 +07:00 [INF] 🔓 Login successful for user: teacher1
2025-08-08 16:44:50.501 +07:00 [INF] ✅ Đăng nhập thành công cho user: teacher1
2025-08-08 16:44:50.502 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:50.504 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:50.505 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:50.506 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:50.507 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:50.509 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 16:44:50.510 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 52.9171ms
2025-08-08 16:44:50.512 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:44:50.513 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:50.515 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.516 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:44:50.517 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 85.6007ms
2025-08-08 16:44:50.803 +07:00 [DBG] Connection id "0HNEMBEV568EQ" accepted.
2025-08-08 16:44:50.806 +07:00 [DBG] Connection id "0HNEMBEV568EQ" started.
2025-08-08 16:44:50.807 +07:00 [DBG] Connection id "0HNEMBEV568ER" accepted.
2025-08-08 16:44:50.810 +07:00 [DBG] Connection id "0HNEMBEV568ER" started.
2025-08-08 16:44:50.812 +07:00 [DBG] Connection 0HNEMBEV568EQ established using the following protocol: "Tls13"
2025-08-08 16:44:50.814 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-08 16:44:50.816 +07:00 [DBG] Connection 0HNEMBEV568ER established using the following protocol: "Tls13"
2025-08-08 16:44:50.818 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-08 16:44:50.819 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-08 16:44:50.821 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-08 16:44:50.823 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:44:50.825 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-08 16:44:50.826 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:44:50.828 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-08 16:44:50.830 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:50.832 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:50.834 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:44:50.835 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:50.836 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:44:50.837 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:50.838 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:44:50.839 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:50.840 +07:00 [DBG] Authorization was successful.
2025-08-08 16:44:50.841 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-08 16:44:50.842 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:50.845 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:44:50.847 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:50.847 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-08 16:44:50.849 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:50.850 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:44:50.852 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:50.853 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:44:50.855 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:50.856 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:44:50.857 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:50.859 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:44:50.861 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:44:50.862 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:44:50.864 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:44:50.866 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 16:44:50.867 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:44:50.868 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 16:44:50.869 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:44:50.871 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:44:50.872 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:50.874 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:44:50.876 +07:00 [DBG] Compiling query expression: 
'DbSet<Teacher>()
    .Include(t => t.User)
    .FirstOrDefault(t => t.Id == __id_0)'
2025-08-08 16:44:50.877 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:44:50.878 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-08 16:44:50.879 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:44:50.883 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:50.884 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:50.886 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:44:50.886 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Teacher>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Teacher>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Teacher.Degree (string) Required, 1], [Property: Teacher.TeacherCode (string) Required, 2] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: User.Email (string), 4], [Property: User.FullName (string) Required, 5], [Property: User.PasswordHash (string) Required, 6], [Property: User.Phone (string), 7], [Property: User.Role (string) Required, 8], [Property: User.Username (string) Required, 9] }
            SELECT TOP(1) t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Teachers AS t
            INNER JOIN Users AS u ON t.Id == u.Id
            WHERE t.Id == @__id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Teacher.Degree (string) Required, 1], [Property: Teacher.TeacherCode (string) Required, 2] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: User.Email (string), 4], [Property: User.FullName (string) Required, 5], [Property: User.PasswordHash (string) Required, 6], [Property: User.Phone (string), 7], [Property: User.Role (string) Required, 8], [Property: User.Username (string) Required, 9] }
            SELECT TOP(1) t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Teachers AS t
            INNER JOIN Users AS u ON t.Id == u.Id
            WHERE t.Id == @__id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Teacher entity;
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Teacher instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Teacher);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Teacher.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Teacher)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                            {
                                return 
                                {
                                    Teacher instance;
                                    instance = new Teacher();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Degree>k__BackingField = dataReader.GetString(1);
                                    instance.<TeacherCode>k__BackingField = dataReader.GetString(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Teacher)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                User instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(User);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(3) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (User)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("User")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(3);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<FullName>k__BackingField = dataReader.GetString(5);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(6);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<Role>k__BackingField = dataReader.GetString(8);
                                    instance.<Username>k__BackingField = dataReader.GetString(9);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<User>k__BackingField = namelessParameter{9};
                    return namelessParameter{9}.<Teacher>k__BackingField = namelessParameter{8};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-08 16:44:50.887 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:44:50.894 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:44:50.894 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:50.897 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:44:50.897 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-08 16:44:50.898 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:44:50.899 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.900 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.901 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.902 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.903 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:50.905 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:50.906 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:50.907 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:44:50.908 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:44:50.909 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:44:50.910 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-08 16:44:50.911 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:44:50.916 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-08 16:44:50.918 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:44:50.920 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:50.922 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.923 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:50.924 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:44:50.926 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:44:50.928 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.929 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.930 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:44:50.931 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 11ms reading results.
2025-08-08 16:44:50.933 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.934 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.935 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.937 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:44:50.938 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:44:50.942 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:44:50.943 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:50.943 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:44:50.945 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:50.946 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:44:50.947 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:50.950 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:44:50.950 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:50.952 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.953 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:50.954 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:44:50.955 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-08 16:44:50.957 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.959 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 93.7372ms
2025-08-08 16:44:50.959 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-08 16:44:50.962 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-08 16:44:50.964 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:44:50.965 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:50.966 +07:00 [DBG] Connection id "0HNEMBEV568EQ" received FIN.
2025-08-08 16:44:50.968 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:44:50.968 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.970 +07:00 [DBG] Connection id "0HNEMBEV568EQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:44:50.971 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:44:50.972 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:44:50.973 +07:00 [DBG] Connection id "0HNEMBEV568EQ" disconnecting.
2025-08-08 16:44:50.974 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:44:50.975 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 161.422ms
2025-08-08 16:44:50.978 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:44:50.980 +07:00 [DBG] Connection id "0HNEMBEV568EQ" stopped.
2025-08-08 16:44:50.982 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:44:50.984 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 123.5646ms
2025-08-08 16:44:50.986 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:44:50.987 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:44:50.988 +07:00 [DBG] Connection id "0HNEMBEV568ER" received FIN.
2025-08-08 16:44:50.989 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:44:50.991 +07:00 [DBG] Connection id "0HNEMBEV568ER" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:44:50.992 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:44:50.993 +07:00 [DBG] Connection id "0HNEMBEV568ER" disconnecting.
2025-08-08 16:44:50.995 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 175.1009ms
2025-08-08 16:44:50.999 +07:00 [DBG] Connection id "0HNEMBEV568ER" stopped.
2025-08-08 16:54:05.337 +07:00 [DBG] Connection id "0HNEMBEV568EG" received FIN.
2025-08-08 16:54:05.337 +07:00 [DBG] Connection id "0HNEMBEV568DM" received FIN.
2025-08-08 16:54:05.344 +07:00 [DBG] The connection queue processing loop for 0HNEMBEV568EG completed.
2025-08-08 16:54:05.349 +07:00 [DBG] The connection queue processing loop for 0HNEMBEV568DM completed.
2025-08-08 16:54:05.343 +07:00 [DBG] Connection id "0HNEMBEV568EG" is closed. The last processed stream ID was 23.
2025-08-08 16:54:05.348 +07:00 [DBG] Connection id "0HNEMBEV568DM" is closed. The last processed stream ID was 1.
2025-08-08 16:54:05.355 +07:00 [DBG] Connection id "0HNEMBEV568EG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:54:05.357 +07:00 [DBG] Connection id "0HNEMBEV568DM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:54:05.361 +07:00 [DBG] Connection id "0HNEMBEV568EG" stopped.
2025-08-08 16:54:05.361 +07:00 [DBG] Connection id "0HNEMBEV568DM" stopped.
2025-08-08 16:59:30.327 +07:00 [DBG] Connection id "0HNEMBEV568ES" accepted.
2025-08-08 16:59:30.334 +07:00 [DBG] Connection id "0HNEMBEV568ES" started.
2025-08-08 16:59:30.338 +07:00 [DBG] Connection 0HNEMBEV568ES established using the following protocol: "Tls13"
2025-08-08 16:59:30.346 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-08 16:59:30.361 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 16:59:30.363 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-08 16:59:30.364 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:59:30.365 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:59:30.366 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:59:30.367 +07:00 [DBG] The request is a preflight request.
2025-08-08 16:59:30.368 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 21.7284ms
2025-08-08 16:59:30.370 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-08 16:59:30.375 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-08 16:59:30.377 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-08 16:59:30.379 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:59:30.380 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:59:30.381 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-08 16:59:30.382 +07:00 [INF] CORS policy execution successful.
2025-08-08 16:59:30.383 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:59:30.383 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:59:30.385 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:59:30.387 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-08 16:59:30.388 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:59:30.390 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:59:30.392 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:59:30.394 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:59:30.395 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:59:30.397 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:59:30.398 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-08 16:59:30.400 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:59:30.401 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-08 16:59:30.403 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-08 16:59:30.404 +07:00 [DBG] Connection id "0HNEMBEV568ES", Request id "0HNEMBEV568ES:00000003": started reading request body.
2025-08-08 16:59:30.405 +07:00 [DBG] Connection id "0HNEMBEV568ES", Request id "0HNEMBEV568ES:00000003": done reading request body.
2025-08-08 16:59:30.407 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-08 16:59:30.408 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:59:30.410 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:59:30.411 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-08 16:59:30.412 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-08 16:59:30.414 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: teacher1
2025-08-08 16:59:30.415 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:59:30.417 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:59:30.418 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:59:30.418 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.430 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.435 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:59:30.436 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:59:30.437 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:59:30.438 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:59:30.447 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-08 16:59:30.449 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:30.451 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.452 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:59:30.453 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.454 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:59:30.456 +07:00 [INF] 🔓 Login successful for user: teacher1
2025-08-08 16:59:30.457 +07:00 [INF] ✅ Đăng nhập thành công cho user: teacher1
2025-08-08 16:59:30.458 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:59:30.460 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:59:30.460 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:59:30.461 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:59:30.462 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:59:30.463 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-08 16:59:30.464 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 67.8999ms
2025-08-08 16:59:30.465 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-08 16:59:30.466 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:59:30.468 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.469 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:59:30.470 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 100.7876ms
2025-08-08 16:59:30.564 +07:00 [DBG] Connection id "0HNEMBEV568ET" accepted.
2025-08-08 16:59:30.566 +07:00 [DBG] Connection id "0HNEMBEV568ET" started.
2025-08-08 16:59:30.566 +07:00 [DBG] Connection id "0HNEMBEV568EU" accepted.
2025-08-08 16:59:30.569 +07:00 [DBG] Connection id "0HNEMBEV568EU" started.
2025-08-08 16:59:30.572 +07:00 [DBG] Connection 0HNEMBEV568ET established using the following protocol: "Tls13"
2025-08-08 16:59:30.574 +07:00 [DBG] Connection 0HNEMBEV568EU established using the following protocol: "Tls13"
2025-08-08 16:59:30.574 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-08 16:59:30.576 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-08 16:59:30.581 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-08 16:59:30.584 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-08 16:59:30.585 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-08 16:59:30.587 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-08 16:59:30.588 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-08 16:59:30.590 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:59:30.592 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-08 16:59:30.593 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:59:30.594 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:59:30.595 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:59:30.596 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:59:30.597 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:59:30.598 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:59:30.599 +07:00 [DBG] Authorization was successful.
2025-08-08 16:59:30.600 +07:00 [DBG] Authorization was successful.
2025-08-08 16:59:30.601 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:59:30.602 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-08 16:59:30.603 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-08 16:59:30.604 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-08 16:59:30.606 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:59:30.608 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:59:30.609 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:59:30.612 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:59:30.614 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:59:30.615 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:59:30.617 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:59:30.618 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:59:30.620 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:59:30.622 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:59:30.623 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:59:30.624 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 16:59:30.626 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-08 16:59:30.627 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-08 16:59:30.628 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:59:30.630 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:59:30.630 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-08 16:59:30.632 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:59:30.634 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-08 16:59:30.635 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 16:59:30.636 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-08 16:59:30.637 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.639 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-08 16:59:30.640 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.642 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-08 16:59:30.643 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:59:30.644 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:59:30.645 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:59:30.647 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:59:30.648 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-08 16:59:30.650 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-08 16:59:30.651 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-08 16:59:30.652 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-08 16:59:30.657 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:59:30.658 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-08 16:59:30.659 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:59:30.661 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:30.661 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-08 16:59:30.663 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:30.664 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.665 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:30.669 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.674 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 13ms reading results.
2025-08-08 16:59:30.676 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.677 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.680 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-08 16:59:30.682 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:59:30.683 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:59:30.684 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:59:30.686 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:59:30.687 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-08 16:59:30.688 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:59:30.689 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:59:30.690 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:59:30.692 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:59:30.694 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-08 16:59:30.695 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-08 16:59:30.695 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 70.8331ms
2025-08-08 16:59:30.697 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.699 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-08 16:59:30.700 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-08 16:59:30.701 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:59:30.702 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.702 +07:00 [DBG] Connection id "0HNEMBEV568ET" received FIN.
2025-08-08 16:59:30.704 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.705 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-08 16:59:30.706 +07:00 [DBG] Connection id "0HNEMBEV568ET" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:59:30.708 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-08 16:59:30.709 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.710 +07:00 [DBG] Connection id "0HNEMBEV568ET" disconnecting.
2025-08-08 16:59:30.712 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 137.1763ms
2025-08-08 16:59:30.713 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.716 +07:00 [DBG] Connection id "0HNEMBEV568ET" stopped.
2025-08-08 16:59:30.717 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:59:30.719 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:59:30.720 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:59:30.721 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:59:30.726 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-08 16:59:30.727 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.728 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-08 16:59:30.730 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.731 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:59:30.732 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:59:30.734 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:59:30.735 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:59:30.735 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:59:30.736 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:59:30.738 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:59:30.739 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 116.0179ms
2025-08-08 16:59:30.740 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-08 16:59:30.741 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:59:30.742 +07:00 [DBG] Connection id "0HNEMBEV568EU" received FIN.
2025-08-08 16:59:30.742 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:30.743 +07:00 [DBG] Connection id "0HNEMBEV568EU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:59:30.745 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:59:30.746 +07:00 [DBG] Connection id "0HNEMBEV568EU" disconnecting.
2025-08-08 16:59:30.747 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 170.9456ms
2025-08-08 16:59:30.751 +07:00 [DBG] Connection id "0HNEMBEV568EU" stopped.
2025-08-08 16:59:40.867 +07:00 [DBG] Connection id "0HNEMBEV568EV" accepted.
2025-08-08 16:59:40.868 +07:00 [DBG] Connection id "0HNEMBEV568EV" started.
2025-08-08 16:59:40.873 +07:00 [DBG] Connection 0HNEMBEV568EV established using the following protocol: "Tls13"
2025-08-08 16:59:40.876 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-08 16:59:40.879 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-08 16:59:40.880 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-08 16:59:40.882 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-08 16:59:40.883 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:59:40.885 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:59:40.886 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:59:40.887 +07:00 [DBG] Authorization was successful.
2025-08-08 16:59:40.888 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-08 16:59:40.892 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-08 16:59:40.895 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:59:40.896 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:59:40.898 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:59:40.901 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:59:40.902 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:59:40.904 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 16:59:40.905 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-08 16:59:40.917 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:59:40.920 +07:00 [DBG] Compiling query expression: 
'DbSet<Score>()
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.Student)
    .ThenInclude(st => st.User)
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.CourseClass)
    .ThenInclude(c => c.Subject)
    .Where(s => s.Enrollment.CourseClass.TeacherId == __teacherId_0)'
2025-08-08 16:59:40.923 +07:00 [DBG] Including navigation: 'Score.Enrollment'.
2025-08-08 16:59:40.924 +07:00 [DBG] Including navigation: 'Enrollment.Student'.
2025-08-08 16:59:40.926 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-08 16:59:40.927 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-08 16:59:40.929 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 16:59:40.940 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Score>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
        SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode
        FROM Scores AS s
        INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Students AS s0 ON e.StudentId == s0.Id
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
        WHERE c.TeacherId == @__teacherId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
        SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode
        FROM Scores AS s
        INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Students AS s0 ON e.StudentId == s0.Id
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
        WHERE c.TeacherId == @__teacherId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Score entity;
        Enrollment entity;
        Student entity;
        User entity;
        CourseClass entity;
        Subject entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Score instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Score);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Score.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Score)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]: 
                        {
                            return 
                            {
                                Score instance;
                                instance = new Score();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EnrollmentId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Final>k__BackingField = dataReader.IsDBNull(2) ? default(double?) : (double?)dataReader.GetDouble(2);
                                instance.<Midterm>k__BackingField = dataReader.IsDBNull(3) ? default(double?) : (double?)dataReader.GetDouble(3);
                                instance.<Other>k__BackingField = dataReader.IsDBNull(4) ? default(double?) : (double?)dataReader.GetDouble(4);
                                instance.<Total>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Score)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Enrollment instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Enrollment);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Enrollment)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Enrollment")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(7);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(8);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Student instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Student);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(10) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Student)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(10);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(11);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(12);
                                instance.<Gender>k__BackingField = dataReader.GetString(13);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(14);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(15);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            User instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(User);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (User)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<FullName>k__BackingField = dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<Role>k__BackingField = dataReader.GetString(21);
                                instance.<Username>k__BackingField = dataReader.GetString(22);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            CourseClass instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(CourseClass);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (CourseClass)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CourseClass")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(24);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(27);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(28);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(29);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        entity = 
        {
            MaterializationContext materializationContext6;
            IEntityType entityType6;
            Subject instance6;
            InternalEntityEntry entry6;
            bool hasNullKey6;
            materializationContext6 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance6 = default(Subject);
            entry6 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(30) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey6);
            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
            {
                entityType6 = entry6.EntityType;
                return instance6 = (Subject)entry6.Entity;
            } : 
            {
                ISnapshot shadowSnapshot6;
                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType6 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance6 = switch (entityType6)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(30);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(31);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(32) ? default(string) : dataReader.GetString(32);
                                instance.<Name>k__BackingField = dataReader.GetString(33);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(34);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(35);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext6.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType6, 
                    entity: instance6, 
                    snapshot: shadowSnapshot6);
                return instance6;
            } : default(void);
            return instance6;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{20}, namelessParameter{21}) => 
            {
                namelessParameter{20}.<User>k__BackingField = namelessParameter{21};
                return namelessParameter{21}.<Student>k__BackingField = namelessParameter{20};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, Student>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.Student (Student) ToPrincipal Student Inverse: Enrollments | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Student")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: Student | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{24}, namelessParameter{25}) => 
            {
                namelessParameter{24}.<Student>k__BackingField = namelessParameter{25};
                return [LIFTABLE Constant: ClrICollectionAccessor<Student, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{25}, 
                    value: namelessParameter{24}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{27} => namelessParameter{27}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{29}, namelessParameter{30}) => 
            {
                namelessParameter{29}.<Subject>k__BackingField = namelessParameter{30};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{30}, 
                    value: namelessParameter{29}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{32} => namelessParameter{32}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{34}, namelessParameter{35}) => 
            {
                namelessParameter{34}.<CourseClass>k__BackingField = namelessParameter{35};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{35}, 
                    value: namelessParameter{34}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Score, Score, Enrollment>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Score.Enrollment (Enrollment) ToPrincipal Enrollment Inverse: Score | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindNavigation("Enrollment")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.Score (Score) ToDependent Score Inverse: Enrollment | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Score")], 
            fixup: (namelessParameter{39}, namelessParameter{40}) => 
            {
                namelessParameter{39}.<Enrollment>k__BackingField = namelessParameter{40};
                return namelessParameter{40}.<Score>k__BackingField = namelessParameter{39};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 16:59:40.953 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:59:40.954 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-08 16:59:40.956 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:40.958 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:40.959 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:59:40.960 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:59:40.962 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-08 16:59:40.963 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-08 16:59:40.980 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-08 16:59:40.983 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:40.984 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:40.985 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:40.986 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:40.987 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:40.988 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:40.990 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:40.991 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:40.993 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:40.994 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:40.995 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:40.997 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:40.999 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.000 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.001 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.002 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.003 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.005 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.007 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.008 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.009 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.011 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.012 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.013 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.014 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.015 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.016 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.019 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.020 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.021 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.022 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.023 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.025 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.027 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.028 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.029 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.030 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.032 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.034 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.035 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.036 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.037 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.038 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.040 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.041 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.042 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.044 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.046 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.048 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.049 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.051 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.053 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.055 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.056 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.058 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.060 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.062 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.063 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.064 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:41.065 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:59:41.067 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 84ms reading results.
2025-08-08 16:59:41.069 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:41.070 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:59:41.076 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:59:41.077 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:59:41.078 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:59:41.079 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:59:41.080 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:59:41.081 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:59:41.083 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 179.0389ms
2025-08-08 16:59:41.084 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-08 16:59:41.085 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:59:41.086 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:41.086 +07:00 [DBG] Connection id "0HNEMBEV568EV" received FIN.
2025-08-08 16:59:41.088 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-08 16:59:41.090 +07:00 [DBG] Connection id "0HNEMBEV568EV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:59:41.091 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 215.1727ms
2025-08-08 16:59:41.092 +07:00 [DBG] Connection id "0HNEMBEV568EV" disconnecting.
2025-08-08 16:59:41.097 +07:00 [DBG] Connection id "0HNEMBEV568EV" stopped.
2025-08-08 16:59:41.869 +07:00 [DBG] Connection id "0HNEMBEV568F0" accepted.
2025-08-08 16:59:41.870 +07:00 [DBG] Connection id "0HNEMBEV568F0" started.
2025-08-08 16:59:41.875 +07:00 [DBG] Connection 0HNEMBEV568F0 established using the following protocol: "Tls13"
2025-08-08 16:59:41.877 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-08 16:59:41.882 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-08 16:59:41.883 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-08 16:59:41.886 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-08 16:59:41.887 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-08 16:59:41.888 +07:00 [DBG] Successfully validated the token.
2025-08-08 16:59:41.889 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-08 16:59:41.891 +07:00 [DBG] Authorization was successful.
2025-08-08 16:59:41.892 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-08 16:59:41.896 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-08 16:59:41.898 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-08 16:59:41.900 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-08 16:59:41.902 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-08 16:59:41.904 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-08 16:59:41.906 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-08 16:59:41.908 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-08 16:59:41.910 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-08 16:59:41.911 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-08 16:59:41.912 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-08 16:59:41.914 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-08 16:59:41.915 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-08 16:59:41.917 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-08 16:59:41.918 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-08 16:59:41.921 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-08 16:59:41.924 +07:00 [DBG] Compiling query expression: 
'DbSet<CourseClass>()
    .Where(c => c.TeacherId == __teacherId_0)
    .Include(c => c.Subject)
    .Include(c => c.Teacher)
    .ThenInclude(t => t.User)
    .Include(c => c.Semester)
    .Include(c => c.Enrollments)'
2025-08-08 16:59:41.925 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-08 16:59:41.926 +07:00 [DBG] Including navigation: 'CourseClass.Teacher'.
2025-08-08 16:59:41.928 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-08 16:59:41.930 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-08 16:59:41.931 +07:00 [DBG] Including navigation: 'CourseClass.Enrollments'.
2025-08-08 16:59:41.969 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 13], [Property: Teacher.Degree (string) Required, 14], [Property: Teacher.TeacherCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: Semester.EndDate (DateTime) Required, 24], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 25], [Property: Semester.Name (string) Required, 26], [Property: Semester.StartDate (DateTime) Required, 27] }
            5 -> 0
            6 -> 7
            7 -> 13
            8 -> 16
            9 -> 23
            10 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: Enrollment.CourseClassId (int) Required FK Index, 29], [Property: Enrollment.EnrollDate (DateTime) Required, 30], [Property: Enrollment.StudentId (int) Required FK Index, 31] }
            11 -> 28
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Teachers AS t ON c.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        LEFT JOIN Enrollments AS e ON c.Id == e.CourseClassId
        WHERE c.TeacherId == @__teacherId_0
        ORDER BY c.Id ASC, s.Id ASC, t.Id ASC, u.Id ASC, s0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 13], [Property: Teacher.Degree (string) Required, 14], [Property: Teacher.TeacherCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: Semester.EndDate (DateTime) Required, 24], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 25], [Property: Semester.Name (string) Required, 26], [Property: Semester.StartDate (DateTime) Required, 27] }
            5 -> 0
            6 -> 7
            7 -> 13
            8 -> 16
            9 -> 23
            10 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: Enrollment.CourseClassId (int) Required FK Index, 29], [Property: Enrollment.EnrollDate (DateTime) Required, 30], [Property: Enrollment.StudentId (int) Required FK Index, 31] }
            11 -> 28
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Teachers AS t ON c.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        LEFT JOIN Enrollments AS e ON c.Id == e.CourseClassId
        WHERE c.TeacherId == @__teacherId_0
        ORDER BY c.Id ASC, s.Id ASC, t.Id ASC, u.Id ASC, s0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            CourseClass entity;
            Subject entity;
            Teacher entity;
            User entity;
            Semester entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                CourseClass instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(CourseClass);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (CourseClass)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                            {
                                return 
                                {
                                    CourseClass instance;
                                    instance = new CourseClass();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                    instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                    instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                    instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(CourseClass)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Subject instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Subject);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Subject)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                            {
                                return 
                                {
                                    Subject instance;
                                    instance = new Subject();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                    instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<Name>k__BackingField = dataReader.GetString(10);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                    instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Subject)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                Teacher instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(Teacher);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Teacher.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (Teacher)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                            {
                                return 
                                {
                                    Teacher instance;
                                    instance = new Teacher();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                    instance.<Degree>k__BackingField = dataReader.GetString(14);
                                    instance.<TeacherCode>k__BackingField = dataReader.GetString(15);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext3.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Teacher)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            entity = 
            {
                MaterializationContext materializationContext4;
                IEntityType entityType4;
                User instance4;
                InternalEntityEntry entry4;
                bool hasNullKey4;
                materializationContext4 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance4 = default(User);
                entry4 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey4);
                !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                {
                    entityType4 = entry4.EntityType;
                    return instance4 = (User)entry4.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot4;
                    shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                    instance4 = switch (entityType4)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<FullName>k__BackingField = dataReader.GetString(18);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                    instance.<Role>k__BackingField = dataReader.GetString(21);
                                    instance.<Username>k__BackingField = dataReader.GetString(22);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext4.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType4, 
                        entity: instance4, 
                        snapshot: shadowSnapshot4);
                    return instance4;
                } : default(void);
                return instance4;
            };
            entity = 
            {
                MaterializationContext materializationContext5;
                IEntityType entityType5;
                Semester instance5;
                InternalEntityEntry entry5;
                bool hasNullKey5;
                materializationContext5 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance5 = default(Semester);
                entry5 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey5);
                !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                {
                    entityType5 = entry5.EntityType;
                    return instance5 = (Semester)entry5.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot5;
                    shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType5 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Semester")];
                    instance5 = switch (entityType5)
                    {
                        case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("Semester")]: 
                            {
                                return 
                                {
                                    Semester instance;
                                    instance = new Semester();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                    instance.<EndDate>k__BackingField = dataReader.GetDateTime(24);
                                    instance.<IsOpen>k__BackingField = dataReader.GetBoolean(25);
                                    instance.<Name>k__BackingField = dataReader.GetString(26);
                                    instance.<StartDate>k__BackingField = dataReader.GetDateTime(27);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext5.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Semester)
                    }
                    ;
                    entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType5, 
                        entity: instance5, 
                        snapshot: shadowSnapshot5);
                    return instance5;
                } : default(void);
                return instance5;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity, 
                entity, 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Subject)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{17}, namelessParameter{18}) => 
                {
                    namelessParameter{17}.<Subject>k__BackingField = namelessParameter{18};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{18}, 
                        value: namelessParameter{17}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
                queryContext: queryContext, 
                entity: (Teacher)(resultContext.Values[2]), 
                relatedEntity: (User)(resultContext.Values[3]), 
                navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
                fixup: (namelessParameter{22}, namelessParameter{23}) => 
                {
                    namelessParameter{22}.<User>k__BackingField = namelessParameter{23};
                    return namelessParameter{23}.<Teacher>k__BackingField = namelessParameter{22};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Teacher>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Teacher)(resultContext.Values[2]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Teacher (Teacher) ToPrincipal Teacher Inverse: CourseClasses | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Teacher")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Teacher.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Teacher | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{26}, namelessParameter{27}) => 
                {
                    namelessParameter{26}.<Teacher>k__BackingField = namelessParameter{27};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Teacher, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{27}, 
                        value: namelessParameter{26}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Semester)(resultContext.Values[4]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{31}, namelessParameter{32}) => 
                {
                    namelessParameter{31}.<Semester>k__BackingField = namelessParameter{32};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{32}, 
                        value: namelessParameter{31}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<CourseClass, CourseClass>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (CourseClass)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(7), 
                    (object)(int?)dataReader.GetInt32(13), 
                    (object)(int?)dataReader.GetInt32(16), 
                    (object)(int?)dataReader.GetInt32(23) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(7), 
                    (object)(int?)dataReader.GetInt32(13), 
                    (object)(int?)dataReader.GetInt32(16), 
                    (object)(int?)dataReader.GetInt32(23) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<CourseClass, Enrollment>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(7), 
                (object)(int?)dataReader.GetInt32(13), 
                (object)(int?)dataReader.GetInt32(16), 
                (object)(int?)dataReader.GetInt32(23) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(7), 
                (object)(int?)dataReader.GetInt32(13), 
                (object)(int?)dataReader.GetInt32(16), 
                (object)(int?)dataReader.GetInt32(23) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(28) ? default(int?) : (int?)dataReader.GetInt32(28) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Enrollment entity;
                entity = 
                {
                    MaterializationContext materializationContext6;
                    IEntityType entityType6;
                    Enrollment instance6;
                    InternalEntityEntry entry6;
                    bool hasNullKey6;
                    materializationContext6 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance6 = default(Enrollment);
                    entry6 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(28) ? default(object) : (object)dataReader.GetInt32(28) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey6);
                    !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                    {
                        entityType6 = entry6.EntityType;
                        return instance6 = (Enrollment)entry6.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot6;
                        shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType6 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Enrollment")];
                        instance6 = switch (entityType6)
                        {
                            case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("Enrollment")]: 
                                {
                                    return 
                                    {
                                        Enrollment instance;
                                        instance = new Enrollment();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(28) ? default(int) : dataReader.GetInt32(28);
                                        instance.<CourseClassId>k__BackingField = dataReader.IsDBNull(29) ? default(int) : dataReader.GetInt32(29);
                                        instance.<EnrollDate>k__BackingField = dataReader.IsDBNull(30) ? default(DateTime) : dataReader.GetDateTime(30);
                                        instance.<StudentId>k__BackingField = dataReader.IsDBNull(31) ? default(int) : dataReader.GetInt32(31);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext6.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Enrollment)
                        }
                        ;
                        entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType6, 
                            entity: instance6, 
                            snapshot: shadowSnapshot6);
                        return instance6;
                    } : default(void);
                    return instance6;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{39} => namelessParameter{39}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            fixup: (namelessParameter{40}, namelessParameter{41}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{42} => namelessParameter{42}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{40}, 
                    value: namelessParameter{41}, 
                    forMaterialization: True);
                return namelessParameter{41}.<CourseClass>k__BackingField = namelessParameter{40};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (CourseClass)(resultContext.Values[0]) : default(CourseClass);
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-08 16:59:41.985 +07:00 [DBG] Creating DbConnection.
2025-08-08 16:59:41.986 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-08 16:59:41.987 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:41.988 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:41.989 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-08 16:59:41.991 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-08 16:59:41.992 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-08 16:59:41.994 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-08 16:59:42.004 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-08 16:59:42.007 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.008 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.009 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.010 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.012 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.013 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.014 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.015 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.016 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.018 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.023 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.026 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.027 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.029 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.030 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.032 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.034 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.035 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.037 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.039 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.040 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.042 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.043 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.044 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.046 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.048 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.049 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-08 16:59:42.051 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-08 16:59:42.052 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 45ms reading results.
2025-08-08 16:59:42.054 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:42.055 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-08 16:59:42.061 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-08 16:59:42.063 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-08 16:59:42.064 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-08 16:59:42.065 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-08 16:59:42.067 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-08 16:59:42.068 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 16:59:42.072 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 164.2252ms
2025-08-08 16:59:42.075 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-08 16:59:42.076 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-08 16:59:42.077 +07:00 [DBG] Connection id "0HNEMBEV568F0" received FIN.
2025-08-08 16:59:42.078 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-08 16:59:42.079 +07:00 [DBG] Connection id "0HNEMBEV568F0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-08 16:59:42.080 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-08 16:59:42.082 +07:00 [DBG] Connection id "0HNEMBEV568F0" disconnecting.
2025-08-08 16:59:42.084 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 206.4229ms
2025-08-08 16:59:42.089 +07:00 [DBG] Connection id "0HNEMBEV568F0" stopped.
