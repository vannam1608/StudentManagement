2025-08-12 08:23:00.839 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-12 08:23:01.365 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-12 08:23:02.177 +07:00 [DBG] The index {'StudentId'} was not created on entity type 'Enrollment' as the properties are already covered by the index {'StudentId', 'CourseClassId'}.
2025-08-12 08:23:02.641 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:23:02.686 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:23:02.751 +07:00 [DBG] Created DbConnection. (63ms).
2025-08-12 08:23:02.764 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:23:03.308 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:23:03.317 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-12 08:23:03.329 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2025-08-12 08:23:03.333 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (17ms).
2025-08-12 08:23:03.347 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-12 08:23:03.387 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-12 08:23:03.391 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:23:03.412 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (12ms).
2025-08-12 08:23:03.417 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-12 08:23:03.419 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-08-12 08:23:03.420 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-08-12 08:23:03.424 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:23:03.430 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:23:03.434 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-12 08:23:03.487 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-12 08:23:03.490 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:23:03.492 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:23:03.497 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:23:03.502 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:23:03.505 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 08:23:03.514 +07:00 [DBG] Hosting starting
2025-08-12 08:23:03.627 +07:00 [INF] User profile is available. Using 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 08:23:03.653 +07:00 [DBG] Reading data from file 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys\key-0dd40cb8-c696-42e2-b5ed-86cb04ecae42.xml'.
2025-08-12 08:23:03.711 +07:00 [DBG] Found key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42}.
2025-08-12 08:23:03.734 +07:00 [DBG] Considering key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} with expiration date 2025-09-17 12:16:10Z as default key.
2025-08-12 08:23:03.744 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 08:23:03.746 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-12 08:23:03.751 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 08:23:03.762 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-12 08:23:03.769 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-12 08:23:03.774 +07:00 [DBG] Using key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} as the default key.
2025-08-12 08:23:03.777 +07:00 [DBG] Key ring with default key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} was loaded during application startup.
2025-08-12 08:23:04.176 +07:00 [INF] Now listening on: https://localhost:7172
2025-08-12 08:23:04.178 +07:00 [INF] Now listening on: http://localhost:5117
2025-08-12 08:23:04.179 +07:00 [DBG] Loaded hosting startup assembly StudentManagementAPI
2025-08-12 08:23:04.180 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-12 08:23:04.181 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-12 08:23:04.184 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-12 08:23:04.293 +07:00 [DBG] Connection id "0HNEP7R4IS8UO" accepted.
2025-08-12 08:23:04.293 +07:00 [DBG] Connection id "0HNEP7R4IS8UN" accepted.
2025-08-12 08:23:04.299 +07:00 [DBG] Connection id "0HNEP7R4IS8UO" started.
2025-08-12 08:23:04.299 +07:00 [DBG] Connection id "0HNEP7R4IS8UN" started.
2025-08-12 08:23:04.436 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 08:23:04.446 +07:00 [INF] Hosting environment: Development
2025-08-12 08:23:04.447 +07:00 [INF] Content root path: C:\Users\phamv\OneDrive\Desktop\test\StudentManagement\StudentManagementAPI\StudentManagementAPI
2025-08-12 08:23:04.449 +07:00 [DBG] Hosting started
2025-08-12 08:23:05.588 +07:00 [DBG] Connection id "0HNEP7R4IS8UP" accepted.
2025-08-12 08:23:05.727 +07:00 [DBG] Connection id "0HNEP7R4IS8UP" started.
2025-08-12 08:23:05.825 +07:00 [DBG] Connection 0HNEP7R4IS8UP established using the following protocol: "Tls13"
2025-08-12 08:23:06.025 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/index.html - null null
2025-08-12 08:23:06.316 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-12 08:23:06.369 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-12 08:23:06.373 +07:00 [DBG] Request did not match any endpoints
2025-08-12 08:23:06.462 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-12 08:23:06.473 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-12 08:23:06.523 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-12 08:23:06.528 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-12 08:23:06.536 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/index.html - 200 null text/html;charset=utf-8 528.1728ms
2025-08-12 08:23:06.539 +07:00 [DBG] Connection id "0HNEP7R4IS8UP" received FIN.
2025-08-12 08:23:06.550 +07:00 [DBG] Connection id "0HNEP7R4IS8UQ" accepted.
2025-08-12 08:23:06.580 +07:00 [DBG] Connection id "0HNEP7R4IS8UQ" started.
2025-08-12 08:23:06.582 +07:00 [DBG] Connection id "0HNEP7R4IS8UP" is closed. The last processed stream ID was 1.
2025-08-12 08:23:06.588 +07:00 [DBG] The connection queue processing loop for 0HNEP7R4IS8UP completed.
2025-08-12 08:23:06.589 +07:00 [DBG] Connection 0HNEP7R4IS8UQ established using the following protocol: "Tls13"
2025-08-12 08:23:06.589 +07:00 [DBG] Connection id "0HNEP7R4IS8UP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:23:06.601 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_vs/browserLink - null null
2025-08-12 08:23:06.602 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 08:23:06.604 +07:00 [DBG] Connection id "0HNEP7R4IS8UP" stopped.
2025-08-12 08:23:06.625 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 22.9877ms
2025-08-12 08:23:06.721 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_vs/browserLink - 200 null text/javascript; charset=UTF-8 119.7564ms
2025-08-12 08:23:06.863 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - null null
2025-08-12 08:23:06.900 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-12 08:23:06.902 +07:00 [DBG] Request did not match any endpoints
2025-08-12 08:23:07.020 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.6641ms
2025-08-12 08:23:09.595 +07:00 [DBG] Connection id "0HNEP7R4IS8UQ" received FIN.
2025-08-12 08:23:09.598 +07:00 [DBG] Connection id "0HNEP7R4IS8UQ" is closed. The last processed stream ID was 5.
2025-08-12 08:23:09.598 +07:00 [DBG] The connection queue processing loop for 0HNEP7R4IS8UQ completed.
2025-08-12 08:23:09.601 +07:00 [DBG] Connection id "0HNEP7R4IS8UQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:23:09.616 +07:00 [DBG] Connection id "0HNEP7R4IS8UQ" stopped.
2025-08-12 08:23:14.319 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2025-08-12 08:23:14.319 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2025-08-12 08:23:14.320 +07:00 [DBG] Connection id "0HNEP7R4IS8UN" stopped.
2025-08-12 08:23:14.321 +07:00 [DBG] Connection id "0HNEP7R4IS8UO" stopped.
2025-08-12 08:23:14.323 +07:00 [DBG] Connection id "0HNEP7R4IS8UN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:23:14.325 +07:00 [DBG] Connection id "0HNEP7R4IS8UO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:23:31.929 +07:00 [DBG] Connection id "0HNEP7R4IS8UR" accepted.
2025-08-12 08:23:31.931 +07:00 [DBG] Connection id "0HNEP7R4IS8UR" started.
2025-08-12 08:23:31.935 +07:00 [DBG] Connection 0HNEP7R4IS8UR established using the following protocol: "Tls13"
2025-08-12 08:23:31.945 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/auth/login - application/json 53
2025-08-12 08:23:31.956 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-08-12 08:23:31.959 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-08-12 08:23:31.963 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:23:31.967 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:23:31.970 +07:00 [DBG] The request has an origin header: 'https://localhost:7172'.
2025-08-12 08:23:31.972 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:23:32.046 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 08:23:32.056 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:23:32.089 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-12 08:23:32.094 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:23:32.096 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:23:32.098 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:23:32.100 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:23:32.103 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:23:32.106 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:23:32.133 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:23:32.150 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:23:32.154 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-12 08:23:32.158 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 08:23:32.166 +07:00 [DBG] Connection id "0HNEP7R4IS8UR", Request id "0HNEP7R4IS8UR:00000001": started reading request body.
2025-08-12 08:23:32.169 +07:00 [DBG] Connection id "0HNEP7R4IS8UR", Request id "0HNEP7R4IS8UR:00000001": done reading request body.
2025-08-12 08:23:32.183 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-12 08:23:32.185 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:23:32.186 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:23:32.188 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:23:32.214 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:23:32.219 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: admin1
2025-08-12 08:23:32.278 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:23:32.328 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2025-08-12 08:23:32.651 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<FullName>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Role>k__BackingField = dataReader.GetString(5);
                                    instance.<Username>k__BackingField = dataReader.GetString(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 08:23:32.697 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:23:32.700 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 08:23:32.702 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:23:32.707 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:23:32.708 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:23:32.709 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:23:32.714 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:23:32.718 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:23:32.760 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:23:32.811 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:23:32.838 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:23:32.841 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 77ms reading results.
2025-08-12 08:23:32.845 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:23:32.847 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:23:32.850 +07:00 [INF] 🔓 Login successful for user: admin1
2025-08-12 08:23:32.879 +07:00 [INF] ✅ Đăng nhập thành công cho user: admin1
2025-08-12 08:23:32.886 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:23:32.890 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:23:32.891 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:23:32.892 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:23:32.895 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:23:32.896 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-12 08:23:32.904 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 797.5534ms
2025-08-12 08:23:32.906 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:23:32.910 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:23:32.914 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:23:32.916 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:23:32.918 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/auth/login - 200 null application/json; charset=utf-8 973.3447ms
2025-08-12 08:25:03.191 +07:00 [DBG] Connection id "0HNEP7R4IS8US" accepted.
2025-08-12 08:25:03.196 +07:00 [DBG] Connection id "0HNEP7R4IS8US" started.
2025-08-12 08:25:03.202 +07:00 [DBG] Connection 0HNEP7R4IS8US established using the following protocol: "Tls13"
2025-08-12 08:25:03.209 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-12 08:25:03.221 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:25:03.222 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:03.224 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.226 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.227 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.228 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:03.231 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 22.5299ms
2025-08-12 08:25:03.233 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 44
2025-08-12 08:25:03.238 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:25:03.240 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-12 08:25:03.241 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:25:03.243 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.244 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.246 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.277 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/11/2025 10:44:23 AM', Current time (UTC): '8/12/2025 1:25:03 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-12 08:25:03.304 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '8/11/2025 10:44:23 AM', Current time (UTC): '8/12/2025 1:25:03 AM'.
2025-08-12 08:25:03.306 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:25:03.308 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-12 08:25:03.310 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:03.312 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:03.313 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:03.316 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:03.317 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:03.319 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:25:03.323 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:25:03.324 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:25:03.326 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-12 08:25:03.328 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 08:25:03.330 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:00000003": started reading request body.
2025-08-12 08:25:03.331 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:00000003": done reading request body.
2025-08-12 08:25:03.333 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-12 08:25:03.334 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:25:03.336 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:25:03.337 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:25:03.339 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:25:03.341 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: admin1
2025-08-12 08:25:03.383 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:03.390 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:03.391 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:25:03.392 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:03.394 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:03.395 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:03.396 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:03.398 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:25:03.400 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:25:03.404 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:25:03.408 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:03.409 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:03.410 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 08:25:03.413 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:03.414 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:03.416 +07:00 [INF] 🔓 Login successful for user: admin1
2025-08-12 08:25:03.418 +07:00 [INF] ✅ Đăng nhập thành công cho user: admin1
2025-08-12 08:25:03.420 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:03.423 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:03.424 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:03.425 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:03.427 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:03.428 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-12 08:25:03.430 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 111.1428ms
2025-08-12 08:25:03.432 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:25:03.433 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:03.434 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:03.436 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:03.438 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 204.7995ms
2025-08-12 08:25:03.605 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - null null
2025-08-12 08:25:03.606 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - null null
2025-08-12 08:25:03.605 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - null null
2025-08-12 08:25:03.618 +07:00 [DBG] 1 candidate(s) found for the request path '/api/teachers/paged'
2025-08-12 08:25:03.628 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-12 08:25:03.605 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - null null
2025-08-12 08:25:03.606 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/score/paged?page=1&pageSize=1 - null null
2025-08-12 08:25:03.634 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:03.631 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:25:03.633 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:03.638 +07:00 [DBG] 1 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:25:03.612 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-12 08:25:03.641 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/paged'
2025-08-12 08:25:03.643 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.644 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:03.646 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.650 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:03.653 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:25:03.654 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:03.655 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.656 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.657 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.659 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.660 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:03.661 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.662 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.663 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.664 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.665 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.666 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.668 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.669 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:03.670 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.675 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - 204 null null 69.832ms
2025-08-12 08:25:03.677 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:03.671 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:03.672 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.674 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.673 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.689 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - 204 null null 84.6611ms
2025-08-12 08:25:03.690 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - 204 null null 85.7564ms
2025-08-12 08:25:03.691 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:03.692 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:03.694 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.693 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - null null
2025-08-12 08:25:03.711 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/score/paged?page=1&pageSize=1 - null null
2025-08-12 08:25:03.710 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - null null
2025-08-12 08:25:03.707 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - 204 null null 102.6264ms
2025-08-12 08:25:03.708 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/score/paged?page=1&pageSize=1 - 204 null null 102.5514ms
2025-08-12 08:25:03.709 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:03.681 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - null null
2025-08-12 08:25:03.722 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/paged'
2025-08-12 08:25:03.723 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:25:03.730 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - 204 null null 117.9757ms
2025-08-12 08:25:03.718 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/paged'
2025-08-12 08:25:03.694 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - null null
2025-08-12 08:25:03.733 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-12 08:25:03.734 +07:00 [DBG] 2 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-12 08:25:03.735 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)' with route pattern 'api/Score/paged' is valid for the request path '/api/score/paged'
2025-08-12 08:25:03.736 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)' with route pattern 'api/subjects/paged' is valid for the request path '/api/subjects/paged'
2025-08-12 08:25:03.740 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)' with route pattern 'api/teachers/paged' is valid for the request path '/api/teachers/paged'
2025-08-12 08:25:03.744 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:25:03.746 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:25:03.747 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)' with route pattern 'api/CourseClass/paged' is valid for the request path '/api/CourseClass/paged'
2025-08-12 08:25:03.750 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:03.752 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/paged'
2025-08-12 08:25:03.753 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/paged'
2025-08-12 08:25:03.755 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-12 08:25:03.756 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:25:03.758 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetById (StudentManagementAPI)' with route pattern 'api/CourseClass/{id}' is valid for the request path '/api/CourseClass/paged'
2025-08-12 08:25:03.760 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.762 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:03.764 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:03.766 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:25:03.768 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:25:03.770 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-12 08:25:03.771 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.774 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.775 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.776 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.777 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.779 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:03.780 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.781 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.782 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.782 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.783 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.784 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:03.786 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.787 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.788 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.789 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.790 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:03.797 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:03.797 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:03.797 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:03.797 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:03.801 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:03.797 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:03.797 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:03.800 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:03.800 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:03.801 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:03.803 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:03.804 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:03.812 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:03.812 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:03.812 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:03.812 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:03.812 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:03.812 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:03.813 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:25:03.815 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:25:03.815 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-12 08:25:03.816 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:03.817 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:03.817 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:03.825 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 08:25:03.826 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:25:03.826 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:25:03.826 +07:00 [INF] Route matched with {action = "GetPaged", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedAsync(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 08:25:03.827 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:03.830 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:03.830 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.String) on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:25:03.830 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.Nullable`1[System.Int32]) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 08:25:03.832 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:03.833 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:03.835 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:03.837 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:03.839 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:03.842 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:03.844 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:03.845 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:03.847 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:03.849 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:03.851 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:03.853 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:03.855 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:03.857 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:03.859 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:03.861 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:03.863 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:03.865 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:03.868 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:03.870 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:03.871 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:03.873 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:03.876 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:03.878 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:03.881 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:03.884 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:03.886 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:25:03.888 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:25:03.889 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:03.892 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:03.895 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:25:03.898 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:25:03.902 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:25:03.904 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:25:04.004 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:25:04.004 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:25:04.004 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:25:04.004 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:25:04.004 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:25:04.004 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:25:04.011 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:04.011 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:04.011 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:04.012 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:04.013 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:04.015 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:04.018 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:25:04.019 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:25:04.021 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:25:04.023 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:25:04.024 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:25:04.026 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:25:04.029 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:04.031 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:04.037 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:04.038 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:25:04.038 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:25:04.039 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:04.040 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:04.041 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:04.043 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:04.046 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:25:04.048 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:25:04.051 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:04.053 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:04.054 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:04.056 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:04.059 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:25:04.060 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:25:04.062 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:04.065 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:04.066 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:04.067 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:04.069 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:25:04.071 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:25:04.073 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:04.074 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:04.075 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:04.076 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:04.079 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:04.081 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:04.082 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:04.084 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:25:04.085 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:25:04.087 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:25:04.088 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:04.090 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:04.091 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:25:04.094 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:04.096 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:04.097 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:04.099 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:04.100 +07:00 [DBG] Attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:04.102 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:04.103 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:04.105 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:04.106 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:04.109 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:04.109 +07:00 [DBG] Done attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:04.110 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:04.111 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:04.113 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:04.115 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:04.119 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:04.120 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:04.121 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:04.122 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:04.122 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:04.124 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:04.125 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:04.129 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' ...
2025-08-12 08:25:04.134 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:25:04.134 +07:00 [DBG] Compiling query expression: 
'DbSet<CourseClass>()
    .Count()'
2025-08-12 08:25:04.134 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .OrderByDescending(n => n.Id)
    .Count()'
2025-08-12 08:25:04.135 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2025-08-12 08:25:04.137 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:25:04.138 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:25:04.140 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:25:04.145 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name '' in request data ...
2025-08-12 08:25:04.146 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:25:04.148 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'teacherCode' of type 'System.String'.
2025-08-12 08:25:04.149 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:04.151 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'keyword' of type 'System.String'.
2025-08-12 08:25:04.153 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:04.155 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-12 08:25:04.156 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:04.158 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:25:04.160 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:04.163 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-12 08:25:04.164 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:04.166 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:25:04.167 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:04.169 +07:00 [DBG] Attempting to validate the bound parameter 'teacherCode' of type 'System.String' ...
2025-08-12 08:25:04.171 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:25:04.172 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2025-08-12 08:25:04.173 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:25:04.175 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherCode' of type 'System.String'.
2025-08-12 08:25:04.177 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:04.177 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM CourseClasses AS c) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM CourseClasses AS c, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 08:25:04.177 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 08:25:04.178 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2025-08-12 08:25:04.179 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:04.186 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:04.187 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:04.188 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:25:04.190 +07:00 [DBG] Attempting to bind parameter 'classCode' of type 'System.String' ...
2025-08-12 08:25:04.193 +07:00 [DBG] Compiling query expression: 
'DbSet<Teacher>()
    .Include(t => t.User)
    .AsNoTracking()
    .Count()'
2025-08-12 08:25:04.193 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:04.193 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:04.195 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .Include(s => s.User)
    .AsNoTracking()
    .Include(s => s.User)
    .Include(s => s.Department)
    .Include(s => s.Program)
    .Count()'
2025-08-12 08:25:04.202 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Teachers AS t) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Teachers AS t, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 08:25:04.196 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-08-12 08:25:04.197 +07:00 [DBG] Attempting to bind parameter 'classCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:25:04.199 +07:00 [DBG] Created DbConnection. (6ms).
2025-08-12 08:25:04.200 +07:00 [DBG] Created DbConnection. (7ms).
2025-08-12 08:25:04.205 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:04.205 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Students AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Students AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 08:25:04.206 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:25:04.208 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'classCode' of type 'System.String'.
2025-08-12 08:25:04.209 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.210 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.211 +07:00 [DBG] Created DbConnection. (6ms).
2025-08-12 08:25:04.217 +07:00 [DBG] Done attempting to bind parameter 'classCode' of type 'System.String'.
2025-08-12 08:25:04.214 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:25:04.226 +07:00 [DBG] Done attempting to bind parameter 'classCode' of type 'System.String'.
2025-08-12 08:25:04.228 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:25:04.229 +07:00 [DBG] Attempting to validate the bound parameter 'classCode' of type 'System.String' ...
2025-08-12 08:25:04.234 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:25:04.236 +07:00 [DBG] Done attempting to validate the bound parameter 'classCode' of type 'System.String'.
2025-08-12 08:25:04.235 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.222 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.218 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.239 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:25:04.243 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:04.250 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:04.254 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-08-12 08:25:04.252 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:04.255 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.256 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-12 08:25:04.213 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:04.259 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-08-12 08:25:04.260 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:04.263 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:04.264 +07:00 [DBG] Compiling query expression: 
'DbSet<Score>()
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.Student)
    .ThenInclude(u => u.User)
    .Include(s => s.Enrollment.CourseClass)
    .ThenInclude(cc => cc.Subject)
    .Count()'
2025-08-12 08:25:04.265 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-08-12 08:25:04.266 +07:00 [DBG] Created DbConnection. (52ms).
2025-08-12 08:25:04.267 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-12 08:25:04.271 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-08-12 08:25:04.273 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:04.275 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-12 08:25:04.276 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.277 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Scores AS s) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Scores AS s, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 08:25:04.282 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-12 08:25:04.283 +07:00 [DBG] Created DbConnection. (10ms).
2025-08-12 08:25:04.282 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-08-12 08:25:04.299 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:04.303 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.309 +07:00 [DBG] Created DbConnection. (10ms).
2025-08-12 08:25:04.312 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 11ms reading results.
2025-08-12 08:25:04.308 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-12 08:25:04.303 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.288 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-12 08:25:04.317 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.319 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.323 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-12 08:25:04.332 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (12ms).
2025-08-12 08:25:04.339 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.337 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.338 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:04.323 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:04.325 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.345 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:04.346 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 8ms reading results.
2025-08-12 08:25:04.349 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:04.350 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2025-08-12 08:25:04.352 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 26ms reading results.
2025-08-12 08:25:04.353 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-12 08:25:04.356 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.357 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:04.358 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (35ms).
2025-08-12 08:25:04.360 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.361 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-08-12 08:25:04.363 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-12 08:25:04.364 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:04.366 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:25:04.367 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-12 08:25:04.370 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Scores] AS [s]
2025-08-12 08:25:04.371 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .OrderByDescending(n => n.Id)
    .Skip(__p_0)
    .Take(__p_1)
    .Select(dtoNotification => new NotificationDto{ 
        Id = dtoNotification.Id, 
        Title = dtoNotification.Title, 
        Content = dtoNotification.Content, 
        CreatorName = dtoNotification.Creator != null ? dtoNotification.Creator.FullName : "", 
        CreatedAt = dtoNotification.CreatedAt, 
        TargetRole = dtoNotification.TargetRole 
    }
    )'
2025-08-12 08:25:04.373 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:04.374 +07:00 [DBG] Compiling query expression: 
'DbSet<Teacher>()
    .Include(t => t.User)
    .AsNoTracking()
    .Include(t => t.User)
    .OrderBy(t => t.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-12 08:25:04.376 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:25:04.380 +07:00 [DBG] Compiling query expression: 
'DbSet<CourseClass>()
    .Include(c => c.Subject)
    .Include(c => c.Teacher)
    .ThenInclude(t => t.User)
    .Include(c => c.Semester)
    .Include(c => c.Enrollments)
    .OrderBy(c => c.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-12 08:25:04.381 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Scores] AS [s]
2025-08-12 08:25:04.382 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:04.386 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.389 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.391 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-12 08:25:04.391 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-12 08:25:04.393 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 6ms reading results.
2025-08-12 08:25:04.394 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-12 08:25:04.396 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI) in 491.5211ms
2025-08-12 08:25:04.396 +07:00 [DBG] Including navigation: 'CourseClass.Teacher'.
2025-08-12 08:25:04.398 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.405 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (6ms).
2025-08-12 08:25:04.400 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.402 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:04.404 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-12 08:25:04.408 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .Include(s => s.User)
    .AsNoTracking()
    .Include(s => s.User)
    .Include(s => s.Department)
    .Include(s => s.Program)
    .OrderBy(s => s.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-12 08:25:04.408 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (8ms).
2025-08-12 08:25:04.410 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:04.412 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-12 08:25:04.414 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-12 08:25:04.415 +07:00 [DBG] Disposing connection to database '' on server ''.
2025-08-12 08:25:04.415 +07:00 [DBG] Compiling query expression: 
'DbSet<Score>()
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.Student)
    .ThenInclude(u => u.User)
    .Include(s => s.Enrollment.CourseClass)
    .ThenInclude(cc => cc.Subject)
    .OrderBy(s => s.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-12 08:25:04.417 +07:00 [DBG] Including navigation: 'CourseClass.Enrollments'.
2025-08-12 08:25:04.419 +07:00 [DBG] Including navigation: 'Student.Department'.
2025-08-12 08:25:04.419 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 08:25:04.422 +07:00 [DBG] Including navigation: 'Score.Enrollment'.
2025-08-12 08:25:04.424 +07:00 [DBG] Including navigation: 'Student.Program'.
2025-08-12 08:25:04.425 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 715.4665ms
2025-08-12 08:25:04.427 +07:00 [DBG] Including navigation: 'Enrollment.Student'.
2025-08-12 08:25:04.433 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-12 08:25:04.435 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-12 08:25:04.437 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-12 08:25:04.447 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Teacher>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Teacher.Degree (string) Required, 1], [Property: Teacher.TeacherCode (string) Required, 2] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: User.Email (string), 4], [Property: User.FullName (string) Required, 5], [Property: User.PasswordHash (string) Required, 6], [Property: User.Phone (string), 7], [Property: User.Role (string) Required, 8], [Property: User.Username (string) Required, 9] }
        SELECT t0.Id, t0.Degree, t0.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT t.Id, t.Degree, t.TeacherCode
            FROM Teachers AS t
            ORDER BY t.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t0
        INNER JOIN Users AS u ON t0.Id == u.Id
        ORDER BY t0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Teacher.Degree (string) Required, 1], [Property: Teacher.TeacherCode (string) Required, 2] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: User.Email (string), 4], [Property: User.FullName (string) Required, 5], [Property: User.PasswordHash (string) Required, 6], [Property: User.Phone (string), 7], [Property: User.Role (string) Required, 8], [Property: User.Username (string) Required, 9] }
        SELECT t0.Id, t0.Degree, t0.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT t.Id, t.Degree, t.TeacherCode
            FROM Teachers AS t
            ORDER BY t.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t0
        INNER JOIN Users AS u ON t0.Id == u.Id
        ORDER BY t0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Teacher entity;
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Teacher instance1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Teacher);
            (object)dataReader.GetInt32(0) != null ? 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                        {
                            return 
                            {
                                Teacher instance;
                                instance = new Teacher();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Degree>k__BackingField = dataReader.GetString(1);
                                instance.<TeacherCode>k__BackingField = dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Teacher)
                }
                ;
                return instance1;
            } : 
            {
                object[] keyValues1;
                keyValues1 = new object[]{ (object)dataReader.GetInt32(0) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Teacher.Id (int) Required PK FK AfterSave:Throw } | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey().Properties], 
                    keyValues: keyValues1);
            };
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            User instance2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(User);
            (object)dataReader.GetInt32(3) != null ? 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("User")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(3);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<FullName>k__BackingField = dataReader.GetString(5);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(6);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<Role>k__BackingField = dataReader.GetString(8);
                                instance.<Username>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                return instance2;
            } : 
            {
                object[] keyValues2;
                keyValues2 = new object[]{ (object)dataReader.GetInt32(3) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("User")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey().Properties], 
                    keyValues: keyValues2);
            };
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
            fixup: (namelessParameter{10}, namelessParameter{11}) => 
            {
                namelessParameter{10}.<User>k__BackingField = namelessParameter{11};
                return namelessParameter{11}.<Teacher>k__BackingField = namelessParameter{10};
            }, 
            trackingQuery: False);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:25:04.456 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.456 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<NotificationDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            ORDER BY n.Id DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            ORDER BY n.Id DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        DateTime? value5;
        string value6;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.GetString(2);
        value4 = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
        value5 = (DateTime?)dataReader.GetDateTime(4);
        value6 = dataReader.GetString(5);
        return new NotificationDto{ 
            Id = (int)value1, 
            Title = value2, 
            Content = value3, 
            CreatorName = value4, 
            CreatedAt = (DateTime)value5, 
            TargetRole = value6 
        }
        ;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:25:04.457 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.459 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Student>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
            3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
        SELECT s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
        FROM 
        (
            SELECT s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            ORDER BY s.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN Departments AS d ON s0.DepartmentId == d.Id
        INNER JOIN EducationPrograms AS e ON s0.ProgramId == e.Id
        ORDER BY s0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
            3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
        SELECT s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
        FROM 
        (
            SELECT s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            ORDER BY s.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN Departments AS d ON s0.DepartmentId == d.Id
        INNER JOIN EducationPrograms AS e ON s0.ProgramId == e.Id
        ORDER BY s0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Student entity;
        User entity;
        Department entity;
        EducationProgram entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Student instance1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Student);
            (object)dataReader.GetInt32(0) != null ? 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Student")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(2);
                                instance.<Gender>k__BackingField = dataReader.GetString(3);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(4);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                return instance1;
            } : 
            {
                object[] keyValues1;
                keyValues1 = new object[]{ (object)dataReader.GetInt32(0) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Student")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Student.Id (int) Required PK FK AfterSave:Throw } | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey().Properties], 
                    keyValues: keyValues1);
            };
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            User instance2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(User);
            (object)dataReader.GetInt32(6) != null ? 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("User")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<FullName>k__BackingField = dataReader.GetString(8);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(9);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                instance.<Role>k__BackingField = dataReader.GetString(11);
                                instance.<Username>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                return instance2;
            } : 
            {
                object[] keyValues2;
                keyValues2 = new object[]{ (object)dataReader.GetInt32(6) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("User")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey().Properties], 
                    keyValues: keyValues2);
            };
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Department instance3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Department);
            (object)dataReader.GetInt32(13) != null ? 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Department")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("Department")]: 
                        {
                            return 
                            {
                                Department instance;
                                instance = new Department();
                                instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                instance.<Name>k__BackingField = dataReader.GetString(14);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("Department")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Department)
                }
                ;
                return instance3;
            } : 
            {
                object[] keyValues3;
                keyValues3 = new object[]{ (object)dataReader.GetInt32(13) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("Department")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("Department").FindPrimaryKey().Properties], 
                    keyValues: keyValues3);
            };
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            EducationProgram instance4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(EducationProgram);
            (object)dataReader.GetInt32(15) != null ? 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("EducationProgram")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("EducationProgram")]: 
                        {
                            return 
                            {
                                EducationProgram instance;
                                instance = new EducationProgram();
                                instance.<Id>k__BackingField = dataReader.GetInt32(15);
                                instance.<Name>k__BackingField = dataReader.GetString(16);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("EducationProgram")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(EducationProgram)
                }
                ;
                return instance4;
            } : 
            {
                object[] keyValues4;
                keyValues4 = new object[]{ (object)dataReader.GetInt32(15) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("EducationProgram")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("EducationProgram").FindPrimaryKey().Properties], 
                    keyValues: keyValues4);
            };
            return instance4;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{18}, namelessParameter{19}) => 
            {
                namelessParameter{18}.<User>k__BackingField = namelessParameter{19};
                return namelessParameter{19}.<Student>k__BackingField = namelessParameter{18};
            }, 
            trackingQuery: False);
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, Department>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.Department (Department) ToPrincipal Department Inverse: Students | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Student").FindNavigation("Department")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Department.Students (ICollection<Student>) Collection ToDependent Student Inverse: Department | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students")], 
            fixup: (namelessParameter{22}, namelessParameter{23}) => 
            {
                namelessParameter{22}.<Department>k__BackingField = namelessParameter{23};
                return [LIFTABLE Constant: ClrICollectionAccessor<Department, ICollection<Student>, Student> | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students").GetCollectionAccessor()].Add(
                    entity: namelessParameter{23}, 
                    value: namelessParameter{22}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, EducationProgram>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.Program (EducationProgram) ToPrincipal EducationProgram Inverse: Students | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("Student").FindNavigation("Program")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: EducationProgram.Students (ICollection<Student>) Collection ToDependent Student Inverse: Program | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students")], 
            fixup: (namelessParameter{27}, namelessParameter{28}) => 
            {
                namelessParameter{27}.<Program>k__BackingField = namelessParameter{28};
                return [LIFTABLE Constant: ClrICollectionAccessor<EducationProgram, ICollection<Student>, Student> | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students").GetCollectionAccessor()].Add(
                    entity: namelessParameter{28}, 
                    value: namelessParameter{27}, 
                    forMaterialization: True);
            }, 
            trackingQuery: False);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:25:04.461 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:04.465 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.468 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-12 08:25:04.469 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.469 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.471 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-12 08:25:04.472 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Score>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
        SELECT s0.Id, s0.EnrollmentId, s0.Final, s0.Midterm, s0.Other, s0.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s1.Id, s1.DateOfBirth, s1.DepartmentId, s1.Gender, s1.ProgramId, s1.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s2.Id, s2.Credit, s2.Description, s2.Name, s2.SemesterId, s2.SubjectCode
        FROM 
        (
            SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total
            FROM Scores AS s
            ORDER BY s.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Enrollments AS e ON s0.EnrollmentId == e.Id
        INNER JOIN Students AS s1 ON e.StudentId == s1.Id
        INNER JOIN Users AS u ON s1.Id == u.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s2 ON c.SubjectId == s2.Id
        ORDER BY s0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
        SELECT s0.Id, s0.EnrollmentId, s0.Final, s0.Midterm, s0.Other, s0.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s1.Id, s1.DateOfBirth, s1.DepartmentId, s1.Gender, s1.ProgramId, s1.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s2.Id, s2.Credit, s2.Description, s2.Name, s2.SemesterId, s2.SubjectCode
        FROM 
        (
            SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total
            FROM Scores AS s
            ORDER BY s.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Enrollments AS e ON s0.EnrollmentId == e.Id
        INNER JOIN Students AS s1 ON e.StudentId == s1.Id
        INNER JOIN Users AS u ON s1.Id == u.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s2 ON c.SubjectId == s2.Id
        ORDER BY s0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Score entity;
        Enrollment entity;
        Student entity;
        User entity;
        CourseClass entity;
        Subject entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Score instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Score);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Score.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Score)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]: 
                        {
                            return 
                            {
                                Score instance;
                                instance = new Score();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EnrollmentId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Final>k__BackingField = dataReader.IsDBNull(2) ? default(double?) : (double?)dataReader.GetDouble(2);
                                instance.<Midterm>k__BackingField = dataReader.IsDBNull(3) ? default(double?) : (double?)dataReader.GetDouble(3);
                                instance.<Other>k__BackingField = dataReader.IsDBNull(4) ? default(double?) : (double?)dataReader.GetDouble(4);
                                instance.<Total>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Score)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Enrollment instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Enrollment);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Enrollment)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Enrollment")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(7);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(8);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Student instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Student);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(10) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Student)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(10);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(11);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(12);
                                instance.<Gender>k__BackingField = dataReader.GetString(13);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(14);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(15);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            User instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(User);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (User)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<FullName>k__BackingField = dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<Role>k__BackingField = dataReader.GetString(21);
                                instance.<Username>k__BackingField = dataReader.GetString(22);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            CourseClass instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(CourseClass);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (CourseClass)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CourseClass")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(24);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(27);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(28);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(29);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        entity = 
        {
            MaterializationContext materializationContext6;
            IEntityType entityType6;
            Subject instance6;
            InternalEntityEntry entry6;
            bool hasNullKey6;
            materializationContext6 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance6 = default(Subject);
            entry6 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(30) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey6);
            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
            {
                entityType6 = entry6.EntityType;
                return instance6 = (Subject)entry6.Entity;
            } : 
            {
                ISnapshot shadowSnapshot6;
                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType6 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance6 = switch (entityType6)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(30);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(31);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(32) ? default(string) : dataReader.GetString(32);
                                instance.<Name>k__BackingField = dataReader.GetString(33);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(34);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(35);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext6.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType6, 
                    entity: instance6, 
                    snapshot: shadowSnapshot6);
                return instance6;
            } : default(void);
            return instance6;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{20}, namelessParameter{21}) => 
            {
                namelessParameter{20}.<User>k__BackingField = namelessParameter{21};
                return namelessParameter{21}.<Student>k__BackingField = namelessParameter{20};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, Student>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.Student (Student) ToPrincipal Student Inverse: Enrollments | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Student")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: Student | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{24}, namelessParameter{25}) => 
            {
                namelessParameter{24}.<Student>k__BackingField = namelessParameter{25};
                return [LIFTABLE Constant: ClrICollectionAccessor<Student, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{25}, 
                    value: namelessParameter{24}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{27} => namelessParameter{27}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{29}, namelessParameter{30}) => 
            {
                namelessParameter{29}.<Subject>k__BackingField = namelessParameter{30};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{30}, 
                    value: namelessParameter{29}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{32} => namelessParameter{32}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{34}, namelessParameter{35}) => 
            {
                namelessParameter{34}.<CourseClass>k__BackingField = namelessParameter{35};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{35}, 
                    value: namelessParameter{34}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Score, Score, Enrollment>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Score.Enrollment (Enrollment) ToPrincipal Enrollment Inverse: Score | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindNavigation("Enrollment")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.Score (Score) ToDependent Score Inverse: Enrollment | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Score")], 
            fixup: (namelessParameter{39}, namelessParameter{40}) => 
            {
                namelessParameter{39}.<Enrollment>k__BackingField = namelessParameter{40};
                return namelessParameter{40}.<Score>k__BackingField = namelessParameter{39};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:25:04.472 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.474 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:04.476 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-12 08:25:04.486 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:04.487 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2025-08-12 08:25:04.492 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:25:04.493 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.493 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-12 08:25:04.494 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-08-12 08:25:04.495 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 13], [Property: Teacher.Degree (string) Required, 14], [Property: Teacher.TeacherCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: Semester.EndDate (DateTime) Required, 24], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 25], [Property: Semester.Name (string) Required, 26], [Property: Semester.StartDate (DateTime) Required, 27] }
            5 -> 0
            6 -> 7
            7 -> 13
            8 -> 16
            9 -> 23
            10 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: Enrollment.CourseClassId (int) Required FK Index, 29], [Property: Enrollment.EnrollDate (DateTime) Required, 30], [Property: Enrollment.StudentId (int) Required FK Index, 31] }
            11 -> 28
        SELECT c0.Id, c0.ClassCode, c0.MaxStudents, c0.Schedule, c0.SemesterId, c0.SubjectId, c0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
        FROM 
        (
            SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM CourseClasses AS c
            ORDER BY c.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS c0
        INNER JOIN Subjects AS s ON c0.SubjectId == s.Id
        INNER JOIN Teachers AS t ON c0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id
        INNER JOIN Semesters AS s0 ON c0.SemesterId == s0.Id
        LEFT JOIN Enrollments AS e ON c0.Id == e.CourseClassId
        ORDER BY c0.Id ASC, s.Id ASC, t.Id ASC, u.Id ASC, s0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 13], [Property: Teacher.Degree (string) Required, 14], [Property: Teacher.TeacherCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: Semester.EndDate (DateTime) Required, 24], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 25], [Property: Semester.Name (string) Required, 26], [Property: Semester.StartDate (DateTime) Required, 27] }
            5 -> 0
            6 -> 7
            7 -> 13
            8 -> 16
            9 -> 23
            10 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: Enrollment.CourseClassId (int) Required FK Index, 29], [Property: Enrollment.EnrollDate (DateTime) Required, 30], [Property: Enrollment.StudentId (int) Required FK Index, 31] }
            11 -> 28
        SELECT c0.Id, c0.ClassCode, c0.MaxStudents, c0.Schedule, c0.SemesterId, c0.SubjectId, c0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
        FROM 
        (
            SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM CourseClasses AS c
            ORDER BY c.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS c0
        INNER JOIN Subjects AS s ON c0.SubjectId == s.Id
        INNER JOIN Teachers AS t ON c0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id
        INNER JOIN Semesters AS s0 ON c0.SemesterId == s0.Id
        LEFT JOIN Enrollments AS e ON c0.Id == e.CourseClassId
        ORDER BY c0.Id ASC, s.Id ASC, t.Id ASC, u.Id ASC, s0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            CourseClass entity;
            Subject entity;
            Teacher entity;
            User entity;
            Semester entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                CourseClass instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(CourseClass);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (CourseClass)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                            {
                                return 
                                {
                                    CourseClass instance;
                                    instance = new CourseClass();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                    instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                    instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                    instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(CourseClass)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Subject instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Subject);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Subject)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                            {
                                return 
                                {
                                    Subject instance;
                                    instance = new Subject();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                    instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<Name>k__BackingField = dataReader.GetString(10);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                    instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Subject)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                Teacher instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(Teacher);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Teacher.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (Teacher)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                            {
                                return 
                                {
                                    Teacher instance;
                                    instance = new Teacher();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                    instance.<Degree>k__BackingField = dataReader.GetString(14);
                                    instance.<TeacherCode>k__BackingField = dataReader.GetString(15);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext3.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Teacher)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            entity = 
            {
                MaterializationContext materializationContext4;
                IEntityType entityType4;
                User instance4;
                InternalEntityEntry entry4;
                bool hasNullKey4;
                materializationContext4 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance4 = default(User);
                entry4 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey4);
                !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                {
                    entityType4 = entry4.EntityType;
                    return instance4 = (User)entry4.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot4;
                    shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                    instance4 = switch (entityType4)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<FullName>k__BackingField = dataReader.GetString(18);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                    instance.<Role>k__BackingField = dataReader.GetString(21);
                                    instance.<Username>k__BackingField = dataReader.GetString(22);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext4.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType4, 
                        entity: instance4, 
                        snapshot: shadowSnapshot4);
                    return instance4;
                } : default(void);
                return instance4;
            };
            entity = 
            {
                MaterializationContext materializationContext5;
                IEntityType entityType5;
                Semester instance5;
                InternalEntityEntry entry5;
                bool hasNullKey5;
                materializationContext5 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance5 = default(Semester);
                entry5 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey5);
                !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                {
                    entityType5 = entry5.EntityType;
                    return instance5 = (Semester)entry5.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot5;
                    shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType5 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Semester")];
                    instance5 = switch (entityType5)
                    {
                        case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("Semester")]: 
                            {
                                return 
                                {
                                    Semester instance;
                                    instance = new Semester();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                    instance.<EndDate>k__BackingField = dataReader.GetDateTime(24);
                                    instance.<IsOpen>k__BackingField = dataReader.GetBoolean(25);
                                    instance.<Name>k__BackingField = dataReader.GetString(26);
                                    instance.<StartDate>k__BackingField = dataReader.GetDateTime(27);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext5.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Semester)
                    }
                    ;
                    entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType5, 
                        entity: instance5, 
                        snapshot: shadowSnapshot5);
                    return instance5;
                } : default(void);
                return instance5;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity, 
                entity, 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Subject)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{17}, namelessParameter{18}) => 
                {
                    namelessParameter{17}.<Subject>k__BackingField = namelessParameter{18};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{18}, 
                        value: namelessParameter{17}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
                queryContext: queryContext, 
                entity: (Teacher)(resultContext.Values[2]), 
                relatedEntity: (User)(resultContext.Values[3]), 
                navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
                fixup: (namelessParameter{22}, namelessParameter{23}) => 
                {
                    namelessParameter{22}.<User>k__BackingField = namelessParameter{23};
                    return namelessParameter{23}.<Teacher>k__BackingField = namelessParameter{22};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Teacher>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Teacher)(resultContext.Values[2]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Teacher (Teacher) ToPrincipal Teacher Inverse: CourseClasses | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Teacher")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Teacher.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Teacher | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{26}, namelessParameter{27}) => 
                {
                    namelessParameter{26}.<Teacher>k__BackingField = namelessParameter{27};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Teacher, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{27}, 
                        value: namelessParameter{26}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Semester)(resultContext.Values[4]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{31}, namelessParameter{32}) => 
                {
                    namelessParameter{31}.<Semester>k__BackingField = namelessParameter{32};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{32}, 
                        value: namelessParameter{31}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<CourseClass, CourseClass>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (CourseClass)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(7), 
                    (object)(int?)dataReader.GetInt32(13), 
                    (object)(int?)dataReader.GetInt32(16), 
                    (object)(int?)dataReader.GetInt32(23) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(7), 
                    (object)(int?)dataReader.GetInt32(13), 
                    (object)(int?)dataReader.GetInt32(16), 
                    (object)(int?)dataReader.GetInt32(23) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<CourseClass, Enrollment>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(7), 
                (object)(int?)dataReader.GetInt32(13), 
                (object)(int?)dataReader.GetInt32(16), 
                (object)(int?)dataReader.GetInt32(23) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(7), 
                (object)(int?)dataReader.GetInt32(13), 
                (object)(int?)dataReader.GetInt32(16), 
                (object)(int?)dataReader.GetInt32(23) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(28) ? default(int?) : (int?)dataReader.GetInt32(28) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Enrollment entity;
                entity = 
                {
                    MaterializationContext materializationContext6;
                    IEntityType entityType6;
                    Enrollment instance6;
                    InternalEntityEntry entry6;
                    bool hasNullKey6;
                    materializationContext6 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance6 = default(Enrollment);
                    entry6 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(28) ? default(object) : (object)dataReader.GetInt32(28) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey6);
                    !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                    {
                        entityType6 = entry6.EntityType;
                        return instance6 = (Enrollment)entry6.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot6;
                        shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType6 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Enrollment")];
                        instance6 = switch (entityType6)
                        {
                            case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("Enrollment")]: 
                                {
                                    return 
                                    {
                                        Enrollment instance;
                                        instance = new Enrollment();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(28) ? default(int) : dataReader.GetInt32(28);
                                        instance.<CourseClassId>k__BackingField = dataReader.IsDBNull(29) ? default(int) : dataReader.GetInt32(29);
                                        instance.<EnrollDate>k__BackingField = dataReader.IsDBNull(30) ? default(DateTime) : dataReader.GetDateTime(30);
                                        instance.<StudentId>k__BackingField = dataReader.IsDBNull(31) ? default(int) : dataReader.GetInt32(31);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext6.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Enrollment)
                        }
                        ;
                        entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType6, 
                            entity: instance6, 
                            snapshot: shadowSnapshot6);
                        return instance6;
                    } : default(void);
                    return instance6;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{39} => namelessParameter{39}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            fixup: (namelessParameter{40}, namelessParameter{41}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{42} => namelessParameter{42}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{40}, 
                    value: namelessParameter{41}, 
                    forMaterialization: True);
                return namelessParameter{41}.<CourseClass>k__BackingField = namelessParameter{40};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (CourseClass)(resultContext.Values[0]) : default(CourseClass);
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:25:04.495 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-12 08:25:04.497 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.501 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:25:04.502 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.513 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:04.511 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:25:04.517 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 17ms reading results.
2025-08-12 08:25:04.518 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:25:04.518 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:25:04.520 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.523 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.527 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:25:04.527 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-12 08:25:04.528 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.529 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.531 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (8ms).
2025-08-12 08:25:04.535 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[EnrollmentId], [s0].[Final], [s0].[Midterm], [s0].[Other], [s0].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s1].[Id], [s1].[DateOfBirth], [s1].[DepartmentId], [s1].[Gender], [s1].[ProgramId], [s1].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s2].[Id], [s2].[Credit], [s2].[Description], [s2].[Name], [s2].[SemesterId], [s2].[SubjectCode]
FROM (
    SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total]
    FROM [Scores] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Enrollments] AS [e] ON [s0].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s1] ON [e].[StudentId] = [s1].[Id]
INNER JOIN [Users] AS [u] ON [s1].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s2] ON [c].[SubjectId] = [s2].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:25:04.537 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 12ms reading results.
2025-08-12 08:25:04.538 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.538 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:04.546 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.547 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 13ms reading results.
2025-08-12 08:25:04.548 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-08-12 08:25:04.550 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 08:25:04.551 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.553 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-12 08:25:04.554 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[EnrollmentId], [s0].[Final], [s0].[Midterm], [s0].[Other], [s0].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s1].[Id], [s1].[DateOfBirth], [s1].[DepartmentId], [s1].[Gender], [s1].[ProgramId], [s1].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s2].[Id], [s2].[Credit], [s2].[Description], [s2].[Name], [s2].[SemesterId], [s2].[SubjectCode]
FROM (
    SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total]
    FROM [Scores] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Enrollments] AS [e] ON [s0].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s1] ON [e].[StudentId] = [s1].[Id]
INNER JOIN [Users] AS [u] ON [s1].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s2] ON [c].[SubjectId] = [s2].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:25:04.555 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:04.556 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 08:25:04.558 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:25:04.558 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:04.565 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.564 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:04.571 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:04.571 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:04.573 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:04.574 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:04.576 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:25:04.577 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:04.578 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:04.579 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:04.582 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:04.583 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:04.584 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:04.585 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.585 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:04.587 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:04.588 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Teacher.TeacherDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:04.590 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:04.596 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:04.601 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI) in 713.1871ms
2025-08-12 08:25:04.602 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 707.3163ms
2025-08-12 08:25:04.603 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 716.9249ms
2025-08-12 08:25:04.603 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:04.605 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:25:04.606 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:25:04.608 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:04.609 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:04.611 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:04.612 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.612 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.612 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.614 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.615 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.618 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.620 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-12 08:25:04.621 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.621 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-12 08:25:04.623 +07:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-08-12 08:25:04.626 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 933.1765ms
2025-08-12 08:25:04.629 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - 200 null application/json; charset=utf-8 896.6725ms
2025-08-12 08:25:04.630 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.631 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 937.496ms
2025-08-12 08:25:04.636 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.645 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.646 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.653 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.654 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.656 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.658 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.661 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.661 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.663 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.666 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.666 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.667 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.670 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.672 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.674 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 113ms reading results.
2025-08-12 08:25:04.676 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.678 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:04.686 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.686 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:04.688 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:04.691 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:04.693 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.693 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:04.695 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 114ms reading results.
2025-08-12 08:25:04.696 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:04.698 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.699 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:04.701 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:25:04.704 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:04.711 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:04.713 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:04.714 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:04.715 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:04.716 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:04.718 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:04.719 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI) in 817.6271ms
2025-08-12 08:25:04.721 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:04.722 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:04.725 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.725 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI) in 827.5584ms
2025-08-12 08:25:04.726 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:04.728 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-12 08:25:04.729 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/score/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 1018.9493ms
2025-08-12 08:25:04.731 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:04.736 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:04.737 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:04.739 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - 200 null application/json; charset=utf-8 1058.1433ms
2025-08-12 08:25:06.424 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-12 08:25:06.428 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-12 08:25:06.429 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:06.430 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:06.431 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:06.433 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:06.434 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:06.435 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 11.6085ms
2025-08-12 08:25:06.438 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-12 08:25:06.444 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-12 08:25:06.445 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-12 08:25:06.448 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-12 08:25:06.449 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:06.450 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:06.451 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:06.453 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:06.455 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:06.456 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:06.458 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:06.459 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:06.464 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-12 08:25:06.466 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:06.469 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:06.471 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:06.474 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:06.476 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:06.477 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-12 08:25:06.479 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-12 08:25:06.482 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:06.484 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:25:06.485 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:25:06.489 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:25:06.491 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:25:06.493 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:25:06.496 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:06.497 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:06.499 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:06.501 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:06.505 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:06.508 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Count()'
2025-08-12 08:25:06.512 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Users AS u) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Users AS u, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 08:25:06.515 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:06.517 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:25:06.518 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:06.520 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:06.521 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:06.523 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:06.524 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:25:06.526 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-12 08:25:06.531 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-12 08:25:06.535 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:06.537 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:25:06.539 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:06.540 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:06.542 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .OrderBy(u => u.Id)
    .Skip(__p_0)
    .Take(__p_1)'
2025-08-12 08:25:06.548 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM Users AS u
        ORDER BY u.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
        SELECT u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM Users AS u
        ORDER BY u.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<FullName>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<Role>k__BackingField = dataReader.GetString(5);
                                instance.<Username>k__BackingField = dataReader.GetString(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:25:06.553 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:06.554 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:06.555 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:06.556 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:06.558 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:25:06.560 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-12 08:25:06.563 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-12 08:25:06.566 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:06.567 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:06.569 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:06.571 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:06.573 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:06.574 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:06.576 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:06.577 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:06.580 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:06.581 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:06.583 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:06.585 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 19ms reading results.
2025-08-12 08:25:06.587 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:06.589 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:06.596 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:06.599 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:06.600 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:06.601 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:06.602 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:06.603 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:06.607 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 129.9756ms
2025-08-12 08:25:06.609 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:06.610 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:06.612 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:06.614 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:06.615 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 177.592ms
2025-08-12 08:25:07.443 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - null null
2025-08-12 08:25:07.447 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:25:07.448 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:07.449 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:07.450 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:07.451 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:07.452 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:07.453 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - 204 null null 10.2487ms
2025-08-12 08:25:07.456 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - null null
2025-08-12 08:25:07.461 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:25:07.462 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-12 08:25:07.464 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:25:07.465 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:07.466 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:07.468 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:07.470 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:07.471 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:07.472 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:07.473 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:25:07.475 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 08:25:07.477 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:07.479 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:07.482 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:07.483 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:07.485 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:07.488 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:25:07.490 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:25:07.492 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:07.493 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:25:07.496 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:07.497 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:07.499 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:07.500 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:07.502 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:07.504 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:25:07.506 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:07.507 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:07.510 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:07.511 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:07.512 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:25:07.514 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:25:07.516 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:07.518 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:07.519 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:07.520 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:25:07.522 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:07.525 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:07.527 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:07.528 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:25:07.530 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:07.532 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:07.533 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:07.535 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:07.537 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:25:07.538 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:25:07.541 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:25:07.546 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:07.547 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:25:07.549 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:07.551 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:07.553 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:07.554 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:07.555 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:07.556 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:25:07.558 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:25:07.560 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:25:07.563 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:25:07.566 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:07.567 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:25:07.569 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:07.570 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:07.573 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:07.575 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:07.576 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:07.576 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:07.577 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:07.579 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:07.581 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 93.2329ms
2025-08-12 08:25:07.583 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:25:07.584 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:07.586 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:07.587 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:07.589 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=5 - 200 null application/json; charset=utf-8 133.9445ms
2025-08-12 08:25:08.556 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=5 - null null
2025-08-12 08:25:08.560 +07:00 [DBG] 1 candidate(s) found for the request path '/api/teachers/paged'
2025-08-12 08:25:08.561 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:08.563 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:08.564 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:08.566 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:08.567 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:08.568 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=5 - 204 null null 12.1313ms
2025-08-12 08:25:08.570 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=5 - null null
2025-08-12 08:25:08.575 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/paged'
2025-08-12 08:25:08.576 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)' with route pattern 'api/teachers/paged' is valid for the request path '/api/teachers/paged'
2025-08-12 08:25:08.579 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/paged'
2025-08-12 08:25:08.581 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:08.582 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:08.583 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:08.585 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:08.586 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:08.587 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:08.589 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:08.590 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:08.591 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:25:08.594 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:08.596 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:08.597 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:08.600 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:08.602 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:08.604 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:25:08.607 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:25:08.609 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:08.610 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:25:08.612 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:08.614 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:08.615 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:08.617 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:08.618 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:08.620 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:25:08.622 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:08.623 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:08.624 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:08.626 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:08.627 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' ...
2025-08-12 08:25:08.629 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:25:08.631 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'teacherCode' of type 'System.String'.
2025-08-12 08:25:08.632 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-12 08:25:08.635 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-12 08:25:08.636 +07:00 [DBG] Attempting to validate the bound parameter 'teacherCode' of type 'System.String' ...
2025-08-12 08:25:08.638 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherCode' of type 'System.String'.
2025-08-12 08:25:08.640 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:08.643 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:08.644 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:25:08.645 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:08.646 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:08.648 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:08.650 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:08.651 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:25:08.653 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-12 08:25:08.657 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-12 08:25:08.661 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:08.663 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:25:08.665 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:08.666 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:08.669 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:08.671 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:08.672 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:08.673 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:08.675 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:25:08.677 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-12 08:25:08.680 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-12 08:25:08.683 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:08.684 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:25:08.686 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:08.687 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:08.690 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:08.693 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:08.694 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:08.696 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:08.697 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:08.699 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Teacher.TeacherDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:08.701 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI) in 97.2427ms
2025-08-12 08:25:08.705 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:08.707 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:08.708 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:08.710 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:08.712 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=5 - 200 null application/json; charset=utf-8 141.7043ms
2025-08-12 08:25:09.203 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - null null
2025-08-12 08:25:09.207 +07:00 [DBG] 1 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:25:09.208 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:09.209 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:09.210 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:09.211 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:09.212 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:09.213 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - 204 null null 10.6071ms
2025-08-12 08:25:09.215 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - null null
2025-08-12 08:25:09.222 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:25:09.223 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)' with route pattern 'api/subjects/paged' is valid for the request path '/api/subjects/paged'
2025-08-12 08:25:09.226 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/paged'
2025-08-12 08:25:09.227 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:09.229 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:09.230 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:09.231 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:09.232 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:09.233 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:09.235 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:09.236 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:09.238 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.Nullable`1[System.Int32]) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 08:25:09.240 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:09.242 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:09.243 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:09.246 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:09.248 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:09.250 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:25:09.254 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:25:09.255 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:09.257 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:25:09.259 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:09.261 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:09.262 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:09.264 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:09.266 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:09.268 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:25:09.270 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:09.271 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:09.273 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:09.275 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:09.276 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2025-08-12 08:25:09.278 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name '' in request data ...
2025-08-12 08:25:09.281 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'keyword' of type 'System.String'.
2025-08-12 08:25:09.283 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:25:09.284 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:25:09.286 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2025-08-12 08:25:09.288 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2025-08-12 08:25:09.289 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:25:09.291 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-08-12 08:25:09.292 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:25:09.295 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:25:09.296 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:25:09.297 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:25:09.299 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:25:09.301 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:09.313 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:09.315 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:25:09.320 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:09.323 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:09.324 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:09.324 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:09.325 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:09.326 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:09.328 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI) in 78.1635ms
2025-08-12 08:25:09.330 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:09.331 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:09.333 +07:00 [DBG] Disposing connection to database '' on server ''.
2025-08-12 08:25:09.335 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:09.337 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - 200 null application/json; charset=utf-8 121.7551ms
2025-08-12 08:25:09.925 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1000 - null null
2025-08-12 08:25:09.929 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-12 08:25:09.931 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:09.932 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:09.933 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:09.934 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:09.935 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:09.936 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1000 - 204 null null 11.4131ms
2025-08-12 08:25:09.939 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1000 - null null
2025-08-12 08:25:09.943 +07:00 [DBG] 2 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-12 08:25:09.945 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)' with route pattern 'api/CourseClass/paged' is valid for the request path '/api/CourseClass/paged'
2025-08-12 08:25:09.948 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetById (StudentManagementAPI)' with route pattern 'api/CourseClass/{id}' is valid for the request path '/api/CourseClass/paged'
2025-08-12 08:25:09.949 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-12 08:25:09.950 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:09.951 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:09.953 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:09.954 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:09.956 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:09.957 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:09.959 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-12 08:25:09.961 +07:00 [INF] Route matched with {action = "GetPaged", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedAsync(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 08:25:09.963 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:09.964 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:09.966 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:09.968 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:09.970 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:09.972 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:25:09.975 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:25:09.976 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:09.978 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:25:09.980 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:25:09.982 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:25:09.984 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:25:09.987 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:25:09.989 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:09.990 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:09.992 +07:00 [DBG] Attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:09.993 +07:00 [DBG] Done attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:09.995 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:09.998 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:09.999 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:25:10.000 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:10.002 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:10.004 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:10.005 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:10.007 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:25:10.009 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-12 08:25:10.012 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-12 08:25:10.017 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:10.019 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:25:10.021 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:10.023 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:10.025 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:10.027 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:10.028 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:10.030 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:10.032 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:25:10.033 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:25:10.037 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:25:10.040 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.041 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.043 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.045 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.046 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.047 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.049 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.051 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.053 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.054 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.055 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.057 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.059 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.061 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.063 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.064 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.066 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.068 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.069 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.070 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.072 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.074 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.075 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.077 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.078 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.080 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.081 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.083 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.084 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.086 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.088 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.089 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.090 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.092 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.093 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.095 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.096 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.097 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.099 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.101 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.102 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.103 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.105 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.107 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.108 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.110 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.111 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.113 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.115 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.116 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.118 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.119 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.121 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.123 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.124 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.125 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.128 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.129 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.130 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.132 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.133 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.135 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.136 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.137 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.139 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.140 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.142 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.146 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.149 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.151 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.152 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.153 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.155 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.157 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.159 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.161 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.163 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.164 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.166 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.167 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.170 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.171 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.173 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.174 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.176 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.178 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.179 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.181 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.183 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.185 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.186 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.187 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.189 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.191 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.193 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.195 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.197 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.199 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.200 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.202 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.204 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.206 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.208 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.211 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.213 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.214 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.216 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.218 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.219 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.221 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.222 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.223 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.225 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.227 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.228 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.229 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.231 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.232 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.234 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.235 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.236 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.239 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.241 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.242 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.243 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.245 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.247 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.248 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.250 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.251 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.252 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.254 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.255 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.257 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.259 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.261 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.262 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.264 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.265 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.267 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.269 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:10.270 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:10.272 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 232ms reading results.
2025-08-12 08:25:10.274 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:10.275 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:10.277 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:10.281 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:10.282 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:10.283 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:10.283 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:10.285 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:10.292 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI) in 319.8511ms
2025-08-12 08:25:10.294 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-12 08:25:10.295 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:10.296 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:10.298 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:10.300 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1000 - 200 null application/json; charset=utf-8 361.7664ms
2025-08-12 08:25:10.487 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - null null
2025-08-12 08:25:10.490 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:25:10.491 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)' with route pattern 'api/subjects/paged' is valid for the request path '/api/subjects/paged'
2025-08-12 08:25:10.493 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/paged'
2025-08-12 08:25:10.496 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:10.498 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:10.499 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:10.500 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:10.501 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:10.502 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:10.504 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:10.504 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:10.506 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.Nullable`1[System.Int32]) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 08:25:10.509 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:10.511 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:10.512 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:10.514 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:10.516 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:10.519 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:25:10.522 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:25:10.525 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:10.526 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:25:10.528 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:10.530 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:10.532 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:10.533 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:10.535 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:10.537 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:25:10.539 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:10.541 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:10.542 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:10.544 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:10.546 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2025-08-12 08:25:10.547 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name '' in request data ...
2025-08-12 08:25:10.549 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'keyword' of type 'System.String'.
2025-08-12 08:25:10.551 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:25:10.552 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:25:10.554 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2025-08-12 08:25:10.556 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2025-08-12 08:25:10.558 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:25:10.560 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-08-12 08:25:10.561 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:25:10.563 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:25:10.564 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:25:10.566 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:25:10.568 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:25:10.570 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:10.572 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:10.573 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:25:10.579 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:10.581 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:10.582 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:10.583 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:10.584 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:10.585 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:10.587 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI) in 68.054ms
2025-08-12 08:25:10.588 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:10.589 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:10.591 +07:00 [DBG] Disposing connection to database '' on server ''.
2025-08-12 08:25:10.593 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:25:10.595 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - 200 null application/json; charset=utf-8 108.4914ms
2025-08-12 08:25:14.319 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1000 - null null
2025-08-12 08:25:14.323 +07:00 [DBG] 2 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-12 08:25:14.324 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)' with route pattern 'api/CourseClass/paged' is valid for the request path '/api/CourseClass/paged'
2025-08-12 08:25:14.327 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetById (StudentManagementAPI)' with route pattern 'api/CourseClass/{id}' is valid for the request path '/api/CourseClass/paged'
2025-08-12 08:25:14.329 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-12 08:25:14.330 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:14.331 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:14.332 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:14.333 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:14.334 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:14.335 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:14.337 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-12 08:25:14.338 +07:00 [INF] Route matched with {action = "GetPaged", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedAsync(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 08:25:14.340 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:14.341 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:14.343 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:14.345 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:14.347 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:14.349 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:25:14.353 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:25:14.355 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:14.357 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:25:14.358 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:25:14.361 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:25:14.363 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:25:14.366 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:25:14.368 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:14.369 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:14.371 +07:00 [DBG] Attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:14.373 +07:00 [DBG] Done attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:14.374 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:14.377 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:14.378 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:25:14.379 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:14.381 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:14.382 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:14.384 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:14.386 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:25:14.387 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-12 08:25:14.390 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-12 08:25:14.395 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:14.397 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:25:14.399 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:14.400 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:14.403 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:14.406 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:14.408 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:14.409 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:14.411 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:25:14.413 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:25:14.416 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:25:14.418 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.421 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.422 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.423 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.424 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.427 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.428 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.430 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.431 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.432 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.434 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.436 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.437 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.439 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.441 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.443 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.444 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.445 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.448 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.449 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.451 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.453 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.455 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.456 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.457 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.458 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.460 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.462 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.464 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.466 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.468 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.469 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.471 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.472 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.475 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.476 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.478 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.479 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.481 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.483 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.484 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.486 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.488 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.490 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.492 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.493 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.495 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.497 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.499 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.500 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.502 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.503 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.505 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.507 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.508 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.510 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.512 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.513 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.515 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.517 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.518 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.520 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.522 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.524 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.525 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.527 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.528 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.531 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.532 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.533 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.536 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.538 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.539 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.542 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.544 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.546 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.548 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.549 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.551 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.553 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.554 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.556 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.558 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.560 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.561 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.563 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.565 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.567 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.568 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.569 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.571 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.573 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.574 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.576 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.577 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.579 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.581 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.583 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.584 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.586 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.587 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.589 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.590 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.591 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.594 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.596 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.597 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.599 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.601 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.603 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.605 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.607 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.609 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.611 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.613 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.614 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.615 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.617 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.619 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.621 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.622 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.623 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.625 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.626 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.628 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.629 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.630 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.632 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.633 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.635 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.636 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.637 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.639 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.640 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.642 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.643 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.645 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.646 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.647 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.649 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.651 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:14.652 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:14.654 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 235ms reading results.
2025-08-12 08:25:14.656 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:14.657 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:14.659 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:14.662 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:14.664 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:14.664 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:14.665 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:14.667 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:14.670 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI) in 320.6891ms
2025-08-12 08:25:14.672 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-12 08:25:14.673 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:14.675 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:14.676 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:14.678 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1000 - 200 null application/json; charset=utf-8 359.4637ms
2025-08-12 08:25:16.317 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/score/paged?page=1&pageSize=10 - null null
2025-08-12 08:25:16.321 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/paged'
2025-08-12 08:25:16.322 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:16.324 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:16.325 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:16.327 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:16.328 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:16.329 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/score/paged?page=1&pageSize=10 - 204 null null 12.8494ms
2025-08-12 08:25:16.332 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/score/paged?page=1&pageSize=10 - null null
2025-08-12 08:25:16.336 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/paged'
2025-08-12 08:25:16.338 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)' with route pattern 'api/Score/paged' is valid for the request path '/api/score/paged'
2025-08-12 08:25:16.340 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:16.341 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:16.343 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:16.344 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:16.346 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:16.347 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:16.348 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:16.350 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:16.351 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.String) on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:25:16.353 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:16.354 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:16.356 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:16.358 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:16.361 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:16.363 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:25:16.365 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:25:16.367 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:16.368 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:25:16.370 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:16.372 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:16.374 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:25:16.375 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:25:16.378 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:16.379 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:25:16.381 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:16.382 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:16.384 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:25:16.386 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:25:16.388 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:25:16.390 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:25:16.392 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:16.394 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:16.395 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:16.396 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:25:16.399 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:25:16.400 +07:00 [DBG] Attempting to bind parameter 'classCode' of type 'System.String' ...
2025-08-12 08:25:16.402 +07:00 [DBG] Attempting to bind parameter 'classCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:25:16.403 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'classCode' of type 'System.String'.
2025-08-12 08:25:16.405 +07:00 [DBG] Done attempting to bind parameter 'classCode' of type 'System.String'.
2025-08-12 08:25:16.407 +07:00 [DBG] Done attempting to bind parameter 'classCode' of type 'System.String'.
2025-08-12 08:25:16.409 +07:00 [DBG] Attempting to validate the bound parameter 'classCode' of type 'System.String' ...
2025-08-12 08:25:16.410 +07:00 [DBG] Done attempting to validate the bound parameter 'classCode' of type 'System.String'.
2025-08-12 08:25:16.412 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:16.415 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:16.416 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:25:16.417 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:16.420 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:16.421 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:16.422 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:16.424 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:25:16.425 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Scores] AS [s]
2025-08-12 08:25:16.429 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Scores] AS [s]
2025-08-12 08:25:16.434 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:16.435 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:25:16.437 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:16.438 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:16.441 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:16.442 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:16.444 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:16.445 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:16.447 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:25:16.449 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[EnrollmentId], [s0].[Final], [s0].[Midterm], [s0].[Other], [s0].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s1].[Id], [s1].[DateOfBirth], [s1].[DepartmentId], [s1].[Gender], [s1].[ProgramId], [s1].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s2].[Id], [s2].[Credit], [s2].[Description], [s2].[Name], [s2].[SemesterId], [s2].[SubjectCode]
FROM (
    SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total]
    FROM [Scores] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Enrollments] AS [e] ON [s0].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s1] ON [e].[StudentId] = [s1].[Id]
INNER JOIN [Users] AS [u] ON [s1].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s2] ON [c].[SubjectId] = [s2].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:25:16.452 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[EnrollmentId], [s0].[Final], [s0].[Midterm], [s0].[Other], [s0].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s1].[Id], [s1].[DateOfBirth], [s1].[DepartmentId], [s1].[Gender], [s1].[ProgramId], [s1].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s2].[Id], [s2].[Credit], [s2].[Description], [s2].[Name], [s2].[SemesterId], [s2].[SubjectCode]
FROM (
    SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total]
    FROM [Scores] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Enrollments] AS [e] ON [s0].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s1] ON [e].[StudentId] = [s1].[Id]
INNER JOIN [Users] AS [u] ON [s1].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s2] ON [c].[SubjectId] = [s2].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:25:16.455 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.457 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.458 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.460 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.462 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.463 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.465 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.466 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.468 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.470 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.472 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.473 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.475 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.477 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.478 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.479 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.481 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.483 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.484 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.486 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.487 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.489 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.490 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.492 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.493 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.494 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.496 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.498 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.499 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.500 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.502 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.504 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.506 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.508 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.510 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.512 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.514 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.516 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.518 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.521 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.523 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.525 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.526 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.528 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.529 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.531 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.532 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.534 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.535 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.537 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.538 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.539 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.541 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.542 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.543 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.545 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.547 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.548 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.549 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.551 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.553 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.554 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.556 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.557 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.559 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.561 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.562 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.563 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.565 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.567 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.568 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.570 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.572 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.573 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.574 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.576 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.577 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.578 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.580 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.581 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.583 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.584 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.586 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.588 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.589 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.590 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.591 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.593 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.595 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:16.596 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:16.597 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 141ms reading results.
2025-08-12 08:25:16.600 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:16.602 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:16.604 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:16.606 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:16.607 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:16.608 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:16.609 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:16.610 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:16.612 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI) in 249.4058ms
2025-08-12 08:25:16.614 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:16.615 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:16.617 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:16.619 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:16.621 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/score/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 290.2113ms
2025-08-12 08:25:18.685 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-12 08:25:18.688 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:25:18.689 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:18.691 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:18.692 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:18.693 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:18.694 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:18.694 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - 204 null null 10.0389ms
2025-08-12 08:25:18.697 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-12 08:25:18.702 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:25:18.703 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:25:18.705 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:25:18.706 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:18.707 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:18.709 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:18.711 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:18.712 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:18.714 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:18.715 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:25:18.716 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:25:18.718 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:18.720 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:18.722 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:18.724 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:18.726 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:18.727 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:25:18.729 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:25:18.732 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:18.734 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:25:18.735 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:25:18.738 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:25:18.740 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:25:18.742 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:25:18.743 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:18.744 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:18.746 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:18.748 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:18.749 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:18.752 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:18.753 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:25:18.754 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:18.755 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:18.757 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:18.758 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:18.760 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:25:18.761 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-12 08:25:18.766 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-12 08:25:18.770 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:18.771 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:25:18.772 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:18.775 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:25:18.779 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:18.781 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:18.782 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:18.783 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:25:18.785 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:25:18.786 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:25:18.790 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:25:18.792 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:18.794 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:25:18.796 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:18.797 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:18.799 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:18.802 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:18.803 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:18.804 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:18.805 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:18.806 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:18.809 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 81.2711ms
2025-08-12 08:25:18.810 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:25:18.812 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:18.813 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:18.816 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:25:18.817 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - 200 null application/json; charset=utf-8 120.809ms
2025-08-12 08:25:19.431 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-12 08:25:19.434 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:25:19.435 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:19.436 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:19.437 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:19.438 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:19.439 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:19.441 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 10.0077ms
2025-08-12 08:25:19.442 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:25:19.447 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:25:19.449 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:25:19.452 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:25:19.453 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:19.455 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:19.456 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:19.458 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:19.459 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:19.461 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:19.463 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:25:19.469 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 08:25:19.472 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:19.473 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:19.476 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:19.478 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:19.480 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:19.482 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:25:19.484 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:25:19.487 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:19.491 +07:00 [DBG] Compiling query expression: 
'DbSet<Semester>()
    .OrderByDescending(s => s.StartDate)'
2025-08-12 08:25:19.495 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Semester>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.EndDate (DateTime) Required, 1], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 2], [Property: Semester.Name (string) Required, 3], [Property: Semester.StartDate (DateTime) Required, 4] }
        SELECT s.Id, s.EndDate, s.IsOpen, s.Name, s.StartDate
        FROM Semesters AS s
        ORDER BY s.StartDate DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.EndDate (DateTime) Required, 1], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 2], [Property: Semester.Name (string) Required, 3], [Property: Semester.StartDate (DateTime) Required, 4] }
        SELECT s.Id, s.EndDate, s.IsOpen, s.Name, s.StartDate
        FROM Semesters AS s
        ORDER BY s.StartDate DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Semester instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Semester);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Semester)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Semester")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(1);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(2);
                                instance.<Name>k__BackingField = dataReader.GetString(3);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:25:19.499 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:19.500 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:25:19.501 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:19.503 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:19.504 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:19.505 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:19.507 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:25:19.508 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:25:19.511 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:25:19.517 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:19.518 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:19.519 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:19.521 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:19.522 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 08:25:19.525 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:19.526 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:19.530 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:19.533 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:19.534 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:19.534 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:19.535 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:19.537 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:19.540 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 58.2512ms
2025-08-12 08:25:19.542 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:25:19.544 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:19.545 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:19.546 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:19.548 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 106.0125ms
2025-08-12 08:25:20.643 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/programs - null null
2025-08-12 08:25:20.647 +07:00 [DBG] 1 candidate(s) found for the request path '/api/programs'
2025-08-12 08:25:20.649 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:20.650 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:20.651 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:20.652 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:20.653 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:20.654 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/programs - 204 null null 10.89ms
2025-08-12 08:25:20.657 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/programs - null null
2025-08-12 08:25:20.662 +07:00 [DBG] 1 candidate(s) found for the request path '/api/programs'
2025-08-12 08:25:20.664 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)' with route pattern 'api/programs' is valid for the request path '/api/programs'
2025-08-12 08:25:20.665 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)'
2025-08-12 08:25:20.667 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:20.668 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:20.670 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:20.671 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:20.672 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:20.674 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:20.675 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)'
2025-08-12 08:25:20.679 +07:00 [INF] Route matched with {action = "GetAll", controller = "EducationProgram"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.EducationProgramController (StudentManagementAPI).
2025-08-12 08:25:20.682 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:20.684 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:20.686 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:20.688 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:20.690 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:20.693 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.EducationProgramController (StudentManagementAPI)
2025-08-12 08:25:20.695 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.EducationProgramController (StudentManagementAPI)
2025-08-12 08:25:20.700 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:20.703 +07:00 [DBG] Compiling query expression: 
'DbSet<EducationProgram>()
    .Include(p => p.Students)'
2025-08-12 08:25:20.705 +07:00 [DBG] Including navigation: 'EducationProgram.Students'.
2025-08-12 08:25:20.716 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<EducationProgram>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: EducationProgram.Name (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 2], [Property: Student.DateOfBirth (DateTime) Required, 3], [Property: Student.DepartmentId (int) Required FK Index, 4], [Property: Student.Gender (string) Required, 5], [Property: Student.ProgramId (int) Required FK Index, 6], [Property: Student.StudentCode (string) Required, 7] }
            3 -> 2
        SELECT e.Id, e.Name, s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
        FROM EducationPrograms AS e
        LEFT JOIN Students AS s ON e.Id == s.ProgramId
        ORDER BY e.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: EducationProgram.Name (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 2], [Property: Student.DateOfBirth (DateTime) Required, 3], [Property: Student.DepartmentId (int) Required FK Index, 4], [Property: Student.Gender (string) Required, 5], [Property: Student.ProgramId (int) Required FK Index, 6], [Property: Student.StudentCode (string) Required, 7] }
            3 -> 2
        SELECT e.Id, e.Name, s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
        FROM EducationPrograms AS e
        LEFT JOIN Students AS s ON e.Id == s.ProgramId
        ORDER BY e.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            EducationProgram entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                EducationProgram instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(EducationProgram);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EducationProgram.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EducationProgram").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (EducationProgram)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EducationProgram")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EducationProgram")]: 
                            {
                                return 
                                {
                                    EducationProgram instance;
                                    instance = new EducationProgram();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EducationProgram")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(EducationProgram)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<EducationProgram, EducationProgram>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (EducationProgram)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                navigation: [LIFTABLE Constant: Navigation: EducationProgram.Students (ICollection<Student>) Collection ToDependent Student Inverse: Program | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<EducationProgram, ICollection<Student>, Student> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<EducationProgram, Student>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Student entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Student instance2;
                    InternalEntityEntry entry2;
                    bool hasNullKey2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Student);
                    entry2 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(2) ? default(object) : (object)dataReader.GetInt32(2) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey2);
                    !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                    {
                        entityType2 = entry2.EntityType;
                        return instance2 = (Student)entry2.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Student")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")]: 
                                {
                                    return 
                                    {
                                        Student instance;
                                        instance = new Student();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(2) ? default(int) : dataReader.GetInt32(2);
                                        instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime) : dataReader.GetDateTime(3);
                                        instance.<DepartmentId>k__BackingField = dataReader.IsDBNull(4) ? default(int) : dataReader.GetInt32(4);
                                        instance.<Gender>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                        instance.<ProgramId>k__BackingField = dataReader.IsDBNull(6) ? default(int) : dataReader.GetInt32(6);
                                        instance.<StudentCode>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Student)
                        }
                        ;
                        entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType2, 
                            entity: instance2, 
                            snapshot: shadowSnapshot2);
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Program (EducationProgram) ToPrincipal EducationProgram Inverse: Students | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student").FindNavigation("Program")], 
            fixup: (namelessParameter{9}, namelessParameter{10}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<EducationProgram, ICollection<Student>, Student> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students").GetCollectionAccessor()].Add(
                    entity: namelessParameter{9}, 
                    value: namelessParameter{10}, 
                    forMaterialization: True);
                return namelessParameter{10}.<Program>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (EducationProgram)(resultContext.Values[0]) : default(EducationProgram);
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:25:20.724 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:20.726 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:25:20.727 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:20.730 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:20.732 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:20.734 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:20.736 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:25:20.737 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [EducationPrograms] AS [e]
LEFT JOIN [Students] AS [s] ON [e].[Id] = [s].[ProgramId]
ORDER BY [e].[Id]
2025-08-12 08:25:20.743 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [EducationPrograms] AS [e]
LEFT JOIN [Students] AS [s] ON [e].[Id] = [s].[ProgramId]
ORDER BY [e].[Id]
2025-08-12 08:25:20.749 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:20.755 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:20.757 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:20.759 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:20.761 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:20.763 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:20.764 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:20.766 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:20.768 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:20.770 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:20.772 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:20.774 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:20.776 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:20.777 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:20.779 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 31ms reading results.
2025-08-12 08:25:20.781 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:20.782 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:20.786 +07:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.EducationProgram.EducationProgramDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:20.789 +07:00 [INF] Executed action StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI) in 96.8317ms
2025-08-12 08:25:20.792 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.EducationProgramController.GetAll (StudentManagementAPI)'
2025-08-12 08:25:20.793 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:20.795 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:20.796 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:20.798 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/programs - 200 null application/json; charset=utf-8 141.9819ms
2025-08-12 08:25:23.787 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/departments - null null
2025-08-12 08:25:23.790 +07:00 [DBG] 1 candidate(s) found for the request path '/api/departments'
2025-08-12 08:25:23.792 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:23.793 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:23.794 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:23.795 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:23.796 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:23.797 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/departments - 204 null null 10.9846ms
2025-08-12 08:25:23.801 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/departments - null null
2025-08-12 08:25:23.804 +07:00 [DBG] 1 candidate(s) found for the request path '/api/departments'
2025-08-12 08:25:23.805 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)' with route pattern 'api/departments' is valid for the request path '/api/departments'
2025-08-12 08:25:23.807 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)'
2025-08-12 08:25:23.809 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:23.810 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:23.811 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:23.812 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:23.813 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:23.816 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:23.817 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)'
2025-08-12 08:25:23.821 +07:00 [INF] Route matched with {action = "GetAll", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.DepartmentController (StudentManagementAPI).
2025-08-12 08:25:23.823 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:23.825 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:23.826 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:23.828 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:23.831 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:23.832 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.DepartmentController (StudentManagementAPI)
2025-08-12 08:25:23.835 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.DepartmentController (StudentManagementAPI)
2025-08-12 08:25:23.839 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:23.842 +07:00 [DBG] Compiling query expression: 
'DbSet<Department>()
    .Include(d => d.Students)'
2025-08-12 08:25:23.844 +07:00 [DBG] Including navigation: 'Department.Students'.
2025-08-12 08:25:23.854 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Department>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.Name (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 2], [Property: Student.DateOfBirth (DateTime) Required, 3], [Property: Student.DepartmentId (int) Required FK Index, 4], [Property: Student.Gender (string) Required, 5], [Property: Student.ProgramId (int) Required FK Index, 6], [Property: Student.StudentCode (string) Required, 7] }
            3 -> 2
        SELECT d.Id, d.Name, s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
        FROM Departments AS d
        LEFT JOIN Students AS s ON d.Id == s.DepartmentId
        ORDER BY d.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.Name (string) Required, 1] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 2], [Property: Student.DateOfBirth (DateTime) Required, 3], [Property: Student.DepartmentId (int) Required FK Index, 4], [Property: Student.Gender (string) Required, 5], [Property: Student.ProgramId (int) Required FK Index, 6], [Property: Student.StudentCode (string) Required, 7] }
            3 -> 2
        SELECT d.Id, d.Name, s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
        FROM Departments AS d
        LEFT JOIN Students AS s ON d.Id == s.DepartmentId
        ORDER BY d.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Department entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Department instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Department);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Department.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Department").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Department)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Department")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Department")]: 
                            {
                                return 
                                {
                                    Department instance;
                                    instance = new Department();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Department")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Department)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            resultContext.Values = new object[]{ entity };
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Department, Department>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Department)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
                navigation: [LIFTABLE Constant: Navigation: Department.Students (ICollection<Student>) Collection ToDependent Student Inverse: Department | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Department, ICollection<Student>, Student> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Department, Student>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Student entity;
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    Student instance2;
                    InternalEntityEntry entry2;
                    bool hasNullKey2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(Student);
                    entry2 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(2) ? default(object) : (object)dataReader.GetInt32(2) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey2);
                    !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                    {
                        entityType2 = entry2.EntityType;
                        return instance2 = (Student)entry2.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Student")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")]: 
                                {
                                    return 
                                    {
                                        Student instance;
                                        instance = new Student();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(2) ? default(int) : dataReader.GetInt32(2);
                                        instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime) : dataReader.GetDateTime(3);
                                        instance.<DepartmentId>k__BackingField = dataReader.IsDBNull(4) ? default(int) : dataReader.GetInt32(4);
                                        instance.<Gender>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                        instance.<ProgramId>k__BackingField = dataReader.IsDBNull(6) ? default(int) : dataReader.GetInt32(6);
                                        instance.<StudentCode>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Student)
                        }
                        ;
                        entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType2, 
                            entity: instance2, 
                            snapshot: shadowSnapshot2);
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Department (Department) ToPrincipal Department Inverse: Students | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student").FindNavigation("Department")], 
            fixup: (namelessParameter{9}, namelessParameter{10}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<Department, ICollection<Student>, Student> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students").GetCollectionAccessor()].Add(
                    entity: namelessParameter{9}, 
                    value: namelessParameter{10}, 
                    forMaterialization: True);
                return namelessParameter{10}.<Department>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Department)(resultContext.Values[0]) : default(Department);
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:25:23.861 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:23.862 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:25:23.864 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:23.866 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:23.867 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:23.868 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:23.870 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:25:23.872 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Departments] AS [d]
LEFT JOIN [Students] AS [s] ON [d].[Id] = [s].[DepartmentId]
ORDER BY [d].[Id]
2025-08-12 08:25:23.876 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Departments] AS [d]
LEFT JOIN [Students] AS [s] ON [d].[Id] = [s].[DepartmentId]
ORDER BY [d].[Id]
2025-08-12 08:25:23.882 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:23.889 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:23.891 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:23.893 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:23.894 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:23.896 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:23.897 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:23.899 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:23.900 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:23.902 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:23.903 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:23.904 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:23.907 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 26ms reading results.
2025-08-12 08:25:23.908 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:23.909 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:23.913 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:23.916 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:23.916 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:23.917 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:23.918 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:23.920 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Department.DepartmentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:23.922 +07:00 [INF] Executed action StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI) in 89.6012ms
2025-08-12 08:25:23.924 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)'
2025-08-12 08:25:23.925 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:23.927 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:23.929 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:23.930 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/departments - 200 null application/json; charset=utf-8 129.8852ms
2025-08-12 08:25:26.153 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-12 08:25:26.158 +07:00 [DBG] 1 candidate(s) found for the request path '/api/users/paged'
2025-08-12 08:25:26.159 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:26.161 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:26.163 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:26.164 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:26.165 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:26.166 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/users/paged?page=1&pageSize=10 - 204 null null 13.1209ms
2025-08-12 08:25:26.168 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - null null
2025-08-12 08:25:26.173 +07:00 [DBG] 2 candidate(s) found for the request path '/api/users/paged'
2025-08-12 08:25:26.174 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)' with route pattern 'api/users/paged' is valid for the request path '/api/users/paged'
2025-08-12 08:25:26.177 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.UserController.GetById (StudentManagementAPI)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/paged'
2025-08-12 08:25:26.179 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:26.180 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:26.182 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:26.184 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:26.185 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:26.186 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:26.187 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:26.188 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:26.189 +07:00 [INF] Route matched with {action = "GetPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI).
2025-08-12 08:25:26.192 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:26.195 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:26.197 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:26.199 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:26.201 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:26.204 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-12 08:25:26.207 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.UserController (StudentManagementAPI)
2025-08-12 08:25:26.209 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:26.212 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:25:26.214 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:25:26.216 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:25:26.218 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:25:26.220 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:25:26.222 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:26.223 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:26.224 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:26.226 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:26.228 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:26.230 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:26.231 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:25:26.233 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:26.234 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:26.236 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:26.237 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:26.239 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:25:26.240 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-12 08:25:26.244 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-08-12 08:25:26.248 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:26.250 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:25:26.252 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:26.254 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:26.256 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:26.257 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:26.259 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:26.260 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:26.261 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:25:26.263 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-12 08:25:26.266 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
ORDER BY [u].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-12 08:25:26.269 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:26.271 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:26.272 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:26.274 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:26.275 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:26.277 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:26.278 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:26.279 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:26.281 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:26.283 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:26.284 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:26.285 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 16ms reading results.
2025-08-12 08:25:26.288 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:26.290 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:26.291 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:26.293 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:26.295 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:26.295 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:26.296 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:26.298 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.User.UserDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:26.299 +07:00 [INF] Executed action StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI) in 94.8554ms
2025-08-12 08:25:26.302 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.UserController.GetPaged (StudentManagementAPI)'
2025-08-12 08:25:26.303 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:26.304 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:26.306 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:26.308 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/users/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 139.9519ms
2025-08-12 08:25:40.149 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-12 08:25:40.152 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:25:40.154 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:25:40.156 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:40.157 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:40.158 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:40.159 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:25:40.159 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 10.7317ms
2025-08-12 08:25:40.162 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-12 08:25:40.167 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:25:40.168 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-12 08:25:40.169 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:25:40.171 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:40.172 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:25:40.173 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:25:40.174 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 08:25:40.175 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:25:40.176 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-12 08:25:40.179 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:40.181 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:40.183 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:40.185 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:40.187 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:40.188 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:25:40.191 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:25:40.193 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:25:40.195 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-12 08:25:40.196 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 08:25:40.198 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:0000004F": started reading request body.
2025-08-12 08:25:40.199 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:0000004F": done reading request body.
2025-08-12 08:25:40.201 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-12 08:25:40.202 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:25:40.203 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:25:40.205 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:25:40.207 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:25:40.208 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: teacher1
2025-08-12 08:25:40.210 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:40.212 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:40.213 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:25:40.214 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.216 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.217 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:40.219 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:40.221 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:25:40.222 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:25:40.226 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:25:40.230 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:40.232 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.234 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 08:25:40.236 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.237 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:40.239 +07:00 [INF] 🔓 Login successful for user: teacher1
2025-08-12 08:25:40.241 +07:00 [INF] ✅ Đăng nhập thành công cho user: teacher1
2025-08-12 08:25:40.242 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:40.244 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:40.245 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:40.246 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:40.247 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:40.249 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-12 08:25:40.250 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 62.1898ms
2025-08-12 08:25:40.252 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:25:40.254 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:40.255 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.257 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:40.259 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 97.7197ms
2025-08-12 08:25:40.586 +07:00 [DBG] Connection id "0HNEP7R4IS8UT" accepted.
2025-08-12 08:25:40.588 +07:00 [DBG] Connection id "0HNEP7R4IS8UT" started.
2025-08-12 08:25:40.589 +07:00 [DBG] Connection id "0HNEP7R4IS8UU" accepted.
2025-08-12 08:25:40.591 +07:00 [DBG] Connection id "0HNEP7R4IS8UU" started.
2025-08-12 08:25:40.596 +07:00 [DBG] Connection 0HNEP7R4IS8UT established using the following protocol: "Tls13"
2025-08-12 08:25:40.597 +07:00 [DBG] Connection 0HNEP7R4IS8UU established using the following protocol: "Tls13"
2025-08-12 08:25:40.603 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 08:25:40.603 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 08:25:40.606 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 08:25:40.609 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:25:40.610 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 08:25:40.611 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:25:40.613 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 08:25:40.615 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:25:40.616 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:25:40.618 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:40.619 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:40.620 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:40.621 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:40.622 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:40.622 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:40.624 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:40.625 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:40.626 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:25:40.626 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:25:40.628 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:25:40.631 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:40.632 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:25:40.632 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:40.635 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:40.636 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:40.638 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:40.640 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:40.641 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:40.643 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:40.645 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:40.647 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:25:40.648 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:40.651 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:25:40.652 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:25:40.653 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:40.657 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:25:40.657 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:25:40.660 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:25:40.662 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:40.663 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:25:40.666 +07:00 [DBG] Compiling query expression: 
'DbSet<Teacher>()
    .Include(t => t.User)
    .FirstOrDefault(t => t.Id == __id_0)'
2025-08-12 08:25:40.667 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:25:40.670 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-12 08:25:40.672 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:25:40.675 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:40.677 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:40.679 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:25:40.682 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:25:40.682 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Teacher>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Teacher>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Teacher.Degree (string) Required, 1], [Property: Teacher.TeacherCode (string) Required, 2] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: User.Email (string), 4], [Property: User.FullName (string) Required, 5], [Property: User.PasswordHash (string) Required, 6], [Property: User.Phone (string), 7], [Property: User.Role (string) Required, 8], [Property: User.Username (string) Required, 9] }
            SELECT TOP(1) t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Teachers AS t
            INNER JOIN Users AS u ON t.Id == u.Id
            WHERE t.Id == @__id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Teacher.Degree (string) Required, 1], [Property: Teacher.TeacherCode (string) Required, 2] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: User.Email (string), 4], [Property: User.FullName (string) Required, 5], [Property: User.PasswordHash (string) Required, 6], [Property: User.Phone (string), 7], [Property: User.Role (string) Required, 8], [Property: User.Username (string) Required, 9] }
            SELECT TOP(1) t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Teachers AS t
            INNER JOIN Users AS u ON t.Id == u.Id
            WHERE t.Id == @__id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Teacher entity;
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Teacher instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Teacher);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Teacher.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Teacher)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                            {
                                return 
                                {
                                    Teacher instance;
                                    instance = new Teacher();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Degree>k__BackingField = dataReader.GetString(1);
                                    instance.<TeacherCode>k__BackingField = dataReader.GetString(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Teacher)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                User instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(User);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(3) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (User)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("User")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(3);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<FullName>k__BackingField = dataReader.GetString(5);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(6);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<Role>k__BackingField = dataReader.GetString(8);
                                    instance.<Username>k__BackingField = dataReader.GetString(9);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<User>k__BackingField = namelessParameter{9};
                    return namelessParameter{9}.<Teacher>k__BackingField = namelessParameter{8};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 08:25:40.686 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:40.690 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:40.690 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .Where(n => n.TargetRole == __role_0 || n.TargetRole == "All")
    .OrderByDescending(n => n.Id)
    .Count()'
2025-08-12 08:25:40.691 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:25:40.694 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.695 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.696 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All'), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 08:25:40.697 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:40.700 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:25:40.701 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:40.702 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:25:40.702 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:25:40.704 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:25:40.705 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.711 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:25:40.712 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.714 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:40.716 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:40.718 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:40.719 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:25:40.720 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:40.721 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:25:40.723 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.724 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:25:40.726 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 11ms reading results.
2025-08-12 08:25:40.732 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:25:40.733 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.735 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.737 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 08:25:40.738 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:25:40.742 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.742 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:40.743 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:40.745 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:40.748 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .Where(n => n.TargetRole == __role_0 || n.TargetRole == "All")
    .OrderByDescending(n => n.Id)
    .Skip(__p_1)
    .Take(__p_2)
    .Select(dtoNotification => new NotificationDto{ 
        Id = dtoNotification.Id, 
        Title = dtoNotification.Title, 
        Content = dtoNotification.Content, 
        CreatorName = dtoNotification.Creator != null ? dtoNotification.Creator.FullName : "", 
        CreatedAt = dtoNotification.CreatedAt, 
        TargetRole = dtoNotification.TargetRole 
    }
    )'
2025-08-12 08:25:40.748 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:40.751 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:40.751 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:40.753 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<NotificationDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')
            ORDER BY n.Id DESC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')
            ORDER BY n.Id DESC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        DateTime? value5;
        string value6;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.GetString(2);
        value4 = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
        value5 = (DateTime?)dataReader.GetDateTime(4);
        value6 = dataReader.GetString(5);
        return new NotificationDto{ 
            Id = (int)value1, 
            Title = value2, 
            Content = value3, 
            CreatorName = value4, 
            CreatedAt = (DateTime)value5, 
            TargetRole = value6 
        }
        ;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:25:40.753 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 08:25:40.756 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.758 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.758 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 106.3752ms
2025-08-12 08:25:40.759 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:40.761 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:25:40.762 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:25:40.763 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:40.765 +07:00 [DBG] Connection id "0HNEP7R4IS8UU" received FIN.
2025-08-12 08:25:40.765 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:25:40.766 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.768 +07:00 [DBG] Connection id "0HNEP7R4IS8UU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:25:40.769 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:25:40.771 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:25:40.772 +07:00 [DBG] Connection id "0HNEP7R4IS8UU" disconnecting.
2025-08-12 08:25:40.777 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 174.2549ms
2025-08-12 08:25:40.777 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:25:40.782 +07:00 [DBG] Connection id "0HNEP7R4IS8UU" stopped.
2025-08-12 08:25:40.784 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.786 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:25:40.788 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.790 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:40.792 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:40.794 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:40.795 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:40.796 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:40.797 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:40.798 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:40.800 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 153.2308ms
2025-08-12 08:25:40.802 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:25:40.803 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:40.804 +07:00 [DBG] Connection id "0HNEP7R4IS8UT" received FIN.
2025-08-12 08:25:40.805 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:40.806 +07:00 [DBG] Connection id "0HNEP7R4IS8UT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:25:40.808 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:25:40.810 +07:00 [DBG] Connection id "0HNEP7R4IS8UT" disconnecting.
2025-08-12 08:25:40.811 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 208.5636ms
2025-08-12 08:25:40.816 +07:00 [DBG] Connection id "0HNEP7R4IS8UT" stopped.
2025-08-12 08:25:44.801 +07:00 [DBG] Connection id "0HNEP7R4IS8UV" accepted.
2025-08-12 08:25:44.803 +07:00 [DBG] Connection id "0HNEP7R4IS8UV" started.
2025-08-12 08:25:44.808 +07:00 [DBG] Connection 0HNEP7R4IS8UV established using the following protocol: "Tls13"
2025-08-12 08:25:44.810 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-12 08:25:44.814 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-12 08:25:44.815 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-12 08:25:44.817 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 08:25:44.819 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:44.821 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:44.822 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:44.825 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:44.826 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 08:25:44.831 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 08:25:44.834 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:44.836 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:44.838 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:44.841 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:44.843 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:44.845 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:25:44.847 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:25:44.850 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 08:25:44.852 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-12 08:25:44.855 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 08:25:44.857 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 08:25:44.860 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 08:25:44.862 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-12 08:25:44.867 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:44.869 +07:00 [DBG] Compiling query expression: 
'DbSet<CourseClass>()
    .Where(c => c.TeacherId == __teacherId_0)
    .Include(c => c.Subject)
    .Include(c => c.Teacher)
    .ThenInclude(t => t.User)
    .Include(c => c.Semester)
    .Include(c => c.Enrollments)'
2025-08-12 08:25:44.871 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-12 08:25:44.873 +07:00 [DBG] Including navigation: 'CourseClass.Teacher'.
2025-08-12 08:25:44.875 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-12 08:25:44.876 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-12 08:25:44.878 +07:00 [DBG] Including navigation: 'CourseClass.Enrollments'.
2025-08-12 08:25:44.897 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 13], [Property: Teacher.Degree (string) Required, 14], [Property: Teacher.TeacherCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: Semester.EndDate (DateTime) Required, 24], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 25], [Property: Semester.Name (string) Required, 26], [Property: Semester.StartDate (DateTime) Required, 27] }
            5 -> 0
            6 -> 7
            7 -> 13
            8 -> 16
            9 -> 23
            10 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: Enrollment.CourseClassId (int) Required FK Index, 29], [Property: Enrollment.EnrollDate (DateTime) Required, 30], [Property: Enrollment.StudentId (int) Required FK Index, 31] }
            11 -> 28
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Teachers AS t ON c.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        LEFT JOIN Enrollments AS e ON c.Id == e.CourseClassId
        WHERE c.TeacherId == @__teacherId_0
        ORDER BY c.Id ASC, s.Id ASC, t.Id ASC, u.Id ASC, s0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 13], [Property: Teacher.Degree (string) Required, 14], [Property: Teacher.TeacherCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: Semester.EndDate (DateTime) Required, 24], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 25], [Property: Semester.Name (string) Required, 26], [Property: Semester.StartDate (DateTime) Required, 27] }
            5 -> 0
            6 -> 7
            7 -> 13
            8 -> 16
            9 -> 23
            10 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: Enrollment.CourseClassId (int) Required FK Index, 29], [Property: Enrollment.EnrollDate (DateTime) Required, 30], [Property: Enrollment.StudentId (int) Required FK Index, 31] }
            11 -> 28
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Teachers AS t ON c.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        LEFT JOIN Enrollments AS e ON c.Id == e.CourseClassId
        WHERE c.TeacherId == @__teacherId_0
        ORDER BY c.Id ASC, s.Id ASC, t.Id ASC, u.Id ASC, s0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            CourseClass entity;
            Subject entity;
            Teacher entity;
            User entity;
            Semester entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                CourseClass instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(CourseClass);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (CourseClass)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                            {
                                return 
                                {
                                    CourseClass instance;
                                    instance = new CourseClass();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                    instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                    instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                    instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(CourseClass)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Subject instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Subject);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Subject)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                            {
                                return 
                                {
                                    Subject instance;
                                    instance = new Subject();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                    instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<Name>k__BackingField = dataReader.GetString(10);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                    instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Subject)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                Teacher instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(Teacher);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Teacher.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (Teacher)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                            {
                                return 
                                {
                                    Teacher instance;
                                    instance = new Teacher();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                    instance.<Degree>k__BackingField = dataReader.GetString(14);
                                    instance.<TeacherCode>k__BackingField = dataReader.GetString(15);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext3.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Teacher)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            entity = 
            {
                MaterializationContext materializationContext4;
                IEntityType entityType4;
                User instance4;
                InternalEntityEntry entry4;
                bool hasNullKey4;
                materializationContext4 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance4 = default(User);
                entry4 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey4);
                !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                {
                    entityType4 = entry4.EntityType;
                    return instance4 = (User)entry4.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot4;
                    shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                    instance4 = switch (entityType4)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<FullName>k__BackingField = dataReader.GetString(18);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                    instance.<Role>k__BackingField = dataReader.GetString(21);
                                    instance.<Username>k__BackingField = dataReader.GetString(22);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext4.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType4, 
                        entity: instance4, 
                        snapshot: shadowSnapshot4);
                    return instance4;
                } : default(void);
                return instance4;
            };
            entity = 
            {
                MaterializationContext materializationContext5;
                IEntityType entityType5;
                Semester instance5;
                InternalEntityEntry entry5;
                bool hasNullKey5;
                materializationContext5 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance5 = default(Semester);
                entry5 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey5);
                !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                {
                    entityType5 = entry5.EntityType;
                    return instance5 = (Semester)entry5.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot5;
                    shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType5 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Semester")];
                    instance5 = switch (entityType5)
                    {
                        case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("Semester")]: 
                            {
                                return 
                                {
                                    Semester instance;
                                    instance = new Semester();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                    instance.<EndDate>k__BackingField = dataReader.GetDateTime(24);
                                    instance.<IsOpen>k__BackingField = dataReader.GetBoolean(25);
                                    instance.<Name>k__BackingField = dataReader.GetString(26);
                                    instance.<StartDate>k__BackingField = dataReader.GetDateTime(27);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext5.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Semester)
                    }
                    ;
                    entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType5, 
                        entity: instance5, 
                        snapshot: shadowSnapshot5);
                    return instance5;
                } : default(void);
                return instance5;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity, 
                entity, 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Subject)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{17}, namelessParameter{18}) => 
                {
                    namelessParameter{17}.<Subject>k__BackingField = namelessParameter{18};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{18}, 
                        value: namelessParameter{17}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
                queryContext: queryContext, 
                entity: (Teacher)(resultContext.Values[2]), 
                relatedEntity: (User)(resultContext.Values[3]), 
                navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
                fixup: (namelessParameter{22}, namelessParameter{23}) => 
                {
                    namelessParameter{22}.<User>k__BackingField = namelessParameter{23};
                    return namelessParameter{23}.<Teacher>k__BackingField = namelessParameter{22};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Teacher>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Teacher)(resultContext.Values[2]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Teacher (Teacher) ToPrincipal Teacher Inverse: CourseClasses | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Teacher")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Teacher.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Teacher | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{26}, namelessParameter{27}) => 
                {
                    namelessParameter{26}.<Teacher>k__BackingField = namelessParameter{27};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Teacher, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{27}, 
                        value: namelessParameter{26}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Semester)(resultContext.Values[4]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{31}, namelessParameter{32}) => 
                {
                    namelessParameter{31}.<Semester>k__BackingField = namelessParameter{32};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{32}, 
                        value: namelessParameter{31}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<CourseClass, CourseClass>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (CourseClass)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(7), 
                    (object)(int?)dataReader.GetInt32(13), 
                    (object)(int?)dataReader.GetInt32(16), 
                    (object)(int?)dataReader.GetInt32(23) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(7), 
                    (object)(int?)dataReader.GetInt32(13), 
                    (object)(int?)dataReader.GetInt32(16), 
                    (object)(int?)dataReader.GetInt32(23) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<CourseClass, Enrollment>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(7), 
                (object)(int?)dataReader.GetInt32(13), 
                (object)(int?)dataReader.GetInt32(16), 
                (object)(int?)dataReader.GetInt32(23) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(7), 
                (object)(int?)dataReader.GetInt32(13), 
                (object)(int?)dataReader.GetInt32(16), 
                (object)(int?)dataReader.GetInt32(23) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(28) ? default(int?) : (int?)dataReader.GetInt32(28) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Enrollment entity;
                entity = 
                {
                    MaterializationContext materializationContext6;
                    IEntityType entityType6;
                    Enrollment instance6;
                    InternalEntityEntry entry6;
                    bool hasNullKey6;
                    materializationContext6 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance6 = default(Enrollment);
                    entry6 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(28) ? default(object) : (object)dataReader.GetInt32(28) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey6);
                    !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                    {
                        entityType6 = entry6.EntityType;
                        return instance6 = (Enrollment)entry6.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot6;
                        shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType6 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Enrollment")];
                        instance6 = switch (entityType6)
                        {
                            case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("Enrollment")]: 
                                {
                                    return 
                                    {
                                        Enrollment instance;
                                        instance = new Enrollment();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(28) ? default(int) : dataReader.GetInt32(28);
                                        instance.<CourseClassId>k__BackingField = dataReader.IsDBNull(29) ? default(int) : dataReader.GetInt32(29);
                                        instance.<EnrollDate>k__BackingField = dataReader.IsDBNull(30) ? default(DateTime) : dataReader.GetDateTime(30);
                                        instance.<StudentId>k__BackingField = dataReader.IsDBNull(31) ? default(int) : dataReader.GetInt32(31);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext6.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Enrollment)
                        }
                        ;
                        entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType6, 
                            entity: instance6, 
                            snapshot: shadowSnapshot6);
                        return instance6;
                    } : default(void);
                    return instance6;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{39} => namelessParameter{39}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            fixup: (namelessParameter{40}, namelessParameter{41}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{42} => namelessParameter{42}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{40}, 
                    value: namelessParameter{41}, 
                    forMaterialization: True);
                return namelessParameter{41}.<CourseClass>k__BackingField = namelessParameter{40};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (CourseClass)(resultContext.Values[0]) : default(CourseClass);
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:25:44.914 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:44.915 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:25:44.917 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:44.919 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:44.921 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:44.923 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:44.925 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:25:44.927 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:25:44.938 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:25:44.940 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.942 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.944 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.946 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.947 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.949 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.951 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.952 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.953 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.956 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.959 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.961 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.963 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.965 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.966 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.967 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.969 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.971 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.973 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.974 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.976 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.978 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.979 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.981 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.983 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.985 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.987 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:44.988 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:44.990 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 50ms reading results.
2025-08-12 08:25:44.993 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:44.995 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:44.997 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:45.000 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:45.001 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:45.002 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:45.003 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:45.005 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:45.007 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 161.9611ms
2025-08-12 08:25:45.009 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 08:25:45.010 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:45.012 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:45.012 +07:00 [DBG] Connection id "0HNEP7R4IS8UV" received FIN.
2025-08-12 08:25:45.013 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:25:45.015 +07:00 [DBG] Connection id "0HNEP7R4IS8UV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:25:45.016 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 206.0431ms
2025-08-12 08:25:45.019 +07:00 [DBG] Connection id "0HNEP7R4IS8UV" disconnecting.
2025-08-12 08:25:45.027 +07:00 [DBG] Connection id "0HNEP7R4IS8UV" stopped.
2025-08-12 08:25:49.203 +07:00 [DBG] Connection id "0HNEP7R4IS8V0" accepted.
2025-08-12 08:25:49.205 +07:00 [DBG] Connection id "0HNEP7R4IS8V0" started.
2025-08-12 08:25:49.210 +07:00 [DBG] Connection 0HNEP7R4IS8V0 established using the following protocol: "Tls13"
2025-08-12 08:25:49.212 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 08:25:49.216 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 08:25:49.217 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 08:25:49.219 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:25:49.220 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:25:49.221 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:25:49.222 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:25:49.224 +07:00 [DBG] Authorization was successful.
2025-08-12 08:25:49.225 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:25:49.229 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:25:49.232 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:25:49.233 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:25:49.236 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:25:49.238 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:25:49.239 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:25:49.242 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:25:49.245 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:25:49.261 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:25:49.264 +07:00 [DBG] Compiling query expression: 
'DbSet<Score>()
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.Student)
    .ThenInclude(st => st.User)
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.CourseClass)
    .ThenInclude(c => c.Subject)
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.CourseClass)
    .ThenInclude(c => c.Semester)
    .Where(s => s.Enrollment.CourseClass.TeacherId == __teacherId_0)'
2025-08-12 08:25:49.266 +07:00 [DBG] Including navigation: 'Score.Enrollment'.
2025-08-12 08:25:49.270 +07:00 [DBG] Including navigation: 'Enrollment.Student'.
2025-08-12 08:25:49.272 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-12 08:25:49.274 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-12 08:25:49.276 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-12 08:25:49.279 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-12 08:25:49.292 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Score>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
            6 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 36], [Property: Semester.EndDate (DateTime) Required, 37], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 38], [Property: Semester.Name (string) Required, 39], [Property: Semester.StartDate (DateTime) Required, 40] }
        SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode, s2.Id, s2.EndDate, s2.IsOpen, s2.Name, s2.StartDate
        FROM Scores AS s
        INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Students AS s0 ON e.StudentId == s0.Id
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
        INNER JOIN Semesters AS s2 ON c.SemesterId == s2.Id
        WHERE c.TeacherId == @__teacherId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
            6 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 36], [Property: Semester.EndDate (DateTime) Required, 37], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 38], [Property: Semester.Name (string) Required, 39], [Property: Semester.StartDate (DateTime) Required, 40] }
        SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode, s2.Id, s2.EndDate, s2.IsOpen, s2.Name, s2.StartDate
        FROM Scores AS s
        INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Students AS s0 ON e.StudentId == s0.Id
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
        INNER JOIN Semesters AS s2 ON c.SemesterId == s2.Id
        WHERE c.TeacherId == @__teacherId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Score entity;
        Enrollment entity;
        Student entity;
        User entity;
        CourseClass entity;
        Subject entity;
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Score instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Score);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Score.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Score)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]: 
                        {
                            return 
                            {
                                Score instance;
                                instance = new Score();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EnrollmentId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Final>k__BackingField = dataReader.IsDBNull(2) ? default(double?) : (double?)dataReader.GetDouble(2);
                                instance.<Midterm>k__BackingField = dataReader.IsDBNull(3) ? default(double?) : (double?)dataReader.GetDouble(3);
                                instance.<Other>k__BackingField = dataReader.IsDBNull(4) ? default(double?) : (double?)dataReader.GetDouble(4);
                                instance.<Total>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Score)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Enrollment instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Enrollment);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Enrollment)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Enrollment")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(7);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(8);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Student instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Student);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(10) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Student)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(10);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(11);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(12);
                                instance.<Gender>k__BackingField = dataReader.GetString(13);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(14);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(15);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            User instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(User);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (User)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<FullName>k__BackingField = dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<Role>k__BackingField = dataReader.GetString(21);
                                instance.<Username>k__BackingField = dataReader.GetString(22);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            CourseClass instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(CourseClass);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (CourseClass)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CourseClass")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(24);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(27);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(28);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(29);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        entity = 
        {
            MaterializationContext materializationContext6;
            IEntityType entityType6;
            Subject instance6;
            InternalEntityEntry entry6;
            bool hasNullKey6;
            materializationContext6 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance6 = default(Subject);
            entry6 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(30) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey6);
            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
            {
                entityType6 = entry6.EntityType;
                return instance6 = (Subject)entry6.Entity;
            } : 
            {
                ISnapshot shadowSnapshot6;
                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType6 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance6 = switch (entityType6)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(30);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(31);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(32) ? default(string) : dataReader.GetString(32);
                                instance.<Name>k__BackingField = dataReader.GetString(33);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(34);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(35);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext6.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType6, 
                    entity: instance6, 
                    snapshot: shadowSnapshot6);
                return instance6;
            } : default(void);
            return instance6;
        };
        entity = 
        {
            MaterializationContext materializationContext7;
            IEntityType entityType7;
            Semester instance7;
            InternalEntityEntry entry7;
            bool hasNullKey7;
            materializationContext7 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance7 = default(Semester);
            entry7 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(36) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey7);
            !(hasNullKey7) ? entry7 != default(InternalEntityEntry) ? 
            {
                entityType7 = entry7.EntityType;
                return instance7 = (Semester)entry7.Entity;
            } : 
            {
                ISnapshot shadowSnapshot7;
                shadowSnapshot7 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType7 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Semester")];
                instance7 = switch (entityType7)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(36);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(37);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(38);
                                instance.<Name>k__BackingField = dataReader.GetString(39);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(40);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext7.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry7 = entityType7 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType7, 
                    entity: instance7, 
                    snapshot: shadowSnapshot7);
                return instance7;
            } : default(void);
            return instance7;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{23}, namelessParameter{24}) => 
            {
                namelessParameter{23}.<User>k__BackingField = namelessParameter{24};
                return namelessParameter{24}.<Student>k__BackingField = namelessParameter{23};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, Student>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.Student (Student) ToPrincipal Student Inverse: Enrollments | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Student")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: Student | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{27}, namelessParameter{28}) => 
            {
                namelessParameter{27}.<Student>k__BackingField = namelessParameter{28};
                return [LIFTABLE Constant: ClrICollectionAccessor<Student, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{28}, 
                    value: namelessParameter{27}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{32}, namelessParameter{33}) => 
            {
                namelessParameter{32}.<Subject>k__BackingField = namelessParameter{33};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{33}, 
                    value: namelessParameter{32}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{37}, namelessParameter{38}) => 
            {
                namelessParameter{37}.<Semester>k__BackingField = namelessParameter{38};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{39} => namelessParameter{39}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{38}, 
                    value: namelessParameter{37}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{40} => namelessParameter{40}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{42}, namelessParameter{43}) => 
            {
                namelessParameter{42}.<CourseClass>k__BackingField = namelessParameter{43};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{44} => namelessParameter{44}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{43}, 
                    value: namelessParameter{42}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Score, Score, Enrollment>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Score.Enrollment (Enrollment) ToPrincipal Enrollment Inverse: Score | Resolver: namelessParameter{45} => namelessParameter{45}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindNavigation("Enrollment")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.Score (Score) ToDependent Score Inverse: Enrollment | Resolver: namelessParameter{46} => namelessParameter{46}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Score")], 
            fixup: (namelessParameter{47}, namelessParameter{48}) => 
            {
                namelessParameter{47}.<Enrollment>k__BackingField = namelessParameter{48};
                return namelessParameter{48}.<Score>k__BackingField = namelessParameter{47};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:25:49.307 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:25:49.308 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:25:49.310 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:49.312 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:49.313 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:25:49.314 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:25:49.316 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:25:49.318 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:25:49.330 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:25:49.333 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.335 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.337 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.339 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.341 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.343 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.344 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.347 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.348 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.350 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.352 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.354 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.356 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.359 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.361 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.363 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.364 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.366 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.367 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.368 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.370 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.371 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.373 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.375 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.376 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.377 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.379 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.381 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.382 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.384 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.385 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.386 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.388 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.389 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.391 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.392 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.394 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.395 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.397 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.399 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.401 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.402 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.403 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.404 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.406 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.407 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.409 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.410 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.412 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.413 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.415 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.416 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.418 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.419 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.421 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.422 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.423 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.425 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.426 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.428 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.430 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.431 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.432 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.433 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.435 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:25:49.437 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:25:49.438 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 105ms reading results.
2025-08-12 08:25:49.439 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:49.441 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:25:49.443 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:25:49.446 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:25:49.446 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:25:49.447 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:25:49.448 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:25:49.450 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:25:49.453 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 211.4667ms
2025-08-12 08:25:49.454 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:25:49.456 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:25:49.457 +07:00 [DBG] Connection id "0HNEP7R4IS8V0" received FIN.
2025-08-12 08:25:49.458 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:25:49.459 +07:00 [DBG] Connection id "0HNEP7R4IS8V0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:25:49.460 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:25:49.462 +07:00 [DBG] Connection id "0HNEP7R4IS8V0" disconnecting.
2025-08-12 08:25:49.464 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 251.6563ms
2025-08-12 08:25:49.468 +07:00 [DBG] Connection id "0HNEP7R4IS8V0" stopped.
2025-08-12 08:35:18.086 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:35:18.094 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:35:18.096 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:35:18.101 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:35:18.103 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:35:18.104 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:35:18.105 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:35:18.106 +07:00 [DBG] Authorization was successful.
2025-08-12 08:35:18.107 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:35:18.108 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 08:35:18.111 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:35:18.112 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:35:18.114 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:35:18.116 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:35:18.118 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:35:18.120 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:35:18.122 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:35:18.124 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:35:18.127 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:35:18.127 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:35:18.129 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:35:18.141 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:35:18.145 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:35:18.146 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:35:18.148 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:35:18.150 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:35:18.154 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:35:18.157 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:35:18.158 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:35:18.160 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:35:18.161 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:35:18.162 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 08:35:18.164 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:35:18.166 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:35:18.168 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:35:18.171 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:35:18.172 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:35:18.173 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:35:18.174 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:35:18.176 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:35:18.177 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 57.3219ms
2025-08-12 08:35:18.179 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:35:18.181 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:35:18.182 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:35:18.183 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:35:18.185 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 99.4001ms
2025-08-12 08:36:43.390 +07:00 [DBG] Connection id "0HNEP7R4IS8V1" accepted.
2025-08-12 08:36:43.397 +07:00 [DBG] Connection id "0HNEP7R4IS8V1" started.
2025-08-12 08:36:43.398 +07:00 [DBG] Connection id "0HNEP7R4IS8V2" accepted.
2025-08-12 08:36:43.405 +07:00 [DBG] Connection id "0HNEP7R4IS8V2" started.
2025-08-12 08:36:43.406 +07:00 [DBG] Connection id "0HNEP7R4IS8V3" accepted.
2025-08-12 08:36:43.414 +07:00 [DBG] Connection 0HNEP7R4IS8V1 established using the following protocol: "Tls13"
2025-08-12 08:36:43.415 +07:00 [DBG] Connection id "0HNEP7R4IS8V3" started.
2025-08-12 08:36:43.416 +07:00 [DBG] Connection 0HNEP7R4IS8V2 established using the following protocol: "Tls13"
2025-08-12 08:36:43.416 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 08:36:43.418 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 08:36:43.421 +07:00 [DBG] Connection 0HNEP7R4IS8V3 established using the following protocol: "Tls13"
2025-08-12 08:36:43.422 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 08:36:43.426 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:36:43.427 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:36:43.429 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 08:36:43.431 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:36:43.435 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:36:43.437 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 08:36:43.438 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:36:43.439 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:36:43.441 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:36:43.442 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:36:43.444 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:36:43.445 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:36:43.445 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:36:43.446 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:36:43.447 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:36:43.448 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:36:43.450 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:36:43.450 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:36:43.452 +07:00 [DBG] Authorization was successful.
2025-08-12 08:36:43.452 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:36:43.453 +07:00 [DBG] Authorization was successful.
2025-08-12 08:36:43.454 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:36:43.456 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:36:43.456 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2025-08-12 08:36:43.457 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:36:43.458 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:36:43.460 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:36:43.460 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-12 08:36:43.461 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:36:43.463 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:36:43.464 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 403 0 null 36.8752ms
2025-08-12 08:36:43.465 +07:00 [DBG] Connection id "0HNEP7R4IS8V3" received FIN.
2025-08-12 08:36:43.466 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:36:43.467 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:36:43.472 +07:00 [DBG] Connection id "0HNEP7R4IS8V4" accepted.
2025-08-12 08:36:43.471 +07:00 [DBG] Connection id "0HNEP7R4IS8V3" disconnecting.
2025-08-12 08:36:43.479 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:36:43.478 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:36:43.480 +07:00 [DBG] Connection id "0HNEP7R4IS8V4" started.
2025-08-12 08:36:43.481 +07:00 [DBG] Connection id "0HNEP7R4IS8V3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:36:43.483 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:36:43.485 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:36:43.487 +07:00 [DBG] Connection id "0HNEP7R4IS8V3" stopped.
2025-08-12 08:36:43.488 +07:00 [DBG] Connection 0HNEP7R4IS8V4 established using the following protocol: "Tls13"
2025-08-12 08:36:43.489 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:36:43.490 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:36:43.492 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 08:36:43.493 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:36:43.494 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:36:43.496 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 08:36:43.500 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 08:36:43.499 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:36:43.498 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:36:43.501 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:36:43.503 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:36:43.504 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:36:43.505 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:36:43.507 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:36:43.508 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:36:43.509 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:36:43.510 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 08:36:43.512 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:36:43.513 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:36:43.513 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.515 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:36:43.517 +07:00 [DBG] Authorization was successful.
2025-08-12 08:36:43.519 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.521 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:36:43.521 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:36:43.522 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:36:43.524 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:36:43.525 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:36:43.527 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:36:43.528 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:36:43.529 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:36:43.530 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 08:36:43.532 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:36:43.534 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:36:43.535 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:36:43.536 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:36:43.537 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:36:43.543 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:36:43.543 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:36:43.544 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:36:43.547 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:36:43.548 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.550 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:36:43.550 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 08:36:43.552 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.554 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:36:43.555 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.555 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.557 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:36:43.563 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.566 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:36:43.567 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 18ms reading results.
2025-08-12 08:36:43.569 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.571 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:36:43.573 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.574 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:36:43.575 +07:00 [DBG] Created DbConnection. (4ms).
2025-08-12 08:36:43.576 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 08:36:43.577 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:36:43.578 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.579 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:36:43.582 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 08:36:43.583 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.585 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:36:43.587 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:36:43.588 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:36:43.589 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:36:43.591 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:36:43.594 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:36:43.592 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:36:43.594 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:36:43.596 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.596 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:36:43.597 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:36:43.598 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:36:43.599 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 08:36:43.605 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.607 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 113.0229ms
2025-08-12 08:36:43.609 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 08:36:43.610 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:36:43.612 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.613 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:36:43.613 +07:00 [DBG] Connection id "0HNEP7R4IS8V1" received FIN.
2025-08-12 08:36:43.615 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.616 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.617 +07:00 [DBG] Connection id "0HNEP7R4IS8V1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:36:43.617 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:36:43.619 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:36:43.620 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 08:36:43.622 +07:00 [DBG] Connection id "0HNEP7R4IS8V1" disconnecting.
2025-08-12 08:36:43.624 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.625 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-12 08:36:43.627 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 210.1179ms
2025-08-12 08:36:43.629 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.631 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-08-12 08:36:43.634 +07:00 [DBG] Connection id "0HNEP7R4IS8V1" stopped.
2025-08-12 08:36:43.635 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.637 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:36:43.639 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.643 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.644 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.644 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:36:43.645 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.647 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.648 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.650 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:36:43.651 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.653 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.654 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.655 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:36:43.656 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.658 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:36:43.659 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.661 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:36:43.662 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.663 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:36:43.665 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.665 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:36:43.667 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.667 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:36:43.668 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.670 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:36:43.672 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.673 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 184.2439ms
2025-08-12 08:36:43.674 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.675 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:36:43.677 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.678 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:36:43.679 +07:00 [DBG] Connection id "0HNEP7R4IS8V2" received FIN.
2025-08-12 08:36:43.680 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.681 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.682 +07:00 [DBG] Connection id "0HNEP7R4IS8V2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:36:43.683 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.685 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:36:43.687 +07:00 [DBG] Connection id "0HNEP7R4IS8V2" disconnecting.
2025-08-12 08:36:43.687 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.689 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 270.1061ms
2025-08-12 08:36:43.691 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.695 +07:00 [DBG] Connection id "0HNEP7R4IS8V2" stopped.
2025-08-12 08:36:43.695 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.698 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.700 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.701 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.703 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.704 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.706 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.707 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.708 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.709 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.710 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.712 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.713 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.714 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.716 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.718 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.719 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.721 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.722 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.723 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.724 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.727 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.728 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.729 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.730 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.731 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.733 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.735 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.736 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.737 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.738 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.740 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.742 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.743 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.744 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.745 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.747 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.749 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.750 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.751 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.752 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.754 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:36:43.756 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.757 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 132ms reading results.
2025-08-12 08:36:43.759 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.760 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:36:43.762 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:36:43.763 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:36:43.764 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:36:43.764 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:36:43.765 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:36:43.766 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:36:43.768 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 214.3333ms
2025-08-12 08:36:43.770 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:36:43.770 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:36:43.771 +07:00 [DBG] Connection id "0HNEP7R4IS8V4" received FIN.
2025-08-12 08:36:43.772 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:36:43.773 +07:00 [DBG] Connection id "0HNEP7R4IS8V4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:36:43.774 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:36:43.776 +07:00 [DBG] Connection id "0HNEP7R4IS8V4" disconnecting.
2025-08-12 08:36:43.777 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 285.3158ms
2025-08-12 08:36:43.781 +07:00 [DBG] Connection id "0HNEP7R4IS8V4" stopped.
2025-08-12 08:37:24.027 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-12 08:37:24.035 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:37:24.036 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:37:24.037 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:37:24.038 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:37:24.038 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:37:24.039 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:37:24.041 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 14.7019ms
2025-08-12 08:37:24.043 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-12 08:37:24.048 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:37:24.049 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-12 08:37:24.050 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:37:24.051 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:37:24.052 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:37:24.053 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:37:24.054 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 08:37:24.055 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:37:24.056 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-12 08:37:24.057 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:37:24.059 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:37:24.060 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:37:24.062 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:37:24.064 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:37:24.065 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:37:24.066 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:37:24.067 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:37:24.069 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-12 08:37:24.070 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 08:37:24.072 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:00000053": started reading request body.
2025-08-12 08:37:24.073 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:00000053": done reading request body.
2025-08-12 08:37:24.074 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-12 08:37:24.075 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:37:24.077 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:37:24.078 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:37:24.079 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:37:24.080 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: teacher2
2025-08-12 08:37:24.081 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:37:24.083 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:37:24.084 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:37:24.085 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.086 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.088 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:37:24.089 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:37:24.090 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:37:24.091 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:37:24.097 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:37:24.099 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:24.101 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.102 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 08:37:24.104 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.106 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:37:24.108 +07:00 [INF] 🔓 Login successful for user: teacher2
2025-08-12 08:37:24.110 +07:00 [INF] ✅ Đăng nhập thành công cho user: teacher2
2025-08-12 08:37:24.111 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:37:24.114 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:37:24.114 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:37:24.115 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:37:24.116 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:37:24.118 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-12 08:37:24.119 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 54.3324ms
2025-08-12 08:37:24.120 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:37:24.121 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:37:24.123 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.125 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:37:24.126 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 83.5297ms
2025-08-12 08:37:24.155 +07:00 [DBG] Connection id "0HNEP7R4IS8V5" accepted.
2025-08-12 08:37:24.156 +07:00 [DBG] Connection id "0HNEP7R4IS8V5" started.
2025-08-12 08:37:24.157 +07:00 [DBG] Connection id "0HNEP7R4IS8V6" accepted.
2025-08-12 08:37:24.166 +07:00 [DBG] Connection id "0HNEP7R4IS8V6" started.
2025-08-12 08:37:24.168 +07:00 [DBG] Connection 0HNEP7R4IS8V5 established using the following protocol: "Tls13"
2025-08-12 08:37:24.170 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 08:37:24.171 +07:00 [DBG] Connection 0HNEP7R4IS8V6 established using the following protocol: "Tls13"
2025-08-12 08:37:24.173 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 08:37:24.175 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 08:37:24.176 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 08:37:24.179 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:37:24.181 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 08:37:24.183 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:37:24.184 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:37:24.186 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:37:24.188 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:37:24.190 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:37:24.191 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:37:24.193 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:37:24.194 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:37:24.195 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:37:24.196 +07:00 [DBG] Authorization was successful.
2025-08-12 08:37:24.197 +07:00 [DBG] Authorization was successful.
2025-08-12 08:37:24.198 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:37:24.200 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:37:24.201 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:37:24.203 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:37:24.204 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:37:24.206 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:37:24.208 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:37:24.209 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:37:24.210 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:37:24.211 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:37:24.213 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:37:24.215 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:37:24.216 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:37:24.217 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:37:24.218 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:37:24.219 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:37:24.221 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:37:24.222 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:37:24.224 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:37:24.224 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:37:24.226 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:37:24.227 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:37:24.228 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:37:24.229 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:37:24.230 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.231 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:37:24.232 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.234 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:37:24.235 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:37:24.236 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:37:24.237 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:37:24.239 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:37:24.240 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:37:24.241 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:37:24.242 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:37:24.243 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:37:24.248 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:37:24.249 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:37:24.255 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:24.257 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:37:24.258 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:24.260 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:37:24.261 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:24.262 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 08:37:24.264 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.265 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.266 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-12 08:37:24.267 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.269 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.271 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:37:24.272 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 08:37:24.273 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:37:24.274 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:37:24.276 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:37:24.278 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:37:24.279 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:37:24.280 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:37:24.284 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:37:24.285 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:37:24.285 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:37:24.286 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 08:37:24.288 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.289 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 71.221ms
2025-08-12 08:37:24.291 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 08:37:24.293 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:37:24.294 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.295 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:37:24.296 +07:00 [DBG] Connection id "0HNEP7R4IS8V5" received FIN.
2025-08-12 08:37:24.297 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:37:24.298 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.299 +07:00 [DBG] Connection id "0HNEP7R4IS8V5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:37:24.301 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.302 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:37:24.303 +07:00 [DBG] Connection id "0HNEP7R4IS8V5" disconnecting.
2025-08-12 08:37:24.305 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.306 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 136.1847ms
2025-08-12 08:37:24.309 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:37:24.314 +07:00 [DBG] Connection id "0HNEP7R4IS8V5" stopped.
2025-08-12 08:37:24.314 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:37:24.317 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-12 08:37:24.319 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:37:24.322 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:37:24.325 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.326 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:37:24.328 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.329 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:37:24.331 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:37:24.334 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:37:24.334 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:37:24.335 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:37:24.336 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:37:24.337 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:37:24.339 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 119.6953ms
2025-08-12 08:37:24.341 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:37:24.342 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:37:24.343 +07:00 [DBG] Connection id "0HNEP7R4IS8V6" received FIN.
2025-08-12 08:37:24.344 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:24.345 +07:00 [DBG] Connection id "0HNEP7R4IS8V6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:37:24.346 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:37:24.347 +07:00 [DBG] Connection id "0HNEP7R4IS8V6" disconnecting.
2025-08-12 08:37:24.349 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 173.6884ms
2025-08-12 08:37:24.353 +07:00 [DBG] Connection id "0HNEP7R4IS8V6" stopped.
2025-08-12 08:37:25.876 +07:00 [DBG] Connection id "0HNEP7R4IS8V7" accepted.
2025-08-12 08:37:25.878 +07:00 [DBG] Connection id "0HNEP7R4IS8V7" started.
2025-08-12 08:37:25.883 +07:00 [DBG] Connection 0HNEP7R4IS8V7 established using the following protocol: "Tls13"
2025-08-12 08:37:25.885 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:37:25.888 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:37:25.890 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:37:25.892 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:37:25.893 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:37:25.895 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:37:25.896 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:37:25.897 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2025-08-12 08:37:25.899 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-12 08:37:25.900 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 403 0 null 15.5893ms
2025-08-12 08:37:25.902 +07:00 [DBG] Connection id "0HNEP7R4IS8V7" received FIN.
2025-08-12 08:37:25.904 +07:00 [DBG] Connection id "0HNEP7R4IS8V7" disconnecting.
2025-08-12 08:37:25.906 +07:00 [DBG] Connection id "0HNEP7R4IS8V7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:37:25.909 +07:00 [DBG] Connection id "0HNEP7R4IS8V7" stopped.
2025-08-12 08:37:25.913 +07:00 [DBG] Connection id "0HNEP7R4IS8V8" accepted.
2025-08-12 08:37:25.914 +07:00 [DBG] Connection id "0HNEP7R4IS8V8" started.
2025-08-12 08:37:25.919 +07:00 [DBG] Connection 0HNEP7R4IS8V8 established using the following protocol: "Tls13"
2025-08-12 08:37:25.921 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 08:37:25.924 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 08:37:25.925 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 08:37:25.927 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:37:25.928 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:37:25.929 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:37:25.930 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:37:25.932 +07:00 [DBG] Authorization was successful.
2025-08-12 08:37:25.933 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:37:25.933 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:37:25.935 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:37:25.937 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:37:25.938 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:37:25.940 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:37:25.941 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:37:25.942 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:37:25.944 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:37:25.946 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:37:25.948 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:37:25.948 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:37:25.950 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:25.951 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:25.953 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:37:25.954 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:37:25.955 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:37:25.956 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:37:25.970 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:37:25.973 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.975 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.977 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.979 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.980 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.982 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.983 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.985 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.986 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.987 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.989 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.990 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.991 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.993 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.994 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.995 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.996 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.997 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:25.998 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.000 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.001 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.002 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.004 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.005 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.007 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.008 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.009 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.010 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.012 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.013 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.015 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.016 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.017 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.018 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.020 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.021 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.022 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.023 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.024 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.025 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.027 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.029 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.030 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.031 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.032 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.033 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.034 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.036 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.037 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.038 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.039 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.041 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.042 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.043 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.044 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.045 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.046 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.048 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.049 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.051 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.052 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.053 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:26.054 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:37:26.056 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 82ms reading results.
2025-08-12 08:37:26.058 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:26.059 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:37:26.060 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:37:26.063 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:37:26.064 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:37:26.065 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:37:26.066 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:37:26.067 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:37:26.069 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 126.8125ms
2025-08-12 08:37:26.070 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:37:26.072 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:37:26.072 +07:00 [DBG] Connection id "0HNEP7R4IS8V8" received FIN.
2025-08-12 08:37:26.073 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:26.074 +07:00 [DBG] Connection id "0HNEP7R4IS8V8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:37:26.075 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:37:26.077 +07:00 [DBG] Connection id "0HNEP7R4IS8V8" disconnecting.
2025-08-12 08:37:26.078 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 157.4194ms
2025-08-12 08:37:26.082 +07:00 [DBG] Connection id "0HNEP7R4IS8V8" stopped.
2025-08-12 08:37:46.443 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-12 08:37:46.446 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:37:46.447 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:37:46.448 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:37:46.449 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:37:46.450 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:37:46.450 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:37:46.451 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 8.5161ms
2025-08-12 08:37:46.453 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-12 08:37:46.457 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:37:46.458 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-12 08:37:46.460 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:37:46.461 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:37:46.461 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:37:46.462 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:37:46.463 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 08:37:46.464 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:37:46.465 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-12 08:37:46.466 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:37:46.468 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:37:46.469 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:37:46.470 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:37:46.472 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:37:46.473 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:37:46.474 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:37:46.475 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:37:46.476 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-12 08:37:46.478 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 08:37:46.479 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:00000057": started reading request body.
2025-08-12 08:37:46.480 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:00000057": done reading request body.
2025-08-12 08:37:46.481 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-12 08:37:46.482 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:37:46.483 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:37:46.484 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:37:46.486 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:37:46.487 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: teacher3
2025-08-12 08:37:46.488 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:37:46.490 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:37:46.491 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:37:46.491 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.493 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.494 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:37:46.495 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:37:46.496 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:37:46.497 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:37:46.501 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:37:46.504 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:46.505 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.507 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 08:37:46.508 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.510 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:37:46.512 +07:00 [INF] 🔓 Login successful for user: teacher3
2025-08-12 08:37:46.513 +07:00 [INF] ✅ Đăng nhập thành công cho user: teacher3
2025-08-12 08:37:46.514 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:37:46.516 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:37:46.517 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:37:46.517 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:37:46.518 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:37:46.519 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-12 08:37:46.521 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 47.8777ms
2025-08-12 08:37:46.523 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:37:46.524 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:37:46.525 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.526 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:37:46.528 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 75.6123ms
2025-08-12 08:37:46.558 +07:00 [DBG] Connection id "0HNEP7R4IS8V9" accepted.
2025-08-12 08:37:46.561 +07:00 [DBG] Connection id "0HNEP7R4IS8V9" started.
2025-08-12 08:37:46.562 +07:00 [DBG] Connection id "0HNEP7R4IS8VA" accepted.
2025-08-12 08:37:46.570 +07:00 [DBG] Connection id "0HNEP7R4IS8VA" started.
2025-08-12 08:37:46.573 +07:00 [DBG] Connection 0HNEP7R4IS8V9 established using the following protocol: "Tls13"
2025-08-12 08:37:46.575 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 08:37:46.576 +07:00 [DBG] Connection 0HNEP7R4IS8VA established using the following protocol: "Tls13"
2025-08-12 08:37:46.579 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 08:37:46.580 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 08:37:46.582 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 08:37:46.584 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:37:46.586 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 08:37:46.587 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:37:46.589 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:37:46.591 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:37:46.593 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:37:46.595 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:37:46.596 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:37:46.596 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:37:46.597 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:37:46.598 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:37:46.599 +07:00 [DBG] Authorization was successful.
2025-08-12 08:37:46.601 +07:00 [DBG] Authorization was successful.
2025-08-12 08:37:46.602 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:37:46.603 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:37:46.605 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:37:46.606 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:37:46.608 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:37:46.610 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:37:46.612 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:37:46.614 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:37:46.616 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:37:46.618 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:37:46.620 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:37:46.622 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:37:46.623 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:37:46.625 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:37:46.626 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:37:46.627 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:37:46.629 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:37:46.630 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:37:46.631 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:37:46.632 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:37:46.635 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:37:46.635 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:37:46.636 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:37:46.637 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:37:46.638 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.640 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:37:46.641 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.642 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:37:46.643 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:37:46.646 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:37:46.647 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:37:46.648 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:37:46.650 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-12 08:37:46.651 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:37:46.652 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:37:46.653 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:37:46.656 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:37:46.657 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:37:46.659 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:46.660 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:37:46.661 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:46.663 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:37:46.664 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:46.665 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:37:46.666 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.667 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.668 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 9ms reading results.
2025-08-12 08:37:46.670 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.671 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.673 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:37:46.674 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:37:46.675 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:37:46.677 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:37:46.678 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:37:46.680 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:37:46.682 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:37:46.682 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:37:46.685 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:37:46.686 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:37:46.688 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.689 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:37:46.690 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:37:46.692 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 08:37:46.693 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.695 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 68.6497ms
2025-08-12 08:37:46.696 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:37:46.697 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:37:46.699 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.700 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:37:46.701 +07:00 [DBG] Connection id "0HNEP7R4IS8V9" received FIN.
2025-08-12 08:37:46.702 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.703 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.704 +07:00 [DBG] Connection id "0HNEP7R4IS8V9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:37:46.706 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:37:46.707 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:37:46.708 +07:00 [DBG] Connection id "0HNEP7R4IS8V9" disconnecting.
2025-08-12 08:37:46.709 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:37:46.711 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 135.8214ms
2025-08-12 08:37:46.713 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 08:37:46.716 +07:00 [DBG] Connection id "0HNEP7R4IS8V9" stopped.
2025-08-12 08:37:46.717 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:37:46.721 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:37:46.723 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.724 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:37:46.725 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.726 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:37:46.728 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:37:46.730 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:37:46.731 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:37:46.732 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:37:46.733 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:37:46.734 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:37:46.735 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 108.0179ms
2025-08-12 08:37:46.737 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:37:46.738 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:37:46.739 +07:00 [DBG] Connection id "0HNEP7R4IS8VA" received FIN.
2025-08-12 08:37:46.740 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:46.741 +07:00 [DBG] Connection id "0HNEP7R4IS8VA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:37:46.743 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 08:37:46.744 +07:00 [DBG] Connection id "0HNEP7R4IS8VA" disconnecting.
2025-08-12 08:37:46.746 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 165.3562ms
2025-08-12 08:37:46.750 +07:00 [DBG] Connection id "0HNEP7R4IS8VA" stopped.
2025-08-12 08:37:47.836 +07:00 [DBG] Connection id "0HNEP7R4IS8VB" accepted.
2025-08-12 08:37:47.837 +07:00 [DBG] Connection id "0HNEP7R4IS8VB" started.
2025-08-12 08:37:47.841 +07:00 [DBG] Connection 0HNEP7R4IS8VB established using the following protocol: "Tls13"
2025-08-12 08:37:47.842 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:37:47.845 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:37:47.847 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:37:47.849 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:37:47.850 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:37:47.851 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:37:47.852 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:37:47.852 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2025-08-12 08:37:47.854 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-12 08:37:47.856 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 403 0 null 13.8766ms
2025-08-12 08:37:47.857 +07:00 [DBG] Connection id "0HNEP7R4IS8VB" received FIN.
2025-08-12 08:37:47.860 +07:00 [DBG] Connection id "0HNEP7R4IS8VB" disconnecting.
2025-08-12 08:37:47.863 +07:00 [DBG] Connection id "0HNEP7R4IS8VB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:37:47.867 +07:00 [DBG] Connection id "0HNEP7R4IS8VB" stopped.
2025-08-12 08:37:47.875 +07:00 [DBG] Connection id "0HNEP7R4IS8VC" accepted.
2025-08-12 08:37:47.876 +07:00 [DBG] Connection id "0HNEP7R4IS8VC" started.
2025-08-12 08:37:47.881 +07:00 [DBG] Connection 0HNEP7R4IS8VC established using the following protocol: "Tls13"
2025-08-12 08:37:47.883 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 08:37:47.887 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 08:37:47.889 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 08:37:47.891 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:37:47.893 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:37:47.895 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:37:47.896 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:37:47.897 +07:00 [DBG] Authorization was successful.
2025-08-12 08:37:47.898 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:37:47.900 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:37:47.901 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:37:47.904 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:37:47.905 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:37:47.907 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:37:47.908 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:37:47.910 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:37:47.912 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:37:47.914 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:37:47.916 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:37:47.917 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:37:47.919 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:47.920 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:47.921 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:37:47.922 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:37:47.924 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:37:47.926 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:37:47.930 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:37:47.933 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.934 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.935 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.936 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.937 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.939 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.940 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.941 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.942 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.943 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.945 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.946 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.947 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.949 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.950 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.952 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.954 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.955 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.956 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.957 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.959 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.961 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.962 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.963 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.964 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.967 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.968 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.969 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.970 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.971 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.973 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.974 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.976 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.977 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.978 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.979 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.980 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.982 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.983 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.984 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.985 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.987 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.988 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.990 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.991 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.992 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.994 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.995 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.996 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.997 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:47.998 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.000 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.002 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.003 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.004 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.005 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.006 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.008 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.009 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.010 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.012 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.013 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.014 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.016 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.017 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:37:48.018 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:37:48.019 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 86ms reading results.
2025-08-12 08:37:48.021 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:48.023 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:37:48.024 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:37:48.026 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:37:48.027 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:37:48.028 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:37:48.029 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:37:48.030 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:37:48.032 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 121.1626ms
2025-08-12 08:37:48.033 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:37:48.034 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:37:48.035 +07:00 [DBG] Connection id "0HNEP7R4IS8VC" received FIN.
2025-08-12 08:37:48.035 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:37:48.036 +07:00 [DBG] Connection id "0HNEP7R4IS8VC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:37:48.038 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:37:48.039 +07:00 [DBG] Connection id "0HNEP7R4IS8VC" disconnecting.
2025-08-12 08:37:48.040 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 157.0259ms
2025-08-12 08:37:48.045 +07:00 [DBG] Connection id "0HNEP7R4IS8VC" stopped.
2025-08-12 08:38:01.130 +07:00 [DBG] Connection id "0HNEP7R4IS8VD" accepted.
2025-08-12 08:38:01.132 +07:00 [DBG] Connection id "0HNEP7R4IS8VD" started.
2025-08-12 08:38:01.133 +07:00 [DBG] Connection id "0HNEP7R4IS8VE" accepted.
2025-08-12 08:38:01.136 +07:00 [DBG] Connection id "0HNEP7R4IS8VE" started.
2025-08-12 08:38:01.136 +07:00 [DBG] Connection id "0HNEP7R4IS8VF" accepted.
2025-08-12 08:38:01.146 +07:00 [DBG] Connection 0HNEP7R4IS8VD established using the following protocol: "Tls13"
2025-08-12 08:38:01.148 +07:00 [DBG] Connection id "0HNEP7R4IS8VF" started.
2025-08-12 08:38:01.148 +07:00 [DBG] Connection 0HNEP7R4IS8VE established using the following protocol: "Tls13"
2025-08-12 08:38:01.149 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 08:38:01.151 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 08:38:01.154 +07:00 [DBG] Connection 0HNEP7R4IS8VF established using the following protocol: "Tls13"
2025-08-12 08:38:01.155 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 08:38:01.157 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:38:01.158 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 08:38:01.160 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 08:38:01.162 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:38:01.164 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 08:38:01.166 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 08:38:01.168 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:38:01.169 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 08:38:01.171 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:38:01.172 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:38:01.173 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:38:01.175 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:38:01.177 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:38:01.178 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:38:01.179 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:38:01.180 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:38:01.181 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:38:01.182 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:38:01.183 +07:00 [DBG] Authorization was successful.
2025-08-12 08:38:01.184 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:38:01.185 +07:00 [DBG] Authorization was successful.
2025-08-12 08:38:01.186 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:38:01.187 +07:00 [DBG] Authorization was successful.
2025-08-12 08:38:01.188 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:38:01.190 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:38:01.191 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:38:01.192 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:38:01.193 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:38:01.194 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:38:01.196 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:38:01.201 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:38:01.200 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:38:01.198 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:38:01.203 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:38:01.205 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:38:01.206 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:38:01.208 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:38:01.210 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:38:01.211 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:38:01.213 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:38:01.214 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:38:01.216 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:38:01.218 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:38:01.219 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:38:01.220 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:38:01.222 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:38:01.223 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:38:01.225 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:38:01.227 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:38:01.228 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:38:01.229 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:38:01.231 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:38:01.233 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:38:01.234 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:38:01.234 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 08:38:01.236 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:38:01.238 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:38:01.239 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.240 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 08:38:01.241 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:38:01.242 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.243 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.246 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:38:01.247 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:38:01.248 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.249 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:38:01.251 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:38:01.252 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:38:01.253 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:38:01.255 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 08:38:01.256 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:38:01.257 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:38:01.259 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:38:01.260 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 08:38:01.264 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:38:01.261 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:38:01.266 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:38:01.268 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.270 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:38:01.274 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:38:01.274 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.276 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:38:01.277 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.279 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.281 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:38:01.282 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.283 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.284 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 08:38:01.286 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.288 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 19ms reading results.
2025-08-12 08:38:01.289 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.290 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.291 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.298 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.300 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (8ms).
2025-08-12 08:38:01.301 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.303 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:38:01.303 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.306 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.308 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:38:01.309 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:38:01.310 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.311 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:38:01.312 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:38:01.314 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.315 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:38:01.316 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-12 08:38:01.317 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.318 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:38:01.319 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:38:01.321 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.322 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 08:38:01.324 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:38:01.325 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.327 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 109.0678ms
2025-08-12 08:38:01.329 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.330 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.332 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:38:01.333 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 08:38:01.335 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.336 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:38:01.337 +07:00 [DBG] Connection id "0HNEP7R4IS8VD" received FIN.
2025-08-12 08:38:01.338 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.339 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.340 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.341 +07:00 [DBG] Connection id "0HNEP7R4IS8VD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:38:01.342 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 08:38:01.344 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.345 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-12 08:38:01.346 +07:00 [DBG] Connection id "0HNEP7R4IS8VD" disconnecting.
2025-08-12 08:38:01.348 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.350 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.351 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 202.0386ms
2025-08-12 08:38:01.353 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.354 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.358 +07:00 [DBG] Connection id "0HNEP7R4IS8VD" stopped.
2025-08-12 08:38:01.359 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:38:01.361 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.364 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:38:01.365 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.366 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-12 08:38:01.367 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.369 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:38:01.370 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.372 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:38:01.373 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.375 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.377 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.378 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 08:38:01.379 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.380 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.381 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.384 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 08:38:01.385 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.386 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:38:01.387 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.390 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:38:01.392 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.393 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:38:01.394 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.395 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:38:01.397 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.398 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:38:01.399 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.400 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:38:01.401 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.402 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 181.9489ms
2025-08-12 08:38:01.404 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.405 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:38:01.406 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.407 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:38:01.409 +07:00 [DBG] Connection id "0HNEP7R4IS8VE" received FIN.
2025-08-12 08:38:01.410 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.411 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.412 +07:00 [DBG] Connection id "0HNEP7R4IS8VE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:38:01.414 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.415 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:38:01.417 +07:00 [DBG] Connection id "0HNEP7R4IS8VE" disconnecting.
2025-08-12 08:38:01.419 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.420 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 268.8105ms
2025-08-12 08:38:01.422 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.426 +07:00 [DBG] Connection id "0HNEP7R4IS8VE" stopped.
2025-08-12 08:38:01.427 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.429 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.431 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.433 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.434 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.435 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.436 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.437 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.439 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.440 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.442 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.443 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.444 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.447 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.448 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.449 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.451 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.452 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.454 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.455 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.456 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.458 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.460 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.461 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.462 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.463 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:01.464 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.465 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 188ms reading results.
2025-08-12 08:38:01.467 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.468 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:38:01.470 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:38:01.471 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:38:01.473 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:38:01.474 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:38:01.475 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:38:01.476 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:38:01.477 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 253.7706ms
2025-08-12 08:38:01.479 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:38:01.481 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:38:01.482 +07:00 [DBG] Connection id "0HNEP7R4IS8VF" received FIN.
2025-08-12 08:38:01.483 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:01.484 +07:00 [DBG] Connection id "0HNEP7R4IS8VF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:38:01.485 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:38:01.486 +07:00 [DBG] Connection id "0HNEP7R4IS8VF" disconnecting.
2025-08-12 08:38:01.488 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 329.5991ms
2025-08-12 08:38:01.492 +07:00 [DBG] Connection id "0HNEP7R4IS8VF" stopped.
2025-08-12 08:38:20.814 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/index.html - null null
2025-08-12 08:38:20.826 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-12 08:38:20.827 +07:00 [DBG] Request did not match any endpoints
2025-08-12 08:38:20.828 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-12 08:38:20.829 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-12 08:38:20.831 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-12 08:38:20.832 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-12 08:38:20.834 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/index.html - 200 null text/html;charset=utf-8 19.4958ms
2025-08-12 08:38:20.869 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 08:38:20.871 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_vs/browserLink - null null
2025-08-12 08:38:20.874 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 5.5568ms
2025-08-12 08:38:20.893 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.3565ms
2025-08-12 08:38:20.998 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - null null
2025-08-12 08:38:21.001 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-12 08:38:21.002 +07:00 [DBG] Request did not match any endpoints
2025-08-12 08:38:21.042 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 43.9479ms
2025-08-12 08:38:41.355 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/auth/login - application/json 53
2025-08-12 08:38:41.358 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-08-12 08:38:41.359 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-08-12 08:38:41.360 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:38:41.362 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:38:41.362 +07:00 [DBG] The request has an origin header: 'https://localhost:7172'.
2025-08-12 08:38:41.363 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:38:41.365 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 08:38:41.366 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:38:41.367 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-12 08:38:41.369 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:38:41.372 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:38:41.373 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:38:41.375 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:38:41.376 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:38:41.378 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:38:41.379 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:38:41.381 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:38:41.382 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-12 08:38:41.383 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 08:38:41.386 +07:00 [DBG] Connection id "0HNEP7R4IS8UR", Request id "0HNEP7R4IS8UR:0000000D": started reading request body.
2025-08-12 08:38:41.387 +07:00 [DBG] Connection id "0HNEP7R4IS8UR", Request id "0HNEP7R4IS8UR:0000000D": done reading request body.
2025-08-12 08:38:41.388 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-12 08:38:41.389 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:38:41.391 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:38:41.392 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:38:41.393 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:38:41.394 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: admin1
2025-08-12 08:38:41.396 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:38:41.398 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:38:41.398 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:38:41.399 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:41.401 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:41.403 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:38:41.404 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:38:41.405 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:38:41.407 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:38:41.412 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:38:41.415 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:38:41.417 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:38:41.419 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-12 08:38:41.421 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:41.423 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:38:41.425 +07:00 [INF] 🔓 Login successful for user: admin1
2025-08-12 08:38:41.426 +07:00 [INF] ✅ Đăng nhập thành công cho user: admin1
2025-08-12 08:38:41.428 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:38:41.430 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:38:41.431 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:38:41.431 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:38:41.432 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:38:41.434 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-12 08:38:41.435 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 57.3378ms
2025-08-12 08:38:41.437 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:38:41.438 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:38:41.439 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:38:41.441 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:38:41.442 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/auth/login - 200 null application/json; charset=utf-8 87.945ms
2025-08-12 08:39:10.691 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=10 - null null
2025-08-12 08:39:10.694 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:39:10.695 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)' with route pattern 'api/subjects/paged' is valid for the request path '/api/subjects/paged'
2025-08-12 08:39:10.697 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/paged'
2025-08-12 08:39:10.699 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:10.701 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:10.702 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:10.703 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:10.703 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:10.704 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:10.706 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.Nullable`1[System.Int32]) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 08:39:10.708 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:10.709 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:10.710 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:10.712 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:10.714 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:10.715 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:39:10.716 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:39:10.717 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:10.719 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:39:10.721 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:10.722 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:10.723 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:10.724 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:10.725 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:10.727 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:39:10.728 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:10.729 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:10.730 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:10.731 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:10.732 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2025-08-12 08:39:10.734 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name '' in request data ...
2025-08-12 08:39:10.735 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'keyword' of type 'System.String'.
2025-08-12 08:39:10.736 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:39:10.737 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:39:10.738 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2025-08-12 08:39:10.740 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2025-08-12 08:39:10.741 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:39:10.742 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-08-12 08:39:10.743 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:39:10.745 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:39:10.746 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:39:10.748 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:39:10.749 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:39:10.750 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:10.753 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:10.754 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:39:10.762 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:10.764 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:10.765 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:10.765 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:10.766 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:10.767 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:39:10.769 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI) in 54.2152ms
2025-08-12 08:39:10.771 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:10.772 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:10.774 +07:00 [DBG] Disposing connection to database '' on server ''.
2025-08-12 08:39:10.775 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:39:10.777 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=10 - 200 null application/json; charset=utf-8 85.1487ms
2025-08-12 08:39:20.695 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=30 - null null
2025-08-12 08:39:20.698 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:39:20.699 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)' with route pattern 'api/subjects/paged' is valid for the request path '/api/subjects/paged'
2025-08-12 08:39:20.701 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/paged'
2025-08-12 08:39:20.703 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:20.704 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:20.704 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:20.706 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:20.707 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:20.708 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:20.710 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.Nullable`1[System.Int32]) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 08:39:20.712 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:20.713 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:20.715 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:20.718 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:20.720 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:20.721 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:39:20.722 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:39:20.723 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:20.725 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:39:20.727 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:20.728 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:20.729 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:20.730 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:20.731 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:20.732 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:39:20.734 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:20.735 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:20.736 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:20.737 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:20.738 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2025-08-12 08:39:20.739 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name '' in request data ...
2025-08-12 08:39:20.740 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'keyword' of type 'System.String'.
2025-08-12 08:39:20.742 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:39:20.743 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:39:20.744 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2025-08-12 08:39:20.745 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2025-08-12 08:39:20.746 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:39:20.747 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-08-12 08:39:20.748 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:39:20.749 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:39:20.750 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:39:20.751 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:39:20.752 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:39:20.754 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:20.755 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:20.756 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:39:20.760 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:20.766 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:20.767 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:20.768 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:20.769 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:20.770 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:39:20.772 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI) in 50.6217ms
2025-08-12 08:39:20.774 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:20.775 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:20.776 +07:00 [DBG] Disposing connection to database '' on server ''.
2025-08-12 08:39:20.778 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:39:20.779 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=30 - 200 null application/json; charset=utf-8 84.3277ms
2025-08-12 08:39:42.328 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-12 08:39:42.330 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:39:42.332 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:39:42.334 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:42.335 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:42.336 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:42.336 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:39:42.337 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 9.3599ms
2025-08-12 08:39:42.339 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-12 08:39:42.344 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:39:42.346 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-12 08:39:42.348 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:39:42.349 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:42.350 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:42.351 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:42.351 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 08:39:42.353 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:39:42.354 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-12 08:39:42.356 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:42.357 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:42.359 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:42.361 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:42.362 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:42.364 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:39:42.365 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:39:42.367 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:39:42.369 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-12 08:39:42.370 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 08:39:42.371 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:0000005B": started reading request body.
2025-08-12 08:39:42.372 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:0000005B": done reading request body.
2025-08-12 08:39:42.374 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-12 08:39:42.375 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:39:42.376 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:39:42.378 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:39:42.379 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:39:42.380 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: teacher1
2025-08-12 08:39:42.382 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:42.384 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:42.385 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:39:42.386 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.388 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.390 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:42.391 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:39:42.392 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:39:42.393 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:39:42.398 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:39:42.400 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:42.402 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.403 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:39:42.404 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.405 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:39:42.406 +07:00 [INF] 🔓 Login successful for user: teacher1
2025-08-12 08:39:42.407 +07:00 [INF] ✅ Đăng nhập thành công cho user: teacher1
2025-08-12 08:39:42.408 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:42.411 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:42.411 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:42.412 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:42.413 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:42.414 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-12 08:39:42.415 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 50.9754ms
2025-08-12 08:39:42.417 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:39:42.418 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:42.419 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.420 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:39:42.422 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 82.8029ms
2025-08-12 08:39:42.448 +07:00 [DBG] Connection id "0HNEP7R4IS8VG" accepted.
2025-08-12 08:39:42.451 +07:00 [DBG] Connection id "0HNEP7R4IS8VG" started.
2025-08-12 08:39:42.452 +07:00 [DBG] Connection id "0HNEP7R4IS8VH" accepted.
2025-08-12 08:39:42.461 +07:00 [DBG] Connection id "0HNEP7R4IS8VH" started.
2025-08-12 08:39:42.464 +07:00 [DBG] Connection 0HNEP7R4IS8VG established using the following protocol: "Tls13"
2025-08-12 08:39:42.467 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 08:39:42.467 +07:00 [DBG] Connection 0HNEP7R4IS8VH established using the following protocol: "Tls13"
2025-08-12 08:39:42.471 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 08:39:42.473 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 08:39:42.475 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 08:39:42.479 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:39:42.481 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 08:39:42.482 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:39:42.484 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:39:42.486 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:39:42.488 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:42.490 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:42.491 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:42.493 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:42.493 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:42.494 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:42.495 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:42.496 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:42.497 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:39:42.498 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:39:42.500 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:39:42.501 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:39:42.504 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:42.506 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:42.508 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:42.509 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:42.511 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:42.512 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:42.514 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:42.516 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:42.518 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:42.519 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:42.520 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:39:42.522 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:39:42.524 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:39:42.525 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:39:42.526 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:42.527 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:39:42.529 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:42.530 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:39:42.531 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:39:42.532 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:39:42.533 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.535 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:39:42.536 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.537 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:39:42.538 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:42.540 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:39:42.541 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:39:42.542 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:39:42.543 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:39:42.545 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:39:42.546 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:39:42.547 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:39:42.551 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:39:42.552 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:39:42.554 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:42.555 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:42.556 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:42.558 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:42.559 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:42.560 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:39:42.561 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.562 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.563 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 9ms reading results.
2025-08-12 08:39:42.564 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.566 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.567 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:42.569 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 08:39:42.570 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:39:42.572 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:42.573 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:39:42.575 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:42.576 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:39:42.577 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:42.581 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:42.582 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:39:42.583 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:42.588 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.589 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 08:39:42.590 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:39:42.592 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 71.0916ms
2025-08-12 08:39:42.593 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.594 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:39:42.596 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:39:42.597 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:42.597 +07:00 [DBG] Connection id "0HNEP7R4IS8VG" received FIN.
2025-08-12 08:39:42.599 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.600 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.601 +07:00 [DBG] Connection id "0HNEP7R4IS8VG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:39:42.603 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.604 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:39:42.605 +07:00 [DBG] Connection id "0HNEP7R4IS8VG" disconnecting.
2025-08-12 08:39:42.606 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:42.607 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 140.6667ms
2025-08-12 08:39:42.609 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:39:42.613 +07:00 [DBG] Connection id "0HNEP7R4IS8VG" stopped.
2025-08-12 08:39:42.614 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 08:39:42.617 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:39:42.621 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:39:42.624 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.625 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:39:42.626 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.627 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:39:42.629 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:42.631 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:42.632 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:42.632 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:42.634 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:42.635 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:39:42.637 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 114.8079ms
2025-08-12 08:39:42.638 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:39:42.640 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:42.640 +07:00 [DBG] Connection id "0HNEP7R4IS8VH" received FIN.
2025-08-12 08:39:42.641 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:42.642 +07:00 [DBG] Connection id "0HNEP7R4IS8VH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:39:42.643 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:39:42.645 +07:00 [DBG] Connection id "0HNEP7R4IS8VH" disconnecting.
2025-08-12 08:39:42.646 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 173.0753ms
2025-08-12 08:39:42.650 +07:00 [DBG] Connection id "0HNEP7R4IS8VH" stopped.
2025-08-12 08:39:45.280 +07:00 [DBG] Connection id "0HNEP7R4IS8VI" accepted.
2025-08-12 08:39:45.281 +07:00 [DBG] Connection id "0HNEP7R4IS8VI" started.
2025-08-12 08:39:45.286 +07:00 [DBG] Connection 0HNEP7R4IS8VI established using the following protocol: "Tls13"
2025-08-12 08:39:45.288 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 08:39:45.291 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 08:39:45.292 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 08:39:45.294 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:39:45.295 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:45.296 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:45.297 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:45.298 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:45.300 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:39:45.301 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:39:45.304 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:45.306 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:45.307 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:45.309 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:45.310 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:45.312 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:39:45.314 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:39:45.316 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:45.318 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:45.319 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:39:45.321 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:45.322 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:45.324 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:45.325 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:39:45.327 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:39:45.329 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:39:45.343 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:39:45.345 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.347 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.348 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.350 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.351 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.352 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.354 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.355 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.356 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.358 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.359 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.361 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.362 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.364 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.365 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.368 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.370 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.371 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.373 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.375 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.376 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.378 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.379 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.380 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.381 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.383 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.384 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.385 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.386 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.388 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.389 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.391 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.392 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.393 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.394 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.396 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.397 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.399 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.400 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.401 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.402 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.404 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.405 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.406 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.407 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.408 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.410 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.411 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.413 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.414 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.415 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.417 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.418 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.419 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.420 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.421 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.423 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.424 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.425 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.427 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.428 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.429 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.431 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.432 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.433 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:45.434 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:45.436 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 90ms reading results.
2025-08-12 08:39:45.438 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:45.439 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:39:45.440 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:45.442 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:45.443 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:45.444 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:45.445 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:45.446 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:39:45.448 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 135.1588ms
2025-08-12 08:39:45.449 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:39:45.450 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:45.451 +07:00 [DBG] Connection id "0HNEP7R4IS8VI" received FIN.
2025-08-12 08:39:45.451 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:45.452 +07:00 [DBG] Connection id "0HNEP7R4IS8VI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:39:45.454 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:39:45.455 +07:00 [DBG] Connection id "0HNEP7R4IS8VI" disconnecting.
2025-08-12 08:39:45.456 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 168.3219ms
2025-08-12 08:39:45.461 +07:00 [DBG] Connection id "0HNEP7R4IS8VI" stopped.
2025-08-12 08:39:56.016 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-12 08:39:56.019 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:39:56.021 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:39:56.023 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.023 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.024 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.025 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:39:56.026 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 9.8867ms
2025-08-12 08:39:56.029 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 44
2025-08-12 08:39:56.033 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:39:56.034 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-12 08:39:56.035 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:39:56.037 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.037 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.038 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.039 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 08:39:56.040 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:39:56.041 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-12 08:39:56.044 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:56.045 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:56.046 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:56.048 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:56.050 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:56.051 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:39:56.052 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:39:56.054 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:39:56.056 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-12 08:39:56.058 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 08:39:56.059 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:0000005F": started reading request body.
2025-08-12 08:39:56.060 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:0000005F": done reading request body.
2025-08-12 08:39:56.062 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-12 08:39:56.063 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:39:56.064 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:39:56.065 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:39:56.067 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:39:56.069 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: admin1
2025-08-12 08:39:56.070 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:56.072 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:56.073 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:39:56.074 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.076 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.078 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:56.079 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:39:56.080 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:39:56.081 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:39:56.085 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:39:56.089 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.091 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.093 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 08:39:56.094 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.096 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:39:56.098 +07:00 [INF] 🔓 Login successful for user: admin1
2025-08-12 08:39:56.099 +07:00 [INF] ✅ Đăng nhập thành công cho user: admin1
2025-08-12 08:39:56.100 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:56.102 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:56.103 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:56.104 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:56.105 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:56.106 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-12 08:39:56.108 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 56.431ms
2025-08-12 08:39:56.109 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:39:56.111 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:56.112 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.113 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:39:56.115 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 86.7379ms
2025-08-12 08:39:56.160 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - null null
2025-08-12 08:39:56.162 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/score/paged?page=1&pageSize=1 - null null
2025-08-12 08:39:56.161 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - null null
2025-08-12 08:39:56.163 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-12 08:39:56.160 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - null null
2025-08-12 08:39:56.161 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - null null
2025-08-12 08:39:56.169 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:39:56.171 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/paged'
2025-08-12 08:39:56.174 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-12 08:39:56.176 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:39:56.179 +07:00 [DBG] 1 candidate(s) found for the request path '/api/teachers/paged'
2025-08-12 08:39:56.182 +07:00 [DBG] 1 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:39:56.183 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:39:56.184 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:39:56.185 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:39:56.186 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:39:56.187 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:39:56.189 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:39:56.191 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.193 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.195 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.196 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.198 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.199 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.200 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.201 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.202 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.202 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.203 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.205 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.207 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.209 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.212 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.214 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.215 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.217 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.219 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:39:56.220 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:39:56.221 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:39:56.228 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/score/paged?page=1&pageSize=1 - 204 null null 64.4066ms
2025-08-12 08:39:56.231 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - 204 null null 70.4937ms
2025-08-12 08:39:56.222 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:39:56.223 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:39:56.225 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - 204 null null 65.5378ms
2025-08-12 08:39:56.256 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - null null
2025-08-12 08:39:56.254 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/notifications?Page=1&PageSize=5 - 204 null null 91.2414ms
2025-08-12 08:39:56.255 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - 204 null null 95.0322ms
2025-08-12 08:39:56.224 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:39:56.231 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/score/paged?page=1&pageSize=1 - null null
2025-08-12 08:39:56.262 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:39:56.272 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - null null
2025-08-12 08:39:56.270 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - 204 null null 108.8792ms
2025-08-12 08:39:56.231 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - null null
2025-08-12 08:39:56.258 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - null null
2025-08-12 08:39:56.244 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - null null
2025-08-12 08:39:56.273 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/paged'
2025-08-12 08:39:56.288 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)' with route pattern 'api/Score/paged' is valid for the request path '/api/score/paged'
2025-08-12 08:39:56.289 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:56.290 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.285 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/paged'
2025-08-12 08:39:56.287 +07:00 [DBG] 2 candidate(s) found for the request path '/api/CourseClass/paged'
2025-08-12 08:39:56.274 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:39:56.277 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:39:56.282 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:39:56.292 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.293 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)' with route pattern 'api/teachers/paged' is valid for the request path '/api/teachers/paged'
2025-08-12 08:39:56.294 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)' with route pattern 'api/CourseClass/paged' is valid for the request path '/api/CourseClass/paged'
2025-08-12 08:39:56.296 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:39:56.297 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)' with route pattern 'api/subjects/paged' is valid for the request path '/api/subjects/paged'
2025-08-12 08:39:56.300 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-12 08:39:56.301 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.302 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/paged'
2025-08-12 08:39:56.303 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetById (StudentManagementAPI)' with route pattern 'api/CourseClass/{id}' is valid for the request path '/api/CourseClass/paged'
2025-08-12 08:39:56.305 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.307 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/paged'
2025-08-12 08:39:56.309 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:39:56.309 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:56.311 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:56.313 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-12 08:39:56.314 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.315 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:56.317 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.317 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:56.318 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.320 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.321 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.322 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:56.322 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.324 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:56.324 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.325 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.330 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.327 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:56.328 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.329 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:56.329 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.326 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:56.331 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:56.333 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:56.334 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:56.334 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.String) on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:39:56.335 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:56.336 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:56.337 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:56.337 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:56.338 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:56.340 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:56.341 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:56.342 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:56.343 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:56.344 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:56.345 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:56.346 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:56.348 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:56.349 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:39:56.349 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-12 08:39:56.350 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:56.351 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:39:56.352 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:56.353 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:56.359 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:39:56.356 +07:00 [INF] Route matched with {action = "GetPaged", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedAsync(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 08:39:56.356 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:56.357 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 08:39:56.359 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:56.355 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:39:56.362 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:56.363 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:56.364 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.Nullable`1[System.Int32]) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 08:39:56.366 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:56.367 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:56.370 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:56.371 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:56.373 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:56.375 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:56.377 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:56.378 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:39:56.380 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:56.382 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:56.383 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:56.385 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:56.386 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:56.389 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:39:56.390 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:56.392 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:56.394 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:56.396 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:56.397 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:56.398 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:56.400 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:56.403 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:56.404 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:56.406 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:56.408 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:56.410 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:39:56.411 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:56.412 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:39:56.414 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:39:56.416 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:56.418 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:39:56.419 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:56.421 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:39:56.422 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:39:56.424 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:39:56.426 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:39:56.428 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:39:56.428 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:56.430 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:39:56.431 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:56.432 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:39:56.434 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:39:56.435 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:56.437 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:56.439 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:39:56.440 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:39:56.441 +07:00 [DBG] Attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:39:56.443 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:56.445 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:39:56.446 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:56.448 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:39:56.449 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:56.450 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:39:56.452 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:39:56.454 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:56.455 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:56.457 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:39:56.459 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:56.461 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:39:56.463 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:56.464 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:56.466 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:39:56.469 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:39:56.470 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:56.471 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:39:56.473 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:56.474 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:56.476 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:56.477 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:39:56.479 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:56.481 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:39:56.482 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:56.483 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:56.484 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:56.486 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:39:56.487 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:56.488 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:39:56.497 +07:00 [DBG] Done attempting to bind parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:39:56.491 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:56.493 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:56.494 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:39:56.495 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:39:56.490 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:56.498 +07:00 [DBG] Attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:39:56.499 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:39:56.501 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:56.502 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:39:56.503 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:56.511 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:56.506 +07:00 [DBG] Done attempting to validate the bound parameter 'paginationDto' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:39:56.508 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:56.509 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:39:56.510 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:39:56.505 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:56.511 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:56.513 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:56.514 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:56.515 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:39:56.517 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:39:56.518 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:39:56.519 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:56.521 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:56.522 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:56.524 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:56.526 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:56.528 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:56.529 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' ...
2025-08-12 08:39:56.530 +07:00 [DBG] Created DbConnection. (8ms).
2025-08-12 08:39:56.531 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:56.533 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:56.535 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:56.536 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:56.537 +07:00 [DBG] Attempting to bind parameter 'teacherCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:39:56.538 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.539 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:39:56.540 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:56.541 +07:00 [DBG] Created DbConnection. (6ms).
2025-08-12 08:39:56.543 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:56.544 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'teacherCode' of type 'System.String'.
2025-08-12 08:39:56.545 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.546 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:39:56.547 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:39:56.549 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.550 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:56.552 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-12 08:39:56.553 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:56.555 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:56.556 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:56.557 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.559 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2025-08-12 08:39:56.560 +07:00 [DBG] Done attempting to bind parameter 'teacherCode' of type 'System.String'.
2025-08-12 08:39:56.561 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-08-12 08:39:56.563 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:56.564 +07:00 [DBG] Attempting to bind parameter 'classCode' of type 'System.String' ...
2025-08-12 08:39:56.565 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:56.566 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name '' in request data ...
2025-08-12 08:39:56.567 +07:00 [DBG] Attempting to validate the bound parameter 'teacherCode' of type 'System.String' ...
2025-08-12 08:39:56.569 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-08-12 08:39:56.570 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:56.571 +07:00 [DBG] Attempting to bind parameter 'classCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:39:56.572 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-12 08:39:56.574 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'keyword' of type 'System.String'.
2025-08-12 08:39:56.574 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherCode' of type 'System.String'.
2025-08-12 08:39:56.576 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-12 08:39:56.577 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:39:56.580 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-08-12 08:39:56.582 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:39:56.586 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [CourseClasses] AS [c]
2025-08-12 08:39:56.579 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'classCode' of type 'System.String'.
2025-08-12 08:39:56.583 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:56.588 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:56.589 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-12 08:39:56.590 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:39:56.592 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.593 +07:00 [DBG] Done attempting to bind parameter 'classCode' of type 'System.String'.
2025-08-12 08:39:56.597 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:56.596 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:56.601 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
2025-08-12 08:39:56.602 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2025-08-12 08:39:56.603 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 11ms reading results.
2025-08-12 08:39:56.604 +07:00 [DBG] Done attempting to bind parameter 'classCode' of type 'System.String'.
2025-08-12 08:39:56.606 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:56.607 +07:00 [DBG] Created DbConnection. (10ms).
2025-08-12 08:39:56.609 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.611 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2025-08-12 08:39:56.612 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.613 +07:00 [DBG] Attempting to validate the bound parameter 'classCode' of type 'System.String' ...
2025-08-12 08:39:56.614 +07:00 [DBG] Created DbConnection. (7ms).
2025-08-12 08:39:56.615 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.616 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 7ms reading results.
2025-08-12 08:39:56.618 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:39:56.620 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-12 08:39:56.621 +07:00 [DBG] Done attempting to validate the bound parameter 'classCode' of type 'System.String'.
2025-08-12 08:39:56.622 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.623 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.626 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.627 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-08-12 08:39:56.635 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:39:56.630 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:56.631 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.632 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:56.633 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-12 08:39:56.629 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.636 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:39:56.639 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:56.640 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:56.642 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-08-12 08:39:56.643 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.644 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.646 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:39:56.646 +07:00 [DBG] Created DbConnection. (6ms).
2025-08-12 08:39:56.647 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-12 08:39:56.648 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-08-12 08:39:56.656 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:39:56.654 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:56.657 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.658 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-08-12 08:39:56.662 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-12 08:39:56.663 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:39:56.664 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-08-12 08:39:56.678 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:56.671 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:39:56.679 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.684 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:56.682 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2025-08-12 08:39:56.658 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.676 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Teachers] AS [t]
2025-08-12 08:39:56.689 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:39:56.689 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:56.690 +07:00 [DBG] Created DbConnection. (5ms).
2025-08-12 08:39:56.691 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:39:56.697 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.698 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-08-12 08:39:56.692 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:56.708 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-12 08:39:56.709 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-08-12 08:39:56.695 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.712 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2025-08-12 08:39:56.714 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClassCode], [c0].[MaxStudents], [c0].[Schedule], [c0].[SemesterId], [c0].[SubjectId], [c0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM (
    SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [CourseClasses] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [c0]
INNER JOIN [Subjects] AS [s] ON [c0].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c0].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c0].[Id] = [e].[CourseClassId]
ORDER BY [c0].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:39:56.714 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.716 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Scores] AS [s]
2025-08-12 08:39:56.717 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 22ms reading results.
2025-08-12 08:39:56.718 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:56.719 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2025-08-12 08:39:56.721 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.723 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (9ms).
2025-08-12 08:39:56.726 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.726 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Scores] AS [s]
2025-08-12 08:39:56.729 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:56.730 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:39:56.732 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.734 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.735 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (8ms).
2025-08-12 08:39:56.738 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.739 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:56.742 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.744 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    ORDER BY [n].[Id] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:39:56.745 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.746 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.747 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 9ms reading results.
2025-08-12 08:39:56.748 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:56.750 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.752 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.754 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:56.755 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.757 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.758 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:56.759 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.760 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 7ms reading results.
2025-08-12 08:39:56.761 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-12 08:39:56.764 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:56.765 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-12 08:39:56.766 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:39:56.768 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.769 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.771 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-08-12 08:39:56.772 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-08-12 08:39:56.774 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.775 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI) in 349.2786ms
2025-08-12 08:39:56.776 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.778 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (9ms).
2025-08-12 08:39:56.779 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:39:56.780 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-08-12 08:39:56.785 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.783 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:56.781 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.786 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:56.789 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-12 08:39:56.791 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.794 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:39:56.792 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:56.794 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:56.796 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:56.800 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.802 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.803 +07:00 [DBG] Disposing connection to database '' on server ''.
2025-08-12 08:39:56.804 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-08-12 08:39:56.805 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Degree], [t0].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT [t].[Id], [t].[Degree], [t].[TeacherCode]
    FROM [Teachers] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Users] AS [u] ON [t0].[Id] = [u].[Id]
ORDER BY [t0].[Id]
2025-08-12 08:39:56.806 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:56.807 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.808 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 6ms reading results.
2025-08-12 08:39:56.810 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-12 08:39:56.811 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-08-12 08:39:56.814 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.815 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:56.816 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.818 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.820 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 548.0668ms
2025-08-12 08:39:56.821 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[EnrollmentId], [s0].[Final], [s0].[Midterm], [s0].[Other], [s0].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s1].[Id], [s1].[DateOfBirth], [s1].[DepartmentId], [s1].[Gender], [s1].[ProgramId], [s1].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s2].[Id], [s2].[Credit], [s2].[Description], [s2].[Name], [s2].[SemesterId], [s2].[SubjectCode]
FROM (
    SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total]
    FROM [Scores] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Enrollments] AS [e] ON [s0].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s1] ON [e].[StudentId] = [s1].[Id]
INNER JOIN [Users] AS [u] ON [s1].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s2] ON [c].[SubjectId] = [s2].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:39:56.822 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 8ms reading results.
2025-08-12 08:39:56.824 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.826 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (8ms).
2025-08-12 08:39:56.823 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:56.834 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.835 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 113ms reading results.
2025-08-12 08:39:56.836 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:56.837 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:39:56.839 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-12 08:39:56.841 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[EnrollmentId], [s0].[Final], [s0].[Midterm], [s0].[Other], [s0].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s1].[Id], [s1].[DateOfBirth], [s1].[DepartmentId], [s1].[Gender], [s1].[ProgramId], [s1].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s2].[Id], [s2].[Credit], [s2].[Description], [s2].[Name], [s2].[SemesterId], [s2].[SubjectCode]
FROM (
    SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total]
    FROM [Scores] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Enrollments] AS [e] ON [s0].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s1] ON [e].[StudentId] = [s1].[Id]
INNER JOIN [Users] AS [u] ON [s1].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s2] ON [c].[SubjectId] = [s2].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:39:56.841 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.843 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:56.845 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 423.885ms
2025-08-12 08:39:56.846 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:56.849 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.850 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (9ms).
2025-08-12 08:39:56.851 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:56.852 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:39:56.854 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:56.856 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.857 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:56.858 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:56.859 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:56.860 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:56.862 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.864 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:56.864 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:56.865 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.866 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:56.869 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.869 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:56.871 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:39:56.872 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-12 08:39:56.873 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:56.874 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.875 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:56.877 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 458.7956ms
2025-08-12 08:39:56.878 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/notifications?Page=1&PageSize=5 - 200 null application/json; charset=utf-8 622.2815ms
2025-08-12 08:39:56.879 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Teacher.TeacherDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:39:56.881 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.881 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:56.883 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:39:56.887 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI) in 474.3482ms
2025-08-12 08:39:56.888 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.890 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:39:56.891 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:56.892 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:56.893 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.894 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI) in 480.5673ms
2025-08-12 08:39:56.896 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.897 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:56.898 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.899 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetPagedAsync (StudentManagementAPI)'
2025-08-12 08:39:56.901 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:39:56.901 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.903 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.904 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:56.905 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 674.3001ms
2025-08-12 08:39:56.907 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-12 08:39:56.908 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:56.909 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.914 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/teachers/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 656.1429ms
2025-08-12 08:39:56.915 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.917 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-12 08:39:56.920 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 71ms reading results.
2025-08-12 08:39:56.922 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/CourseClass/paged?Page=1&PageSize=1 - 200 null application/json; charset=utf-8 678.7375ms
2025-08-12 08:39:56.924 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.928 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 08:39:56.930 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:56.933 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:56.933 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:56.934 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:56.935 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:56.936 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:39:56.938 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI) in 559.7352ms
2025-08-12 08:39:56.939 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetPaged (StudentManagementAPI)'
2025-08-12 08:39:56.940 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:56.942 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:56.944 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:39:56.945 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/score/paged?page=1&pageSize=1 - 200 null application/json; charset=utf-8 714.4615ms
2025-08-12 08:39:58.305 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - null null
2025-08-12 08:39:58.306 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-12 08:39:58.309 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:39:58.311 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:39:58.313 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:39:58.314 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:39:58.315 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:58.316 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:58.317 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:58.319 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:58.320 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:58.321 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:58.322 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:39:58.323 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:39:58.324 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - 204 null null 18.5874ms
2025-08-12 08:39:58.327 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - null null
2025-08-12 08:39:58.324 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 18.2208ms
2025-08-12 08:39:58.332 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:39:58.337 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:39:58.338 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-12 08:39:58.340 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:39:58.342 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:39:58.343 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:39:58.343 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:58.345 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:39:58.345 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:58.346 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:58.348 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:58.349 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:58.350 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:58.351 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:58.351 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:58.352 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:58.354 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:58.354 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:58.355 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:39:58.357 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:58.358 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 08:39:58.358 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:39:58.359 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:58.361 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 08:39:58.363 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:58.364 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:58.365 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:58.366 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:58.369 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:58.370 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:58.371 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:58.372 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:58.374 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:39:58.376 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:58.377 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:39:58.378 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:39:58.380 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:58.383 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:39:58.383 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:39:58.384 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:58.385 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:58.386 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:58.387 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:58.389 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:39:58.390 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 08:39:58.391 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:39:58.391 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.392 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:58.393 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.394 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:39:58.396 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:58.398 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:58.398 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:39:58.399 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:58.400 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:39:58.401 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:39:58.404 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:39:58.405 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:39:58.408 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:39:58.410 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:39:58.412 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.413 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:39:58.414 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.416 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:58.418 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.419 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:58.420 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.421 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:58.422 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-12 08:39:58.424 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:39:58.426 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.427 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:58.428 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:39:58.430 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:58.432 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:58.434 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:58.436 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:58.438 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 08:39:58.438 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:58.439 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.440 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:58.441 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.442 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:58.442 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:58.444 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:39:58.445 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:39:58.447 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 68.3086ms
2025-08-12 08:39:58.448 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:39:58.449 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:39:58.450 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:39:58.452 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:58.455 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:39:58.456 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - null null
2025-08-12 08:39:58.457 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.459 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.462 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:39:58.463 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-08-12 08:39:58.464 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 08:39:58.466 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:39:58.467 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 129.8696ms
2025-08-12 08:39:58.468 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.469 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:58.474 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-12 08:39:58.474 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:58.476 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.476 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:58.477 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.478 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:39:58.480 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:58.480 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - 204 null null 25.0491ms
2025-08-12 08:39:58.482 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - null null
2025-08-12 08:39:58.481 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:39:58.487 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:39:58.488 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-12 08:39:58.489 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)' with route pattern 'api/enrollments/search' is valid for the request path '/api/enrollments/search'
2025-08-12 08:39:58.491 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:39:58.492 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:39:58.495 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:39:58.496 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:39:58.498 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.498 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:39:58.500 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:39:58.501 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:39:58.503 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.504 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:39:58.505 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:39:58.506 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:39:58.508 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:58.509 +07:00 [DBG] Authorization was successful.
2025-08-12 08:39:58.510 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:58.512 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:39:58.513 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:58.515 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:58.516 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:58.517 +07:00 [INF] Route matched with {action = "SearchEnrollments", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchEnrollments(System.String, System.String, System.String, System.String) on controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI).
2025-08-12 08:39:58.517 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:39:58.519 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:39:58.520 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 146.2987ms
2025-08-12 08:39:58.522 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:39:58.523 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:39:58.524 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:39:58.525 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:58.528 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:39:58.528 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.530 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:39:58.532 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 08:39:58.533 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:39:58.535 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - 200 null application/json; charset=utf-8 208.15ms
2025-08-12 08:39:58.536 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:39:58.540 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' ...
2025-08-12 08:39:58.541 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' using the name '' in request data ...
2025-08-12 08:39:58.543 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentId' of type 'System.String'.
2025-08-12 08:39:58.544 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:39:58.545 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:39:58.546 +07:00 [DBG] Attempting to validate the bound parameter 'studentId' of type 'System.String' ...
2025-08-12 08:39:58.548 +07:00 [DBG] Done attempting to validate the bound parameter 'studentId' of type 'System.String'.
2025-08-12 08:39:58.549 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:39:58.551 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:39:58.552 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:58.553 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:58.555 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:58.556 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:39:58.557 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:39:58.558 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:39:58.559 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' using the name 'semesterId' in request data ...
2025-08-12 08:39:58.560 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:39:58.561 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:39:58.563 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:39:58.564 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.String'.
2025-08-12 08:39:58.565 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:39:58.567 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' using the name '' in request data ...
2025-08-12 08:39:58.568 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'subjectName' of type 'System.String'.
2025-08-12 08:39:58.570 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:39:58.571 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:39:58.573 +07:00 [DBG] Attempting to validate the bound parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:39:58.574 +07:00 [DBG] Done attempting to validate the bound parameter 'subjectName' of type 'System.String'.
2025-08-12 08:39:58.578 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:39:58.582 +07:00 [DBG] Compiling query expression: 
'DbSet<Enrollment>()
    .Include(e => e.Student)
    .ThenInclude(s => s.User)
    .Include(e => e.CourseClass)
    .ThenInclude(c => c.Subject)
    .Include(e => e.CourseClass)
    .ThenInclude(c => c.Semester)
    .Where(e => e.CourseClass.SemesterId == __semesterId_Value_0)
    .Count()'
2025-08-12 08:39:58.586 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Enrollments AS e
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            WHERE c.SemesterId == @__semesterId_Value_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Enrollments AS e
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            WHERE c.SemesterId == @__semesterId_Value_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 08:39:58.589 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:39:58.590 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:39:58.591 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.592 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.593 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:58.594 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:39:58.596 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:39:58.597 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:39:58.602 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:39:58.605 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.606 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:39:58.607 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.608 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:39:58.611 +07:00 [DBG] Compiling query expression: 
'DbSet<Enrollment>()
    .Include(e => e.Student)
    .ThenInclude(s => s.User)
    .Include(e => e.CourseClass)
    .ThenInclude(c => c.Subject)
    .Include(e => e.CourseClass)
    .ThenInclude(c => c.Semester)
    .Where(e => e.CourseClass.SemesterId == __semesterId_Value_0)
    .OrderBy(e => e.StudentId)
    .Skip(__p_1)
    .Take(__p_2)'
2025-08-12 08:39:58.614 +07:00 [DBG] Including navigation: 'Enrollment.Student'.
2025-08-12 08:39:58.615 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-12 08:39:58.616 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-12 08:39:58.618 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-12 08:39:58.620 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-12 08:39:58.631 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Enrollment>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Enrollment.CourseClassId (int) Required FK Index, 1], [Property: Enrollment.EnrollDate (DateTime) Required, 2], [Property: Enrollment.StudentId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 4], [Property: Student.DateOfBirth (DateTime) Required, 5], [Property: Student.DepartmentId (int) Required FK Index, 6], [Property: Student.Gender (string) Required, 7], [Property: Student.ProgramId (int) Required FK Index, 8], [Property: Student.StudentCode (string) Required, 9] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 10], [Property: User.Email (string), 11], [Property: User.FullName (string) Required, 12], [Property: User.PasswordHash (string) Required, 13], [Property: User.Phone (string), 14], [Property: User.Role (string) Required, 15], [Property: User.Username (string) Required, 16] }
            3 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 17], [Property: CourseClass.ClassCode (string) Required, 18], [Property: CourseClass.MaxStudents (int?), 19], [Property: CourseClass.Schedule (string), 20], [Property: CourseClass.SemesterId (int) Required FK Index, 21], [Property: CourseClass.SubjectId (int) Required FK Index, 22], [Property: CourseClass.TeacherId (int) Required FK Index, 23] }
            4 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: Subject.Credit (int) Required, 25], [Property: Subject.Description (string), 26], [Property: Subject.Name (string) Required, 27], [Property: Subject.SemesterId (int) Required FK Index, 28], [Property: Subject.SubjectCode (string) Required, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Semester.EndDate (DateTime) Required, 31], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 32], [Property: Semester.Name (string) Required, 33], [Property: Semester.StartDate (DateTime) Required, 34] }
        SELECT s0.Id, s0.CourseClassId, s0.EnrollDate, s0.StudentId, s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id0, s0.ClassCode, s0.MaxStudents, s0.Schedule, s0.SemesterId, s0.SubjectId, s0.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode, s2.Id, s2.EndDate, s2.IsOpen, s2.Name, s2.StartDate
        FROM 
        (
            SELECT e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, c.Id AS Id0, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM Enrollments AS e
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            WHERE c.SemesterId == @__semesterId_Value_0
            ORDER BY e.StudentId ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS s0
        INNER JOIN Students AS s ON s0.StudentId == s.Id
        INNER JOIN Users AS u ON s.Id == u.Id
        INNER JOIN Subjects AS s1 ON s0.SubjectId == s1.Id
        INNER JOIN Semesters AS s2 ON s0.SemesterId == s2.Id
        ORDER BY s0.StudentId ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Enrollment.CourseClassId (int) Required FK Index, 1], [Property: Enrollment.EnrollDate (DateTime) Required, 2], [Property: Enrollment.StudentId (int) Required FK Index, 3] }
            1 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 4], [Property: Student.DateOfBirth (DateTime) Required, 5], [Property: Student.DepartmentId (int) Required FK Index, 6], [Property: Student.Gender (string) Required, 7], [Property: Student.ProgramId (int) Required FK Index, 8], [Property: Student.StudentCode (string) Required, 9] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 10], [Property: User.Email (string), 11], [Property: User.FullName (string) Required, 12], [Property: User.PasswordHash (string) Required, 13], [Property: User.Phone (string), 14], [Property: User.Role (string) Required, 15], [Property: User.Username (string) Required, 16] }
            3 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 17], [Property: CourseClass.ClassCode (string) Required, 18], [Property: CourseClass.MaxStudents (int?), 19], [Property: CourseClass.Schedule (string), 20], [Property: CourseClass.SemesterId (int) Required FK Index, 21], [Property: CourseClass.SubjectId (int) Required FK Index, 22], [Property: CourseClass.TeacherId (int) Required FK Index, 23] }
            4 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: Subject.Credit (int) Required, 25], [Property: Subject.Description (string), 26], [Property: Subject.Name (string) Required, 27], [Property: Subject.SemesterId (int) Required FK Index, 28], [Property: Subject.SubjectCode (string) Required, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Semester.EndDate (DateTime) Required, 31], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 32], [Property: Semester.Name (string) Required, 33], [Property: Semester.StartDate (DateTime) Required, 34] }
        SELECT s0.Id, s0.CourseClassId, s0.EnrollDate, s0.StudentId, s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id0, s0.ClassCode, s0.MaxStudents, s0.Schedule, s0.SemesterId, s0.SubjectId, s0.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode, s2.Id, s2.EndDate, s2.IsOpen, s2.Name, s2.StartDate
        FROM 
        (
            SELECT e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, c.Id AS Id0, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM Enrollments AS e
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            WHERE c.SemesterId == @__semesterId_Value_0
            ORDER BY e.StudentId ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS s0
        INNER JOIN Students AS s ON s0.StudentId == s.Id
        INNER JOIN Users AS u ON s.Id == u.Id
        INNER JOIN Subjects AS s1 ON s0.SubjectId == s1.Id
        INNER JOIN Semesters AS s2 ON s0.SemesterId == s2.Id
        ORDER BY s0.StudentId ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Enrollment entity;
        Student entity;
        User entity;
        CourseClass entity;
        Subject entity;
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Enrollment instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Enrollment);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Enrollment)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Enrollment")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(1);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(2);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Student instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Student);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(4) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Student)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Student")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(4);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(5);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(6);
                                instance.<Gender>k__BackingField = dataReader.GetString(7);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(8);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            User instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(User);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(10) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (User)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("User")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(10);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<FullName>k__BackingField = dataReader.GetString(12);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(13);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                instance.<Role>k__BackingField = dataReader.GetString(15);
                                instance.<Username>k__BackingField = dataReader.GetString(16);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            CourseClass instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(CourseClass);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(17) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (CourseClass)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CourseClass")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(17);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(18);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(21);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(22);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(23);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            Subject instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(Subject);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(24) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (Subject)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(24);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(25);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                instance.<Name>k__BackingField = dataReader.GetString(27);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(28);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(29);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        entity = 
        {
            MaterializationContext materializationContext6;
            IEntityType entityType6;
            Semester instance6;
            InternalEntityEntry entry6;
            bool hasNullKey6;
            materializationContext6 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance6 = default(Semester);
            entry6 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(30) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey6);
            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
            {
                entityType6 = entry6.EntityType;
                return instance6 = (Semester)entry6.Entity;
            } : 
            {
                ISnapshot shadowSnapshot6;
                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType6 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("Semester")];
                instance6 = switch (entityType6)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(30);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(31);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(32);
                                instance.<Name>k__BackingField = dataReader.GetString(33);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(34);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext6.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType6, 
                    entity: instance6, 
                    snapshot: shadowSnapshot6);
                return instance6;
            } : default(void);
            return instance6;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{20}, namelessParameter{21}) => 
            {
                namelessParameter{20}.<User>k__BackingField = namelessParameter{21};
                return namelessParameter{21}.<Student>k__BackingField = namelessParameter{20};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, Student>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.Student (Student) ToPrincipal Student Inverse: Enrollments | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Student")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: Student | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{24}, namelessParameter{25}) => 
            {
                namelessParameter{24}.<Student>k__BackingField = namelessParameter{25};
                return [LIFTABLE Constant: ClrICollectionAccessor<Student, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{25}, 
                    value: namelessParameter{24}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{27} => namelessParameter{27}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{29}, namelessParameter{30}) => 
            {
                namelessParameter{29}.<Subject>k__BackingField = namelessParameter{30};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{30}, 
                    value: namelessParameter{29}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{32} => namelessParameter{32}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{34}, namelessParameter{35}) => 
            {
                namelessParameter{34}.<Semester>k__BackingField = namelessParameter{35};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{35}, 
                    value: namelessParameter{34}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{39}, namelessParameter{40}) => 
            {
                namelessParameter{39}.<CourseClass>k__BackingField = namelessParameter{40};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{40}, 
                    value: namelessParameter{39}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:39:58.645 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.647 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.648 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:39:58.649 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:39:58.651 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:39:58.653 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:39:58.662 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:39:58.664 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.665 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.667 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.669 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.670 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.671 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.672 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.674 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.676 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.677 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.678 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.679 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.682 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.683 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.685 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.686 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.688 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.689 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.690 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.691 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.693 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.694 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.695 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.697 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.698 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.699 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.701 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.702 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.703 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.705 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.706 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.707 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.709 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.710 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.711 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.712 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.714 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.716 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.717 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.718 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.719 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.720 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.722 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.724 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.725 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.726 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.727 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.729 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.730 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.731 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.733 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:39:58.734 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.736 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 71ms reading results.
2025-08-12 08:39:58.737 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.738 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:39:58.744 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:39:58.746 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:39:58.747 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:39:58.748 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:39:58.750 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:39:58.751 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Enrollment.EnrollmentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:39:58.755 +07:00 [INF] Executed action StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI) in 221.9248ms
2025-08-12 08:39:58.757 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:39:58.758 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:39:58.760 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:39:58.762 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:39:58.763 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - 200 null application/json; charset=utf-8 281.2665ms
2025-08-12 08:40:02.219 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=4 - null null
2025-08-12 08:40:02.223 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:40:02.225 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:40:02.227 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:02.227 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:02.229 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:02.230 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:40:02.231 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=4 - 204 null null 11.9148ms
2025-08-12 08:40:02.233 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=4 - null null
2025-08-12 08:40:02.237 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:40:02.238 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)' with route pattern 'api/enrollments/search' is valid for the request path '/api/enrollments/search'
2025-08-12 08:40:02.240 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:02.241 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:02.241 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:02.242 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:02.243 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:40:02.244 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:40:02.245 +07:00 [DBG] Authorization was successful.
2025-08-12 08:40:02.246 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:02.247 +07:00 [INF] Route matched with {action = "SearchEnrollments", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchEnrollments(System.String, System.String, System.String, System.String) on controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI).
2025-08-12 08:40:02.248 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:40:02.250 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:40:02.252 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:40:02.253 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:40:02.255 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:40:02.257 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:40:02.258 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:40:02.260 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' ...
2025-08-12 08:40:02.261 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:02.262 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:02.264 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:02.265 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:02.266 +07:00 [DBG] Attempting to validate the bound parameter 'studentId' of type 'System.String' ...
2025-08-12 08:40:02.267 +07:00 [DBG] Done attempting to validate the bound parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:02.268 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:02.269 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:02.271 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:02.272 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:02.273 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:02.275 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:02.276 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:02.277 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:40:02.279 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' using the name 'semesterId' in request data ...
2025-08-12 08:40:02.280 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:02.281 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:02.282 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:40:02.283 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:02.284 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:40:02.285 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:02.286 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:02.288 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:02.289 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:02.290 +07:00 [DBG] Attempting to validate the bound parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:40:02.291 +07:00 [DBG] Done attempting to validate the bound parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:02.293 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:40:02.294 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:40:02.295 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:40:02.296 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:02.297 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:02.298 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:02.299 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:40:02.300 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:40:02.302 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:40:02.305 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:40:02.308 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:02.309 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:40:02.310 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:02.311 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (0ms).
2025-08-12 08:40:02.313 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:02.314 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:02.316 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:02.316 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:40:02.317 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:40:02.319 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:40:02.321 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:40:02.324 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.325 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.326 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.327 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.328 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.329 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.330 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.332 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.333 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.334 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.335 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.336 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.337 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.338 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.340 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.341 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.343 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:02.344 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:02.345 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 21ms reading results.
2025-08-12 08:40:02.346 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:02.348 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:40:02.349 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:40:02.351 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:40:02.352 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:40:02.352 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:40:02.353 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:40:02.355 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Enrollment.EnrollmentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:40:02.356 +07:00 [INF] Executed action StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI) in 99.7994ms
2025-08-12 08:40:02.358 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:02.359 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:40:02.361 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:02.362 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:40:02.364 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=4 - 200 null application/json; charset=utf-8 131.0568ms
2025-08-12 08:40:16.305 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - null null
2025-08-12 08:40:16.309 +07:00 [DBG] 1 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:40:16.311 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:40:16.312 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:16.313 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:16.314 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:16.315 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:40:16.316 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - 204 null null 10.1989ms
2025-08-12 08:40:16.318 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - null null
2025-08-12 08:40:16.323 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:40:16.324 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)' with route pattern 'api/subjects/paged' is valid for the request path '/api/subjects/paged'
2025-08-12 08:40:16.326 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/paged'
2025-08-12 08:40:16.327 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:40:16.329 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:16.330 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:16.331 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:16.332 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:40:16.333 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:40:16.334 +07:00 [DBG] Authorization was successful.
2025-08-12 08:40:16.335 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:40:16.336 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.Nullable`1[System.Int32]) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 08:40:16.339 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:40:16.341 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:40:16.342 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:40:16.344 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:40:16.345 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:40:16.346 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:40:16.348 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:40:16.349 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:40:16.351 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:40:16.352 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:16.354 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:16.356 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:40:16.357 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:16.359 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:40:16.361 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:40:16.363 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:16.364 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:16.365 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:40:16.367 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:16.368 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2025-08-12 08:40:16.370 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:16.371 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'keyword' of type 'System.String'.
2025-08-12 08:40:16.373 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:40:16.374 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:40:16.376 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2025-08-12 08:40:16.377 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2025-08-12 08:40:16.378 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:40:16.379 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-08-12 08:40:16.381 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:40:16.383 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:40:16.384 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:40:16.385 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:40:16.387 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:40:16.388 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:40:16.391 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:40:16.392 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:40:16.395 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:40:16.398 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:40:16.399 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:40:16.399 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:40:16.400 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:40:16.401 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:40:16.402 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI) in 55.7971ms
2025-08-12 08:40:16.405 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:40:16.406 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:40:16.407 +07:00 [DBG] Disposing connection to database '' on server ''.
2025-08-12 08:40:16.408 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-12 08:40:16.409 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - 200 null application/json; charset=utf-8 91.0664ms
2025-08-12 08:40:21.746 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=1000 - null null
2025-08-12 08:40:21.749 +07:00 [DBG] 1 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:40:21.750 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:40:21.752 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:21.753 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:21.754 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:21.755 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:40:21.755 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=1000 - 204 null null 9.9547ms
2025-08-12 08:40:21.757 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=1000 - null null
2025-08-12 08:40:21.762 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:40:21.763 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)' with route pattern 'api/subjects/paged' is valid for the request path '/api/subjects/paged'
2025-08-12 08:40:21.765 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/paged'
2025-08-12 08:40:21.766 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:40:21.767 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:21.768 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:21.769 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:21.770 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:40:21.771 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:40:21.773 +07:00 [DBG] Authorization was successful.
2025-08-12 08:40:21.774 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:40:21.775 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.Nullable`1[System.Int32]) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 08:40:21.777 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:40:21.778 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:40:21.780 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:40:21.782 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:40:21.783 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:40:21.785 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:40:21.787 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:40:21.788 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:40:21.790 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:40:21.791 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:21.792 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:21.794 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:40:21.795 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:21.796 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:40:21.797 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:40:21.800 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:21.801 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:21.803 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:40:21.804 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:21.806 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2025-08-12 08:40:21.807 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:21.808 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'keyword' of type 'System.String'.
2025-08-12 08:40:21.810 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:40:21.811 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:40:21.812 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2025-08-12 08:40:21.814 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2025-08-12 08:40:21.815 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:40:21.816 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-08-12 08:40:21.817 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:40:21.818 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:40:21.820 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:40:21.821 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:40:21.822 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:40:21.824 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:40:21.825 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:40:21.826 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:40:21.830 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:40:21.832 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:40:21.833 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:40:21.834 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:40:21.834 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:40:21.835 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:40:21.837 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI) in 51.6595ms
2025-08-12 08:40:21.839 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:40:21.840 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:40:21.842 +07:00 [DBG] Disposing connection to database '' on server ''.
2025-08-12 08:40:21.843 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:40:21.844 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=1000 - 200 null application/json; charset=utf-8 86.7588ms
2025-08-12 08:40:30.682 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - null null
2025-08-12 08:40:30.685 +07:00 [DBG] 1 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:40:30.686 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:40:30.687 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:30.688 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:30.689 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:30.690 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:40:30.691 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - 204 null null 9.2885ms
2025-08-12 08:40:30.692 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - null null
2025-08-12 08:40:30.697 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/paged'
2025-08-12 08:40:30.698 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)' with route pattern 'api/subjects/paged' is valid for the request path '/api/subjects/paged'
2025-08-12 08:40:30.700 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/paged'
2025-08-12 08:40:30.701 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:40:30.703 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:30.704 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:30.705 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:30.705 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:40:30.706 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:40:30.708 +07:00 [DBG] Authorization was successful.
2025-08-12 08:40:30.708 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:40:30.709 +07:00 [INF] Route matched with {action = "GetPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaged(Int32, Int32, System.String, System.Nullable`1[System.Int32]) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 08:40:30.711 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:40:30.713 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:40:30.715 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:40:30.716 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:40:30.717 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:40:30.719 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:40:30.720 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 08:40:30.721 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:40:30.722 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:40:30.724 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:30.726 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:30.727 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:40:30.729 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:30.730 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:40:30.732 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:40:30.734 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:30.735 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:30.736 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:40:30.738 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:30.740 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2025-08-12 08:40:30.741 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:30.743 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'keyword' of type 'System.String'.
2025-08-12 08:40:30.745 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:40:30.746 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2025-08-12 08:40:30.747 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2025-08-12 08:40:30.748 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2025-08-12 08:40:30.750 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:40:30.751 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-08-12 08:40:30.752 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:40:30.754 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:40:30.754 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:40:30.755 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-08-12 08:40:30.757 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-08-12 08:40:30.759 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:40:30.761 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:40:30.761 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:40:30.765 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:40:30.767 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:40:30.768 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:40:30.768 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:40:30.769 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:40:30.770 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:40:30.771 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI) in 52.5176ms
2025-08-12 08:40:30.774 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetPaged (StudentManagementAPI)'
2025-08-12 08:40:30.775 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:40:30.776 +07:00 [DBG] Disposing connection to database '' on server ''.
2025-08-12 08:40:30.777 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:40:30.779 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/subjects/paged?page=1&pageSize=5 - 200 null application/json; charset=utf-8 86.8762ms
2025-08-12 08:40:32.772 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - null null
2025-08-12 08:40:32.772 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-12 08:40:32.775 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:40:32.777 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:40:32.778 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:40:32.780 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:40:32.781 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:32.782 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:32.783 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:32.784 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:32.785 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:32.787 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:32.787 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:40:32.788 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:40:32.789 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - 204 null null 17.3998ms
2025-08-12 08:40:32.790 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 18.1757ms
2025-08-12 08:40:32.791 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - null null
2025-08-12 08:40:32.792 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:40:32.801 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:40:32.803 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:40:32.804 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-12 08:40:32.806 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:40:32.808 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:40:32.810 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:40:32.811 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:32.812 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:32.812 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:32.813 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:32.815 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:32.816 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:32.816 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:40:32.817 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:40:32.818 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:40:32.819 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:40:32.820 +07:00 [DBG] Authorization was successful.
2025-08-12 08:40:32.822 +07:00 [DBG] Authorization was successful.
2025-08-12 08:40:32.823 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:40:32.823 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:40:32.824 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 08:40:32.826 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 08:40:32.827 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:40:32.829 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:40:32.830 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:40:32.832 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:40:32.833 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:40:32.834 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:40:32.837 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:40:32.838 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:40:32.839 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:40:32.841 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:40:32.843 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:40:32.844 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:40:32.845 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:40:32.846 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:40:32.847 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:40:32.850 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:40:32.850 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:40:32.852 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:40:32.853 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:32.854 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:40:32.855 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:32.857 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:32.858 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:40:32.860 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:32.862 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:32.861 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:32.864 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:40:32.865 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:40:32.866 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:40:32.867 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:40:32.868 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:40:32.870 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:32.873 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:40:32.876 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:32.878 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:32.879 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:40:32.881 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:32.882 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:32.883 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:32.885 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:32.886 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:32.888 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:32.889 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-12 08:40:32.891 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:32.893 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:32.894 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:32.895 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:40:32.897 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:32.899 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:40:32.900 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:32.901 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:40:32.902 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:32.903 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:40:32.905 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:40:32.906 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:40:32.907 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:40:32.908 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:40:32.909 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:40:32.910 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:40:32.912 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:32.913 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 69.0166ms
2025-08-12 08:40:32.915 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:32.916 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:40:32.917 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:32.918 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:40:32.919 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:40:32.920 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:32.921 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - null null
2025-08-12 08:40:32.922 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:40:32.923 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:40:32.926 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:40:32.928 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:40:32.929 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 136.9536ms
2025-08-12 08:40:32.933 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:40:32.930 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:40:32.938 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:32.940 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:32.941 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:40:32.942 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:32.943 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:32.944 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:32.945 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:40:32.946 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:40:32.948 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:32.950 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - null null
2025-08-12 08:40:32.948 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - 204 null null 27.4487ms
2025-08-12 08:40:32.950 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:32.953 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:40:32.957 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:32.959 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)' with route pattern 'api/enrollments/search' is valid for the request path '/api/enrollments/search'
2025-08-12 08:40:32.960 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:40:32.961 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:32.962 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:40:32.963 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:32.964 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:40:32.965 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:32.968 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:40:32.969 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:32.971 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:32.972 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:40:32.973 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:40:32.974 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:40:32.975 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:32.976 +07:00 [DBG] Authorization was successful.
2025-08-12 08:40:32.977 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:40:32.978 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:32.979 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:40:32.981 +07:00 [INF] Route matched with {action = "SearchEnrollments", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchEnrollments(System.String, System.String, System.String, System.String) on controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI).
2025-08-12 08:40:32.983 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:40:32.985 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:40:32.985 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:40:32.987 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:40:32.988 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:40:32.990 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:40:32.991 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:40:32.992 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:40:32.994 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:40:32.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:40:32.997 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 154.1199ms
2025-08-12 08:40:32.999 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:40:33.000 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:40:33.002 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:40:33.002 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:40:33.004 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' ...
2025-08-12 08:40:33.005 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:33.006 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:33.007 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:40:33.009 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:33.010 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - 200 null application/json; charset=utf-8 219.1396ms
2025-08-12 08:40:33.012 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:33.016 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:33.017 +07:00 [DBG] Attempting to validate the bound parameter 'studentId' of type 'System.String' ...
2025-08-12 08:40:33.019 +07:00 [DBG] Done attempting to validate the bound parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:33.020 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:33.022 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:33.023 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:33.025 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:33.026 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:33.027 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:33.028 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:33.030 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:40:33.031 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' using the name 'semesterId' in request data ...
2025-08-12 08:40:33.032 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:33.034 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:33.035 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:40:33.037 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:33.038 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:40:33.040 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:33.041 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:33.043 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:33.044 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:33.046 +07:00 [DBG] Attempting to validate the bound parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:40:33.047 +07:00 [DBG] Done attempting to validate the bound parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:33.048 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:40:33.051 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:40:33.052 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:40:33.053 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:33.054 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:33.055 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:33.056 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:40:33.058 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:40:33.059 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:40:33.062 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:40:33.065 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:33.067 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:40:33.068 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:33.069 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:40:33.071 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:33.073 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:33.074 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:33.075 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:40:33.076 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:40:33.078 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:40:33.081 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:40:33.083 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.085 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.086 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.087 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.089 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.091 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.092 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.094 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.095 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.096 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.097 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.098 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.100 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.101 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.102 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.103 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.104 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.105 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.106 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.107 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.108 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.110 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.111 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.112 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.114 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.115 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.116 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.117 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.118 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.119 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.120 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.121 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.122 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.123 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.125 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.126 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.127 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.128 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.129 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.130 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.131 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.133 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.134 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.135 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.136 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.137 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.138 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.139 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.142 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.143 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.144 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:33.145 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:33.146 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 63ms reading results.
2025-08-12 08:40:33.148 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:33.149 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:40:33.150 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:40:33.152 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:40:33.152 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:40:33.153 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:40:33.154 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:40:33.155 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Enrollment.EnrollmentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:40:33.157 +07:00 [INF] Executed action StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI) in 158.0271ms
2025-08-12 08:40:33.158 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:33.159 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:40:33.160 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:33.161 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:40:33.163 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - 200 null application/json; charset=utf-8 212.9125ms
2025-08-12 08:40:37.646 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:40:37.650 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:40:37.652 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:40:37.653 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:40:37.655 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:37.656 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:37.657 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:37.658 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:40:37.659 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:40:37.660 +07:00 [DBG] Authorization was successful.
2025-08-12 08:40:37.660 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:40:37.662 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 08:40:37.664 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:40:37.665 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:40:37.666 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:40:37.669 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:40:37.672 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:40:37.673 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:40:37.676 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:40:37.678 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:40:37.680 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:40:37.681 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:40:37.682 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:37.683 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:37.685 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:37.686 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:40:37.687 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:40:37.688 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:40:37.693 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:40:37.696 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:37.698 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:37.700 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:37.701 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:37.702 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 08:40:37.704 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:37.705 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:40:37.706 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:40:37.708 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:40:37.709 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:40:37.710 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:40:37.711 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:40:37.712 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:40:37.714 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 40.4706ms
2025-08-12 08:40:37.715 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:40:37.717 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:40:37.718 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:37.719 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:40:37.720 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 74.0302ms
2025-08-12 08:40:40.756 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - null null
2025-08-12 08:40:40.756 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-12 08:40:40.759 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:40:40.763 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:40:40.764 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:40.764 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:40.762 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:40:40.766 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:40.768 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:40:40.768 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:40:40.769 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:40.770 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - 204 null null 14.7991ms
2025-08-12 08:40:40.771 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:40.773 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - null null
2025-08-12 08:40:40.776 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:40.778 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:40:40.780 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:40:40.781 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-12 08:40:40.781 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 25.3928ms
2025-08-12 08:40:40.783 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:40:40.787 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:40:40.788 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:40.791 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:40:40.791 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:40.792 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:40:40.794 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:40.795 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:40:40.796 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:40:40.797 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:40.797 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:40:40.798 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:40.800 +07:00 [DBG] Authorization was successful.
2025-08-12 08:40:40.801 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:40.802 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:40:40.803 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:40:40.804 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 08:40:40.805 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:40:40.807 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:40:40.808 +07:00 [DBG] Authorization was successful.
2025-08-12 08:40:40.809 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:40:40.810 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:40:40.811 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:40:40.812 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 08:40:40.813 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:40:40.816 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:40:40.817 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:40:40.818 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:40:40.820 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:40:40.821 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:40:40.823 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:40:40.824 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:40:40.825 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:40:40.827 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:40:40.829 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:40:40.830 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:40:40.831 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:40.833 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:40:40.834 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:40.836 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:40:40.837 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:40:40.839 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:40:40.839 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:40:40.840 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:40:40.841 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:40:40.843 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.844 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:40:40.845 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.846 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:40.847 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:40.849 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:40.850 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:40:40.851 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:40:40.852 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:40:40.853 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:40:40.854 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:40:40.856 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:40.860 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:40:40.861 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:40.864 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:40.865 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:40.866 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:40.867 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:40.868 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:40.869 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:40.871 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.871 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:40.873 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 9ms reading results.
2025-08-12 08:40:40.874 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:40.875 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.876 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:40:40.878 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:40:40.880 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:40:40.882 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:40:40.882 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 08:40:40.885 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:40:40.886 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.887 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:40:40.889 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.890 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:40:40.892 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:40.893 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:40:40.894 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:40:40.895 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:40:40.896 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:40:40.897 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 67.0331ms
2025-08-12 08:40:40.899 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:40:40.900 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:40:40.904 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:40:40.905 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:40:40.907 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.908 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - null null
2025-08-12 08:40:40.909 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.910 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:40:40.913 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:40:40.914 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:40:40.915 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.916 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:40:40.919 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 131.922ms
2025-08-12 08:40:40.920 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 08:40:40.921 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:40.926 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.927 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:40.928 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.928 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:40.930 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:40.930 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:40:40.931 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:40:40.932 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - 204 null null 24.5598ms
2025-08-12 08:40:40.934 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - null null
2025-08-12 08:40:40.934 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:40:40.938 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:40:40.940 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:40:40.941 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)' with route pattern 'api/enrollments/search' is valid for the request path '/api/enrollments/search'
2025-08-12 08:40:40.945 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:40.946 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:40.947 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:40.948 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:40.949 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:40:40.950 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:40:40.950 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:40:40.952 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.953 +07:00 [DBG] Authorization was successful.
2025-08-12 08:40:40.954 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:40:40.955 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:40.956 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.956 +07:00 [INF] Route matched with {action = "SearchEnrollments", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchEnrollments(System.String, System.String, System.String, System.String) on controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI).
2025-08-12 08:40:40.957 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:40:40.959 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:40:40.960 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:40:40.961 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:40:40.963 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:40:40.964 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:40:40.965 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:40:40.967 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:40:40.968 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:40:40.969 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:40:40.969 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:40:40.970 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:40:40.971 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:40:40.972 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:40:40.974 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 154.0948ms
2025-08-12 08:40:40.975 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' ...
2025-08-12 08:40:40.976 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:40:40.977 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:40.978 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:40:40.979 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:40.980 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:40.982 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:40.983 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:40:40.984 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:40.985 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - 200 null application/json; charset=utf-8 212.2435ms
2025-08-12 08:40:40.986 +07:00 [DBG] Attempting to validate the bound parameter 'studentId' of type 'System.String' ...
2025-08-12 08:40:40.990 +07:00 [DBG] Done attempting to validate the bound parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:40.991 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:40.992 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:40.993 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:40.994 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:40.995 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:40.996 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:40.998 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:40.999 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:40:41.000 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' using the name 'semesterId' in request data ...
2025-08-12 08:40:41.001 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:41.002 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:41.003 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:40:41.004 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:41.005 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:40:41.006 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:41.008 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:41.010 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:41.011 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:41.012 +07:00 [DBG] Attempting to validate the bound parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:40:41.013 +07:00 [DBG] Done attempting to validate the bound parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:41.014 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:40:41.017 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:40:41.017 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:40:41.018 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:41.019 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:41.020 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:41.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:40:41.022 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:40:41.023 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:40:41.028 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:40:41.030 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:41.031 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:40:41.033 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:41.034 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:40:41.035 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:41.037 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:41.038 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:41.039 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:40:41.040 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:40:41.041 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:40:41.050 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:40:41.053 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.054 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.055 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.057 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.058 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.059 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.060 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.061 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.062 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.063 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.064 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.065 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.066 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.067 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.068 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.069 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.070 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.072 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.073 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.074 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.075 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.076 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.077 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.078 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.079 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.080 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.081 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.082 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.083 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.085 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.086 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.087 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.089 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.090 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.092 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.094 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.095 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.097 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.099 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.101 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.103 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.105 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.107 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.108 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.109 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.110 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.111 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.112 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.114 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.115 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.116 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:41.117 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:41.118 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 64ms reading results.
2025-08-12 08:40:41.119 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:41.120 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:40:41.122 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:40:41.123 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:40:41.124 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:40:41.125 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:40:41.125 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:40:41.126 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Enrollment.EnrollmentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:40:41.128 +07:00 [INF] Executed action StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI) in 157.2329ms
2025-08-12 08:40:41.129 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:41.130 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:40:41.131 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:41.132 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:40:41.134 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - 200 null application/json; charset=utf-8 199.9441ms
2025-08-12 08:40:45.833 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=2&pageSize=10&semesterId=2 - null null
2025-08-12 08:40:45.836 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:40:45.837 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:40:45.838 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:45.839 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:45.840 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:45.841 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:40:45.841 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=2&pageSize=10&semesterId=2 - 204 null null 8.3731ms
2025-08-12 08:40:45.844 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/enrollments/search?page=2&pageSize=10&semesterId=2 - null null
2025-08-12 08:40:45.848 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:40:45.849 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)' with route pattern 'api/enrollments/search' is valid for the request path '/api/enrollments/search'
2025-08-12 08:40:45.851 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:45.852 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:45.853 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:45.854 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:45.854 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:40:45.855 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:40:45.857 +07:00 [DBG] Authorization was successful.
2025-08-12 08:40:45.858 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:45.859 +07:00 [INF] Route matched with {action = "SearchEnrollments", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchEnrollments(System.String, System.String, System.String, System.String) on controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI).
2025-08-12 08:40:45.860 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:40:45.862 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:40:45.863 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:40:45.865 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:40:45.866 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:40:45.868 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:40:45.869 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:40:45.871 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' ...
2025-08-12 08:40:45.872 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:45.874 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:45.875 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:45.876 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:45.878 +07:00 [DBG] Attempting to validate the bound parameter 'studentId' of type 'System.String' ...
2025-08-12 08:40:45.879 +07:00 [DBG] Done attempting to validate the bound parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:45.880 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:45.882 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:45.883 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:45.885 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:45.887 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:45.888 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:45.889 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:45.890 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:40:45.892 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' using the name 'semesterId' in request data ...
2025-08-12 08:40:45.894 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:45.895 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:45.896 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:40:45.897 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:45.899 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:40:45.900 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:45.901 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:45.903 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:45.904 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:45.905 +07:00 [DBG] Attempting to validate the bound parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:40:45.907 +07:00 [DBG] Done attempting to validate the bound parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:45.908 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:40:45.911 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:40:45.912 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:40:45.913 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:45.915 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:45.916 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:45.918 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:40:45.920 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:40:45.921 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:40:45.924 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:40:45.928 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:45.929 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:40:45.930 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:45.931 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:40:45.934 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:45.935 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:45.936 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:45.937 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:40:45.938 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:40:45.939 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:40:45.942 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:40:45.944 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.945 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.947 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.948 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.949 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.951 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.952 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.953 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.955 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.956 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.957 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.959 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.960 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.962 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.963 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.964 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.965 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.966 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.968 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.969 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.971 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.972 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.973 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.974 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.976 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.977 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.978 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.979 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.980 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.981 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.983 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.984 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.985 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.986 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.987 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.989 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.990 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.991 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.992 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.993 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.995 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.996 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.997 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.998 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:45.999 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:46.000 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:46.002 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:46.003 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:46.004 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:46.005 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:46.006 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:46.007 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:46.009 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 64ms reading results.
2025-08-12 08:40:46.010 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:46.011 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:40:46.012 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:40:46.014 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:40:46.015 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:40:46.015 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:40:46.017 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:40:46.018 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Enrollment.EnrollmentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:40:46.019 +07:00 [INF] Executed action StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI) in 150.9256ms
2025-08-12 08:40:46.021 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:46.022 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:40:46.023 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:46.025 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:40:46.026 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/enrollments/search?page=2&pageSize=10&semesterId=2 - 200 null application/json; charset=utf-8 182.8232ms
2025-08-12 08:40:52.372 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=4 - null null
2025-08-12 08:40:52.375 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:40:52.376 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:40:52.378 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:52.379 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:52.380 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:52.381 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:40:52.382 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=4 - 204 null null 10.5592ms
2025-08-12 08:40:52.384 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=4 - null null
2025-08-12 08:40:52.387 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:40:52.388 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)' with route pattern 'api/enrollments/search' is valid for the request path '/api/enrollments/search'
2025-08-12 08:40:52.390 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:52.391 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:40:52.392 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:40:52.393 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:40:52.394 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:40:52.395 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:40:52.396 +07:00 [DBG] Authorization was successful.
2025-08-12 08:40:52.397 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:52.398 +07:00 [INF] Route matched with {action = "SearchEnrollments", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchEnrollments(System.String, System.String, System.String, System.String) on controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI).
2025-08-12 08:40:52.400 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:40:52.401 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:40:52.402 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:40:52.405 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:40:52.406 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:40:52.408 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:40:52.409 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:40:52.410 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' ...
2025-08-12 08:40:52.412 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:52.413 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:52.415 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:52.416 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:52.417 +07:00 [DBG] Attempting to validate the bound parameter 'studentId' of type 'System.String' ...
2025-08-12 08:40:52.419 +07:00 [DBG] Done attempting to validate the bound parameter 'studentId' of type 'System.String'.
2025-08-12 08:40:52.421 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:52.422 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:52.423 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:52.425 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:52.426 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:52.427 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:40:52.428 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:40:52.430 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:40:52.431 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' using the name 'semesterId' in request data ...
2025-08-12 08:40:52.433 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:52.434 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:52.435 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:40:52.436 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.String'.
2025-08-12 08:40:52.438 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:40:52.439 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' using the name '' in request data ...
2025-08-12 08:40:52.440 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:52.442 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:52.443 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:52.444 +07:00 [DBG] Attempting to validate the bound parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:40:52.446 +07:00 [DBG] Done attempting to validate the bound parameter 'subjectName' of type 'System.String'.
2025-08-12 08:40:52.448 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:40:52.450 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:40:52.451 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:40:52.452 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:52.454 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:52.455 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:52.456 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:40:52.458 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:40:52.459 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:40:52.464 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:40:52.466 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:52.468 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:40:52.470 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:52.472 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:40:52.474 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:52.475 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:52.477 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:40:52.478 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:40:52.479 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:40:52.480 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:40:52.483 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:40:52.485 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.486 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.487 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.488 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.489 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.490 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.491 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.492 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.493 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.494 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.495 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.496 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.497 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.498 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.499 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.500 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.501 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:40:52.503 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:40:52.504 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 19ms reading results.
2025-08-12 08:40:52.505 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:52.506 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:40:52.507 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:40:52.510 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:40:52.510 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:40:52.511 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:40:52.511 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:40:52.512 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Enrollment.EnrollmentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:40:52.513 +07:00 [INF] Executed action StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI) in 105.6454ms
2025-08-12 08:40:52.514 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:40:52.516 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:40:52.517 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:40:52.518 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:40:52.519 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=4 - 200 null application/json; charset=utf-8 135.7448ms
2025-08-12 08:41:10.187 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/departments - null null
2025-08-12 08:41:10.192 +07:00 [DBG] 1 candidate(s) found for the request path '/api/departments'
2025-08-12 08:41:10.193 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:41:10.194 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:41:10.195 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:41:10.196 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:41:10.196 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:41:10.198 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/departments - 204 null null 10.5549ms
2025-08-12 08:41:10.200 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/departments - null null
2025-08-12 08:41:10.206 +07:00 [DBG] 1 candidate(s) found for the request path '/api/departments'
2025-08-12 08:41:10.207 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)' with route pattern 'api/departments' is valid for the request path '/api/departments'
2025-08-12 08:41:10.208 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)'
2025-08-12 08:41:10.209 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:41:10.210 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:41:10.211 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:41:10.212 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:41:10.213 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:41:10.214 +07:00 [DBG] Authorization was successful.
2025-08-12 08:41:10.215 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)'
2025-08-12 08:41:10.216 +07:00 [INF] Route matched with {action = "GetAll", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.DepartmentController (StudentManagementAPI).
2025-08-12 08:41:10.219 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:41:10.220 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:41:10.221 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:41:10.223 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:41:10.224 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:41:10.225 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.DepartmentController (StudentManagementAPI)
2025-08-12 08:41:10.227 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.DepartmentController (StudentManagementAPI)
2025-08-12 08:41:10.230 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:41:10.232 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:41:10.234 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:41:10.235 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:10.238 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:10.239 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:41:10.240 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:41:10.241 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:41:10.242 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Departments] AS [d]
LEFT JOIN [Students] AS [s] ON [d].[Id] = [s].[DepartmentId]
ORDER BY [d].[Id]
2025-08-12 08:41:10.246 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Departments] AS [d]
LEFT JOIN [Students] AS [s] ON [d].[Id] = [s].[DepartmentId]
ORDER BY [d].[Id]
2025-08-12 08:41:10.249 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:10.250 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:10.251 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:10.254 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:10.255 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:10.256 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:10.258 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:10.259 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:10.261 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:10.263 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:10.264 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:10.265 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:41:10.267 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 17ms reading results.
2025-08-12 08:41:10.269 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:10.270 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:41:10.272 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:41:10.275 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:41:10.276 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:41:10.277 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:41:10.278 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:41:10.279 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Department.DepartmentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:41:10.283 +07:00 [INF] Executed action StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI) in 58.2281ms
2025-08-12 08:41:10.286 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.DepartmentController.GetAll (StudentManagementAPI)'
2025-08-12 08:41:10.287 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:41:10.289 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:10.291 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:41:10.292 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/departments - 200 null application/json; charset=utf-8 92.3808ms
2025-08-12 08:41:11.300 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - null null
2025-08-12 08:41:11.303 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-12 08:41:11.304 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:41:11.307 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:41:11.308 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:41:11.310 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:41:11.311 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:41:11.312 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:41:11.313 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:41:11.313 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:41:11.314 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:41:11.316 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:41:11.317 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:41:11.318 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:41:11.319 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - 204 null null 19.4574ms
2025-08-12 08:41:11.320 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 16.6422ms
2025-08-12 08:41:11.321 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - null null
2025-08-12 08:41:11.321 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:41:11.329 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/students/paged'
2025-08-12 08:41:11.333 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:41:11.334 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)' with route pattern 'api/student/students/paged' is valid for the request path '/api/student/students/paged'
2025-08-12 08:41:11.335 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:41:11.337 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:41:11.339 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:41:11.340 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:41:11.341 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:41:11.342 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:41:11.343 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:41:11.345 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:41:11.347 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:41:11.347 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:41:11.348 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:41:11.349 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:41:11.350 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:41:11.352 +07:00 [DBG] Authorization was successful.
2025-08-12 08:41:11.354 +07:00 [DBG] Authorization was successful.
2025-08-12 08:41:11.354 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:41:11.355 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:41:11.356 +07:00 [INF] Route matched with {action = "GetPagedStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedStudents(Int32, Int32, System.String) on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 08:41:11.357 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 08:41:11.359 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:41:11.360 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:41:11.361 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:41:11.363 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:41:11.364 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:41:11.366 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:41:11.367 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:41:11.368 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:41:11.370 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:41:11.371 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:41:11.373 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:41:11.374 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:41:11.375 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 08:41:11.376 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:41:11.377 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2025-08-12 08:41:11.379 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:41:11.380 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2025-08-12 08:41:11.382 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:41:11.383 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:41:11.384 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:41:11.385 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2025-08-12 08:41:11.387 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.388 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2025-08-12 08:41:11.389 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.390 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2025-08-12 08:41:11.391 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:41:11.393 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:41:11.394 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:41:11.395 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-08-12 08:41:11.396 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:41:11.398 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:41:11.400 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:41:11.401 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:41:11.404 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:41:11.406 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-08-12 08:41:11.408 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.409 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-08-12 08:41:11.410 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.411 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:41:11.413 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.415 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:41:11.416 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.417 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:41:11.418 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-12 08:41:11.420 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:41:11.422 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.423 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:41:11.424 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:41:11.425 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:41:11.427 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:41:11.428 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:41:11.430 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:41:11.432 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:41:11.432 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:41:11.434 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:41:11.435 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:41:11.436 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:41:11.437 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:41:11.438 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.439 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:41:11.440 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.442 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 67.7934ms
2025-08-12 08:41:11.443 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:41:11.444 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:41:11.445 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:41:11.446 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:41:11.449 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - null null
2025-08-12 08:41:11.448 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:41:11.449 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.452 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:41:11.453 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:41:11.455 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-12 08:41:11.456 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:41:11.458 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Students] AS [s]
2025-08-12 08:41:11.461 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 139.4458ms
2025-08-12 08:41:11.462 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:41:11.464 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.468 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:41:11.469 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 08:41:11.470 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:41:11.471 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.472 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:41:11.473 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:41:11.474 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - 204 null null 24.6698ms
2025-08-12 08:41:11.476 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - null null
2025-08-12 08:41:11.476 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.481 +07:00 [DBG] 1 candidate(s) found for the request path '/api/enrollments/search'
2025-08-12 08:41:11.483 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.484 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)' with route pattern 'api/enrollments/search' is valid for the request path '/api/enrollments/search'
2025-08-12 08:41:11.485 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:41:11.487 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:41:11.488 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:41:11.489 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:41:11.490 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:41:11.491 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:41:11.492 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:41:11.493 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:41:11.496 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM (
    SELECT [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
    FROM [Students] AS [s]
    ORDER BY [s].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s0].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s0].[ProgramId] = [e].[Id]
ORDER BY [s0].[Id]
2025-08-12 08:41:11.497 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:41:11.499 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.499 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:41:11.500 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:41:11.501 +07:00 [DBG] Authorization was successful.
2025-08-12 08:41:11.503 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.504 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:41:11.505 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:41:11.506 +07:00 [INF] Route matched with {action = "SearchEnrollments", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchEnrollments(System.String, System.String, System.String, System.String) on controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI).
2025-08-12 08:41:11.507 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:41:11.509 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:41:11.511 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:41:11.512 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:41:11.513 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:41:11.515 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:41:11.516 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:41:11.518 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:41:11.519 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:41:11.520 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:41:11.521 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:41:11.522 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:41:11.523 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI) in 150.2919ms
2025-08-12 08:41:11.525 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.EnrollmentController (StudentManagementAPI)
2025-08-12 08:41:11.526 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetPagedStudents (StudentManagementAPI)'
2025-08-12 08:41:11.527 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' ...
2025-08-12 08:41:11.528 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:41:11.529 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.String' using the name '' in request data ...
2025-08-12 08:41:11.530 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.532 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentId' of type 'System.String'.
2025-08-12 08:41:11.534 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 08:41:11.536 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:41:11.538 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/students/paged?page=1&pageSize=1000 - 200 null application/json; charset=utf-8 216.5655ms
2025-08-12 08:41:11.539 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.String'.
2025-08-12 08:41:11.544 +07:00 [DBG] Attempting to validate the bound parameter 'studentId' of type 'System.String' ...
2025-08-12 08:41:11.546 +07:00 [DBG] Done attempting to validate the bound parameter 'studentId' of type 'System.String'.
2025-08-12 08:41:11.547 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:41:11.548 +07:00 [DBG] Attempting to bind parameter 'studentCode' of type 'System.String' using the name '' in request data ...
2025-08-12 08:41:11.550 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'studentCode' of type 'System.String'.
2025-08-12 08:41:11.552 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:41:11.553 +07:00 [DBG] Done attempting to bind parameter 'studentCode' of type 'System.String'.
2025-08-12 08:41:11.554 +07:00 [DBG] Attempting to validate the bound parameter 'studentCode' of type 'System.String' ...
2025-08-12 08:41:11.556 +07:00 [DBG] Done attempting to validate the bound parameter 'studentCode' of type 'System.String'.
2025-08-12 08:41:11.557 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:41:11.559 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.String' using the name 'semesterId' in request data ...
2025-08-12 08:41:11.561 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:41:11.562 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.String'.
2025-08-12 08:41:11.563 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.String' ...
2025-08-12 08:41:11.564 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.String'.
2025-08-12 08:41:11.566 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:41:11.567 +07:00 [DBG] Attempting to bind parameter 'subjectName' of type 'System.String' using the name '' in request data ...
2025-08-12 08:41:11.569 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'subjectName' of type 'System.String'.
2025-08-12 08:41:11.570 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:41:11.571 +07:00 [DBG] Done attempting to bind parameter 'subjectName' of type 'System.String'.
2025-08-12 08:41:11.573 +07:00 [DBG] Attempting to validate the bound parameter 'subjectName' of type 'System.String' ...
2025-08-12 08:41:11.574 +07:00 [DBG] Done attempting to validate the bound parameter 'subjectName' of type 'System.String'.
2025-08-12 08:41:11.576 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:41:11.578 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:41:11.579 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:41:11.580 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.581 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.583 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:41:11.584 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:41:11.585 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:41:11.586 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:41:11.589 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Enrollments] AS [e]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
WHERE [c].[SemesterId] = @__semesterId_Value_0
2025-08-12 08:41:11.592 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.594 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:41:11.595 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.597 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:41:11.598 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.600 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.601 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:41:11.602 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:41:11.603 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:41:11.604 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:41:11.606 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CourseClassId], [s0].[EnrollDate], [s0].[StudentId], [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id0], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM (
    SELECT [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [c].[Id] AS [Id0], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [c].[SemesterId] = @__semesterId_Value_0
    ORDER BY [e].[StudentId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s0]
INNER JOIN [Students] AS [s] ON [s0].[StudentId] = [s].[Id]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [s0].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [s0].[SemesterId] = [s2].[Id]
ORDER BY [s0].[StudentId]
2025-08-12 08:41:11.609 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.610 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.611 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.612 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.613 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.614 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.615 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.616 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.618 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.619 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.620 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.621 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.622 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.623 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.624 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.625 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.627 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.628 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.630 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.631 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.632 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.633 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.634 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.636 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.637 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.638 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.639 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.640 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.641 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.643 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.644 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.645 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.646 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.647 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.648 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.650 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.651 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.652 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.653 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.654 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.656 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.657 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.658 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.659 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.660 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.661 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.663 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.664 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.665 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.666 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.667 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:11.668 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.669 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 60ms reading results.
2025-08-12 08:41:11.671 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.672 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:41:11.673 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:41:11.675 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:41:11.675 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:41:11.676 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:41:11.677 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:41:11.678 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Enrollment.EnrollmentDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:41:11.679 +07:00 [INF] Executed action StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI) in 157.4835ms
2025-08-12 08:41:11.681 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.EnrollmentController.SearchEnrollments (StudentManagementAPI)'
2025-08-12 08:41:11.682 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:41:11.683 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:11.684 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:41:11.686 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/enrollments/search?page=1&pageSize=10&semesterId=2 - 200 null application/json; charset=utf-8 210.1876ms
2025-08-12 08:41:19.562 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-12 08:41:19.565 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:41:19.566 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:41:19.568 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:41:19.569 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:41:19.570 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:41:19.571 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:41:19.571 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 9.0511ms
2025-08-12 08:41:19.573 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-12 08:41:19.577 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:41:19.578 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-12 08:41:19.580 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:41:19.581 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:41:19.582 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:41:19.583 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:41:19.584 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 08:41:19.585 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:41:19.586 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-12 08:41:19.589 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:41:19.590 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:41:19.591 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:41:19.593 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:41:19.595 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:41:19.596 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:41:19.597 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:41:19.599 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:41:19.600 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-12 08:41:19.602 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 08:41:19.603 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:000000C9": started reading request body.
2025-08-12 08:41:19.605 +07:00 [DBG] Connection id "0HNEP7R4IS8US", Request id "0HNEP7R4IS8US:000000C9": done reading request body.
2025-08-12 08:41:19.606 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-12 08:41:19.607 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:41:19.609 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:41:19.610 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:41:19.611 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:41:19.613 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: teacher1
2025-08-12 08:41:19.614 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:41:19.616 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:41:19.617 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:41:19.618 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.619 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.620 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:41:19.621 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:41:19.623 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:41:19.624 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:41:19.628 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:41:19.631 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:19.632 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.634 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:41:19.635 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.637 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:41:19.639 +07:00 [INF] 🔓 Login successful for user: teacher1
2025-08-12 08:41:19.640 +07:00 [INF] ✅ Đăng nhập thành công cho user: teacher1
2025-08-12 08:41:19.641 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:41:19.644 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:41:19.644 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:41:19.645 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:41:19.646 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:41:19.647 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-12 08:41:19.649 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 52.8798ms
2025-08-12 08:41:19.652 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:41:19.653 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:41:19.654 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.656 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:41:19.659 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 85.9423ms
2025-08-12 08:41:19.686 +07:00 [DBG] Connection id "0HNEP7R4IS8VJ" accepted.
2025-08-12 08:41:19.688 +07:00 [DBG] Connection id "0HNEP7R4IS8VJ" started.
2025-08-12 08:41:19.689 +07:00 [DBG] Connection id "0HNEP7R4IS8VK" accepted.
2025-08-12 08:41:19.692 +07:00 [DBG] Connection id "0HNEP7R4IS8VK" started.
2025-08-12 08:41:19.694 +07:00 [DBG] Connection 0HNEP7R4IS8VJ established using the following protocol: "Tls13"
2025-08-12 08:41:19.696 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 08:41:19.698 +07:00 [DBG] Connection 0HNEP7R4IS8VK established using the following protocol: "Tls13"
2025-08-12 08:41:19.700 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 08:41:19.701 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 08:41:19.703 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 08:41:19.705 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:41:19.707 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 08:41:19.709 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:41:19.711 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:41:19.713 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:41:19.714 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:41:19.715 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:41:19.716 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:41:19.717 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:41:19.718 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:41:19.720 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:41:19.724 +07:00 [DBG] Authorization was successful.
2025-08-12 08:41:19.725 +07:00 [DBG] Authorization was successful.
2025-08-12 08:41:19.726 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:41:19.727 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:41:19.729 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:41:19.730 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:41:19.732 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:41:19.734 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:41:19.736 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:41:19.738 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:41:19.739 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:41:19.741 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:41:19.743 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:41:19.745 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:41:19.747 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:41:19.746 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:41:19.748 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:41:19.749 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:41:19.751 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:41:19.752 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:41:19.753 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:41:19.755 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:41:19.756 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:41:19.758 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:41:19.759 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:41:19.760 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 08:41:19.763 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:41:19.764 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.766 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:41:19.768 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.770 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:41:19.772 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:41:19.774 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:41:19.775 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:41:19.776 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:41:19.778 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:41:19.779 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:41:19.780 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:41:19.781 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:41:19.786 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:41:19.787 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:41:19.789 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:19.791 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:41:19.792 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:19.793 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:41:19.794 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:19.795 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.797 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.798 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.799 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-12 08:41:19.800 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:41:19.803 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.804 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:41:19.805 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:41:19.806 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-12 08:41:19.808 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:41:19.809 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:41:19.812 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:41:19.816 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:41:19.817 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:41:19.817 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:41:19.819 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.820 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:41:19.821 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 08:41:19.822 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 08:41:19.824 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.826 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 76.1414ms
2025-08-12 08:41:19.827 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:41:19.828 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:41:19.829 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.831 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:41:19.832 +07:00 [DBG] Connection id "0HNEP7R4IS8VJ" received FIN.
2025-08-12 08:41:19.833 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.834 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.835 +07:00 [DBG] Connection id "0HNEP7R4IS8VJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:41:19.836 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:41:19.838 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:41:19.839 +07:00 [DBG] Connection id "0HNEP7R4IS8VJ" disconnecting.
2025-08-12 08:41:19.840 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:41:19.842 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 145.6312ms
2025-08-12 08:41:19.845 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-12 08:41:19.848 +07:00 [DBG] Connection id "0HNEP7R4IS8VJ" stopped.
2025-08-12 08:41:19.849 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:41:19.855 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:41:19.857 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.859 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:41:19.860 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.861 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:41:19.863 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:41:19.866 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:41:19.867 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:41:19.867 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:41:19.868 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:41:19.869 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:41:19.871 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 122.3283ms
2025-08-12 08:41:19.872 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:41:19.874 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:41:19.874 +07:00 [DBG] Connection id "0HNEP7R4IS8VK" received FIN.
2025-08-12 08:41:19.875 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:19.876 +07:00 [DBG] Connection id "0HNEP7R4IS8VK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:41:19.877 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:41:19.879 +07:00 [DBG] Connection id "0HNEP7R4IS8VK" disconnecting.
2025-08-12 08:41:19.881 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 179.6341ms
2025-08-12 08:41:19.884 +07:00 [DBG] Connection id "0HNEP7R4IS8VK" stopped.
2025-08-12 08:41:22.970 +07:00 [DBG] Connection id "0HNEP7R4IS8VL" accepted.
2025-08-12 08:41:22.972 +07:00 [DBG] Connection id "0HNEP7R4IS8VL" started.
2025-08-12 08:41:22.977 +07:00 [DBG] Connection 0HNEP7R4IS8VL established using the following protocol: "Tls13"
2025-08-12 08:41:22.978 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 08:41:22.981 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 08:41:22.983 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 08:41:22.985 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:41:22.986 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:41:22.987 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:41:22.988 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:41:22.989 +07:00 [DBG] Authorization was successful.
2025-08-12 08:41:22.990 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:41:22.992 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:41:22.994 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:41:22.995 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:41:22.997 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:41:23.000 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:41:23.002 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:41:23.003 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:41:23.005 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:41:23.007 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:41:23.010 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:41:23.011 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:41:23.013 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:23.015 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:23.016 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:41:23.017 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:41:23.019 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:41:23.021 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:41:23.033 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:41:23.035 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.037 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.038 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.040 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.042 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.043 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.044 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.047 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.049 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.050 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.051 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.053 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.055 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.056 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.058 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.059 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.061 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.063 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.064 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.065 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.067 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.069 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.070 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.071 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.073 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.075 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.077 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.078 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.079 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.084 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.085 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.087 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.089 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.091 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.092 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.094 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.096 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.097 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.099 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.100 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.103 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.104 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.106 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.107 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.109 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.111 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.112 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.113 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.115 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.117 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.118 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.120 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.121 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.123 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.125 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.126 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.128 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.130 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.132 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.133 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.136 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.138 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.139 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.141 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.142 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:41:23.144 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:41:23.146 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 110ms reading results.
2025-08-12 08:41:23.147 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:23.149 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:41:23.151 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:41:23.154 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:41:23.154 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:41:23.155 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:41:23.156 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:41:23.158 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:41:23.160 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 156.8044ms
2025-08-12 08:41:23.161 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:41:23.162 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:41:23.163 +07:00 [DBG] Connection id "0HNEP7R4IS8VL" received FIN.
2025-08-12 08:41:23.164 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:41:23.165 +07:00 [DBG] Connection id "0HNEP7R4IS8VL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:41:23.167 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:41:23.168 +07:00 [DBG] Connection id "0HNEP7R4IS8VL" disconnecting.
2025-08-12 08:41:23.169 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 190.9593ms
2025-08-12 08:41:23.174 +07:00 [DBG] Connection id "0HNEP7R4IS8VL" stopped.
2025-08-12 08:46:43.465 +07:00 [DBG] Connection id "0HNEP7R4IS8VM" accepted.
2025-08-12 08:46:43.473 +07:00 [DBG] Connection id "0HNEP7R4IS8VM" started.
2025-08-12 08:46:43.474 +07:00 [DBG] Connection id "0HNEP7R4IS8VN" accepted.
2025-08-12 08:46:43.484 +07:00 [DBG] Connection 0HNEP7R4IS8VM established using the following protocol: "Tls13"
2025-08-12 08:46:43.487 +07:00 [DBG] Connection id "0HNEP7R4IS8VN" started.
2025-08-12 08:46:43.482 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-12 08:46:43.490 +07:00 [DBG] Connection id "0HNEP7R4IS8VO" accepted.
2025-08-12 08:46:43.491 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 08:46:43.497 +07:00 [DBG] Connection id "0HNEP7R4IS8VO" started.
2025-08-12 08:46:43.495 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:46:43.495 +07:00 [DBG] Connection 0HNEP7R4IS8VN established using the following protocol: "Tls13"
2025-08-12 08:46:43.499 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 08:46:43.501 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:46:43.503 +07:00 [DBG] Connection 0HNEP7R4IS8VO established using the following protocol: "Tls13"
2025-08-12 08:46:43.503 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 08:46:43.504 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 08:46:43.505 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:46:43.507 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 08:46:43.510 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:46:43.511 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 08:46:43.512 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:46:43.515 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 08:46:43.516 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:46:43.517 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:46:43.518 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:46:43.520 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 08:46:43.522 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:46:43.523 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:46:43.524 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:46:43.525 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:46:43.527 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:46:43.533 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:46:43.533 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:46:43.529 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 47.5293ms
2025-08-12 08:46:43.526 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:46:43.536 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:46:43.538 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:46:43.539 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:46:43.543 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:46:43.544 +07:00 [DBG] Authorization was successful.
2025-08-12 08:46:43.545 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:46:43.546 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:46:43.546 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:46:43.547 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:46:43.548 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:46:43.550 +07:00 [DBG] Authorization was successful.
2025-08-12 08:46:43.551 +07:00 [DBG] Authorization was successful.
2025-08-12 08:46:43.551 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:46:43.552 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:46:43.553 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:46:43.554 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:46:43.555 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:46:43.556 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:46:43.557 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:46:43.558 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:46:43.559 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:46:43.560 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:46:43.563 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:46:43.565 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:46:43.566 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:46:43.566 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:46:43.568 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:46:43.571 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:46:43.572 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:46:43.573 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:46:43.574 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:46:43.576 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:46:43.578 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:46:43.579 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2025-08-12 08:46:43.581 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:46:43.583 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:46:43.585 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:46:43.586 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-12 08:46:43.587 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:46:43.589 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:46:43.591 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:46:43.592 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 403 0 null 58.9829ms
2025-08-12 08:46:43.594 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:46:43.596 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:46:43.598 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:46:43.601 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:46:43.602 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:46:43.605 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:46:43.606 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:46:43.607 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:46:43.608 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 08:46:43.610 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:46:43.611 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:46:43.613 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.613 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 08:46:43.614 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:46:43.621 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.623 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:46:43.628 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.629 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:46:43.632 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.631 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:46:43.635 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:46:43.637 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:46:43.637 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-12 08:46:43.639 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:46:43.640 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:46:43.641 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-12 08:46:43.642 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:46:43.643 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-12 08:46:43.644 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:46:43.646 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:46:43.648 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:46:43.651 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:46:43.653 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:46:43.655 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:46:43.656 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.659 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:46:43.660 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.661 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 08:46:43.662 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.663 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.664 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.668 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:46:43.671 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 14ms reading results.
2025-08-12 08:46:43.686 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.685 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.689 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.691 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:46:43.692 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.693 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 08:46:43.695 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:46:43.697 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.698 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:46:43.700 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-12 08:46:43.701 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.704 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:46:43.705 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:46:43.706 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.707 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:46:43.710 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.711 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:46:43.712 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:46:43.713 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.713 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:46:43.715 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.717 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.718 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 08:46:43.719 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 08:46:43.720 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.722 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 136.8102ms
2025-08-12 08:46:43.724 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.725 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.726 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:46:43.727 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 08:46:43.729 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.730 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:46:43.731 +07:00 [DBG] Connection id "0HNEP7R4IS8VM" received FIN.
2025-08-12 08:46:43.732 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.733 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.734 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.735 +07:00 [DBG] Connection id "0HNEP7R4IS8VM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:46:43.737 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.738 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.739 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-12 08:46:43.740 +07:00 [DBG] Connection id "0HNEP7R4IS8VM" disconnecting.
2025-08-12 08:46:43.742 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:46:43.743 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.745 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 254.268ms
2025-08-12 08:46:43.747 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:46:43.748 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.752 +07:00 [DBG] Connection id "0HNEP7R4IS8VM" stopped.
2025-08-12 08:46:43.753 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-08-12 08:46:43.754 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.756 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:46:43.758 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.762 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.763 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:46:43.764 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.766 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.768 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.770 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.769 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:46:43.772 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.773 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.775 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.776 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:46:43.777 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.779 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:46:43.780 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.782 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:46:43.783 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.784 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:46:43.786 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.787 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:46:43.789 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.789 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:46:43.790 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.792 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:46:43.794 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.795 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 199.4126ms
2025-08-12 08:46:43.797 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.798 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:46:43.800 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.800 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:46:43.801 +07:00 [DBG] Connection id "0HNEP7R4IS8VN" received FIN.
2025-08-12 08:46:43.802 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.803 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.804 +07:00 [DBG] Connection id "0HNEP7R4IS8VN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:46:43.805 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.807 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:46:43.808 +07:00 [DBG] Connection id "0HNEP7R4IS8VN" disconnecting.
2025-08-12 08:46:43.809 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.810 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 307.2281ms
2025-08-12 08:46:43.813 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.817 +07:00 [DBG] Connection id "0HNEP7R4IS8VN" stopped.
2025-08-12 08:46:43.818 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.820 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.821 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.823 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.824 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.825 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.827 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.828 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.830 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.831 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.832 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.834 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.836 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.837 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.838 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.839 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.841 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.842 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.844 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.845 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.846 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.848 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.850 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.851 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.852 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.854 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.856 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.858 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.859 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:43.860 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.862 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 177ms reading results.
2025-08-12 08:46:43.864 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.865 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:46:43.866 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:46:43.870 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:46:43.871 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:46:43.871 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:46:43.872 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:46:43.873 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:46:43.875 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 280.5688ms
2025-08-12 08:46:43.877 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:46:43.878 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:46:43.879 +07:00 [DBG] Connection id "0HNEP7R4IS8VO" received FIN.
2025-08-12 08:46:43.880 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:43.881 +07:00 [DBG] Connection id "0HNEP7R4IS8VO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:46:43.882 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:46:43.884 +07:00 [DBG] Connection id "0HNEP7R4IS8VO" disconnecting.
2025-08-12 08:46:43.885 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 378.6815ms
2025-08-12 08:46:43.890 +07:00 [DBG] Connection id "0HNEP7R4IS8VO" stopped.
2025-08-12 08:46:54.186 +07:00 [DBG] Connection id "0HNEP7R4IS8VP" accepted.
2025-08-12 08:46:54.188 +07:00 [DBG] Connection id "0HNEP7R4IS8VP" started.
2025-08-12 08:46:54.188 +07:00 [DBG] Connection id "0HNEP7R4IS8VQ" accepted.
2025-08-12 08:46:54.190 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-12 08:46:54.191 +07:00 [DBG] Connection id "0HNEP7R4IS8VQ" started.
2025-08-12 08:46:54.194 +07:00 [DBG] Connection 0HNEP7R4IS8VP established using the following protocol: "Tls13"
2025-08-12 08:46:54.195 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:46:54.197 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 08:46:54.199 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:46:54.199 +07:00 [DBG] Connection id "0HNEP7R4IS8VR" accepted.
2025-08-12 08:46:54.199 +07:00 [DBG] Connection 0HNEP7R4IS8VQ established using the following protocol: "Tls13"
2025-08-12 08:46:54.210 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:46:54.209 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 08:46:54.211 +07:00 [DBG] Connection id "0HNEP7R4IS8VR" started.
2025-08-12 08:46:54.212 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 08:46:54.213 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:46:54.214 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 08:46:54.220 +07:00 [DBG] Connection 0HNEP7R4IS8VR established using the following protocol: "Tls13"
2025-08-12 08:46:54.220 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:46:54.222 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:46:54.224 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 08:46:54.227 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 08:46:54.228 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:46:54.229 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:46:54.232 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:46:54.235 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 08:46:54.238 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 48.1322ms
2025-08-12 08:46:54.240 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:46:54.237 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:46:54.239 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:46:54.240 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 08:46:54.247 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:46:54.248 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:46:54.249 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:46:54.251 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:46:54.252 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:46:54.252 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:46:54.253 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:46:54.254 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:46:54.255 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:46:54.256 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:46:54.257 +07:00 [DBG] Authorization was successful.
2025-08-12 08:46:54.258 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:46:54.259 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:46:54.260 +07:00 [DBG] Authorization was successful.
2025-08-12 08:46:54.260 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:46:54.261 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:46:54.262 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:46:54.262 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:46:54.263 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:46:54.264 +07:00 [DBG] Authorization was successful.
2025-08-12 08:46:54.265 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:46:54.266 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:46:54.268 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:46:54.269 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:46:54.269 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:46:54.271 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:46:54.272 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:46:54.273 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:46:54.274 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:46:54.275 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:46:54.276 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:46:54.278 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:46:54.279 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2025-08-12 08:46:54.280 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:46:54.282 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:46:54.283 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:46:54.283 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-12 08:46:54.285 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:46:54.287 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:46:54.288 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:46:54.289 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 403 0 null 49.34ms
2025-08-12 08:46:54.290 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:46:54.292 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:46:54.293 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:46:54.297 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:46:54.298 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:46:54.300 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:46:54.301 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:46:54.302 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:46:54.303 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:46:54.304 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:46:54.306 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:46:54.308 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:46:54.309 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:46:54.309 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 08:46:54.311 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:46:54.312 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:46:54.313 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.314 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:46:54.316 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:46:54.317 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.318 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 08:46:54.319 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:46:54.321 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:46:54.322 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.323 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:46:54.324 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:46:54.325 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.327 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:46:54.328 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 08:46:54.329 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:46:54.330 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:46:54.331 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:46:54.332 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:46:54.336 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:46:54.333 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:46:54.338 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-12 08:46:54.340 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.342 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:46:54.343 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:46:54.344 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.349 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:46:54.345 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:46:54.350 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.352 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.354 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:46:54.355 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.356 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.357 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 08:46:54.358 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 17ms reading results.
2025-08-12 08:46:54.359 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.360 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.362 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.363 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.365 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.366 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 08:46:54.367 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.369 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:46:54.370 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:46:54.371 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.372 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:46:54.373 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:46:54.374 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.376 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 08:46:54.377 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:46:54.378 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.379 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:46:54.379 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:46:54.380 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.385 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:46:54.384 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:46:54.387 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.388 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 08:46:54.390 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.391 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.403 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 110.9906ms
2025-08-12 08:46:54.404 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 13ms reading results.
2025-08-12 08:46:54.405 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.406 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:46:54.408 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.409 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.410 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:46:54.411 +07:00 [DBG] Connection id "0HNEP7R4IS8VP" received FIN.
2025-08-12 08:46:54.412 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 08:46:54.413 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.414 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.415 +07:00 [DBG] Connection id "0HNEP7R4IS8VP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:46:54.417 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.419 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.420 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-12 08:46:54.421 +07:00 [DBG] Connection id "0HNEP7R4IS8VP" disconnecting.
2025-08-12 08:46:54.423 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.426 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.428 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 230.9638ms
2025-08-12 08:46:54.431 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:46:54.432 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.435 +07:00 [DBG] Connection id "0HNEP7R4IS8VP" stopped.
2025-08-12 08:46:54.437 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:46:54.438 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.441 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-12 08:46:54.443 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.445 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:46:54.447 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.449 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:46:54.450 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.452 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.453 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.454 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:46:54.455 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.457 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.459 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.460 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 08:46:54.461 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.463 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:46:54.464 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.467 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:46:54.468 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.469 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:46:54.470 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.471 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:46:54.476 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.478 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:46:54.479 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.482 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:46:54.484 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.487 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 189.4287ms
2025-08-12 08:46:54.488 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.490 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:46:54.491 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.493 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:46:54.494 +07:00 [DBG] Connection id "0HNEP7R4IS8VQ" received FIN.
2025-08-12 08:46:54.495 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.496 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.497 +07:00 [DBG] Connection id "0HNEP7R4IS8VQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:46:54.498 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.500 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 08:46:54.501 +07:00 [DBG] Connection id "0HNEP7R4IS8VQ" disconnecting.
2025-08-12 08:46:54.502 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.504 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 291.58ms
2025-08-12 08:46:54.506 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.510 +07:00 [DBG] Connection id "0HNEP7R4IS8VQ" stopped.
2025-08-12 08:46:54.511 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.512 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.513 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.515 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.516 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.517 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.518 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.519 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.520 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.522 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.523 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.524 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.525 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.526 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.527 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.529 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.530 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.531 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.532 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.533 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.534 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.535 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.537 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.538 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.539 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.540 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.541 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.543 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:46:54.544 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.545 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 192ms reading results.
2025-08-12 08:46:54.546 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.547 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:46:54.548 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:46:54.551 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:46:54.552 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:46:54.552 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:46:54.553 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:46:54.555 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:46:54.556 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 253.0688ms
2025-08-12 08:46:54.558 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:46:54.559 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:46:54.559 +07:00 [DBG] Connection id "0HNEP7R4IS8VR" received FIN.
2025-08-12 08:46:54.560 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:46:54.561 +07:00 [DBG] Connection id "0HNEP7R4IS8VR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:46:54.562 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:46:54.564 +07:00 [DBG] Connection id "0HNEP7R4IS8VR" disconnecting.
2025-08-12 08:46:54.565 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 338.393ms
2025-08-12 08:46:54.569 +07:00 [DBG] Connection id "0HNEP7R4IS8VR" stopped.
2025-08-12 08:49:36.867 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-12 08:49:37.081 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-12 08:49:37.462 +07:00 [DBG] The index {'StudentId'} was not created on entity type 'Enrollment' as the properties are already covered by the index {'StudentId', 'CourseClassId'}.
2025-08-12 08:49:37.620 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:49:37.637 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:49:37.665 +07:00 [DBG] Created DbConnection. (26ms).
2025-08-12 08:49:37.673 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:49:37.881 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:49:37.887 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-12 08:49:37.893 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2025-08-12 08:49:37.896 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2025-08-12 08:49:37.903 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-12 08:49:37.924 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-12 08:49:37.929 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:49:37.936 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-12 08:49:37.939 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-12 08:49:37.941 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-08-12 08:49:37.942 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-08-12 08:49:37.944 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:49:37.946 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:49:37.948 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-12 08:49:37.968 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-12 08:49:37.970 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:49:37.972 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:49:37.974 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:49:37.977 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:49:37.980 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:49:37.986 +07:00 [DBG] Hosting starting
2025-08-12 08:49:38.006 +07:00 [INF] User profile is available. Using 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 08:49:38.018 +07:00 [DBG] Reading data from file 'C:\Users\phamv\AppData\Local\ASP.NET\DataProtection-Keys\key-0dd40cb8-c696-42e2-b5ed-86cb04ecae42.xml'.
2025-08-12 08:49:38.039 +07:00 [DBG] Found key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42}.
2025-08-12 08:49:38.048 +07:00 [DBG] Considering key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} with expiration date 2025-09-17 12:16:10Z as default key.
2025-08-12 08:49:38.053 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 08:49:38.056 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-12 08:49:38.058 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-12 08:49:38.061 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-12 08:49:38.063 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-12 08:49:38.068 +07:00 [DBG] Using key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} as the default key.
2025-08-12 08:49:38.070 +07:00 [DBG] Key ring with default key {0dd40cb8-c696-42e2-b5ed-86cb04ecae42} was loaded during application startup.
2025-08-12 08:49:38.230 +07:00 [INF] Now listening on: https://localhost:7172
2025-08-12 08:49:38.232 +07:00 [INF] Now listening on: http://localhost:5117
2025-08-12 08:49:38.233 +07:00 [DBG] Loaded hosting startup assembly StudentManagementAPI
2025-08-12 08:49:38.234 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-12 08:49:38.235 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-12 08:49:38.236 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-12 08:49:38.246 +07:00 [DBG] Connection id "0HNEP89VK0AS8" accepted.
2025-08-12 08:49:38.248 +07:00 [DBG] Connection id "0HNEP89VK0AS8" started.
2025-08-12 08:49:38.254 +07:00 [DBG] Connection id "0HNEP89VK0AS9" received FIN.
2025-08-12 08:49:38.254 +07:00 [DBG] Connection id "0HNEP89VK0AS8" received FIN.
2025-08-12 08:49:38.261 +07:00 [DBG] Connection id "0HNEP89VK0AS9" accepted.
2025-08-12 08:49:38.264 +07:00 [DBG] Connection id "0HNEP89VK0AS9" started.
2025-08-12 08:49:38.273 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-12 08:49:38.273 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-08-12 08:49:38.297 +07:00 [DBG] Connection id "0HNEP89VK0AS9" stopped.
2025-08-12 08:49:38.297 +07:00 [DBG] Connection id "0HNEP89VK0AS8" stopped.
2025-08-12 08:49:38.302 +07:00 [DBG] Connection id "0HNEP89VK0AS9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:49:38.302 +07:00 [DBG] Connection id "0HNEP89VK0AS8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:49:38.369 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 08:49:38.371 +07:00 [INF] Hosting environment: Development
2025-08-12 08:49:38.373 +07:00 [INF] Content root path: C:\Users\phamv\OneDrive\Desktop\test\StudentManagement\StudentManagementAPI\StudentManagementAPI
2025-08-12 08:49:38.375 +07:00 [DBG] Hosting started
2025-08-12 08:49:38.426 +07:00 [DBG] Connection id "0HNEP89VK0ASA" accepted.
2025-08-12 08:49:38.428 +07:00 [DBG] Connection id "0HNEP89VK0ASA" started.
2025-08-12 08:49:38.464 +07:00 [DBG] Connection 0HNEP89VK0ASA established using the following protocol: "Tls13"
2025-08-12 08:49:38.531 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/index.html - null null
2025-08-12 08:49:38.627 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-12 08:49:38.652 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-12 08:49:38.654 +07:00 [DBG] Request did not match any endpoints
2025-08-12 08:49:38.695 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-12 08:49:38.698 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-12 08:49:38.716 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-12 08:49:38.717 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-12 08:49:38.722 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/index.html - 200 null text/html;charset=utf-8 200.7771ms
2025-08-12 08:49:38.758 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_vs/browserLink - null null
2025-08-12 08:49:38.759 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 08:49:38.780 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 22.1421ms
2025-08-12 08:49:38.813 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.6908ms
2025-08-12 08:49:38.922 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - null null
2025-08-12 08:49:38.924 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-12 08:49:38.926 +07:00 [DBG] Request did not match any endpoints
2025-08-12 08:49:38.976 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.6054ms
2025-08-12 08:49:51.131 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/auth/login - application/json 57
2025-08-12 08:49:51.141 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-08-12 08:49:51.144 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-08-12 08:49:51.147 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:49:51.151 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:49:51.153 +07:00 [DBG] The request has an origin header: 'https://localhost:7172'.
2025-08-12 08:49:51.155 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:49:51.236 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 08:49:51.244 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:49:51.271 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-12 08:49:51.275 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:49:51.277 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:49:51.279 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:49:51.282 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:49:51.284 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:49:51.290 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:49:51.316 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:49:51.328 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:49:51.333 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-12 08:49:51.336 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 08:49:51.344 +07:00 [DBG] Connection id "0HNEP89VK0ASA", Request id "0HNEP89VK0ASA:00000009": started reading request body.
2025-08-12 08:49:51.345 +07:00 [DBG] Connection id "0HNEP89VK0ASA", Request id "0HNEP89VK0ASA:00000009": done reading request body.
2025-08-12 08:49:51.356 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-12 08:49:51.359 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:49:51.360 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:49:51.363 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:49:51.381 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:49:51.385 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: teacher1
2025-08-12 08:49:51.429 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:49:51.468 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2025-08-12 08:49:51.719 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FullName (string) Required, 2], [Property: User.PasswordHash (string) Required, 3], [Property: User.Phone (string), 4], [Property: User.Role (string) Required, 5], [Property: User.Username (string) Required, 6] }
            SELECT TOP(1) u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<FullName>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<Role>k__BackingField = dataReader.GetString(5);
                                    instance.<Username>k__BackingField = dataReader.GetString(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 08:49:51.756 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:49:51.759 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 08:49:51.762 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:49:51.765 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:49:51.767 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:49:51.769 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:49:51.773 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:49:51.776 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:49:51.811 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:49:51.861 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:49:51.885 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:49:51.889 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 73ms reading results.
2025-08-12 08:49:51.893 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:49:51.895 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:49:51.897 +07:00 [INF] 🔓 Login successful for user: teacher1
2025-08-12 08:49:51.921 +07:00 [INF] ✅ Đăng nhập thành công cho user: teacher1
2025-08-12 08:49:51.925 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:49:51.930 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:49:51.931 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:49:51.933 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:49:51.935 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:49:51.937 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-12 08:49:51.946 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 654.5253ms
2025-08-12 08:49:51.949 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:49:51.952 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:49:51.956 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:49:51.958 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:49:51.960 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/auth/login - 200 null application/json; charset=utf-8 828.8159ms
2025-08-12 08:50:11.809 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:50:11.814 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:50:11.816 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:50:11.819 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:50:11.820 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:50:11.853 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:50:11.858 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:50:11.866 +07:00 [DBG] Authorization was successful.
2025-08-12 08:50:11.867 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:50:11.873 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 08:50:11.875 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:50:11.877 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:50:11.878 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:50:11.881 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:50:11.883 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:50:11.885 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:50:12.003 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:50:12.056 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:50:12.062 +07:00 [DBG] Compiling query expression: 
'DbSet<Semester>()
    .OrderByDescending(s => s.StartDate)'
2025-08-12 08:50:12.071 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Semester>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.EndDate (DateTime) Required, 1], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 2], [Property: Semester.Name (string) Required, 3], [Property: Semester.StartDate (DateTime) Required, 4] }
        SELECT s.Id, s.EndDate, s.IsOpen, s.Name, s.StartDate
        FROM Semesters AS s
        ORDER BY s.StartDate DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.EndDate (DateTime) Required, 1], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 2], [Property: Semester.Name (string) Required, 3], [Property: Semester.StartDate (DateTime) Required, 4] }
        SELECT s.Id, s.EndDate, s.IsOpen, s.Name, s.StartDate
        FROM Semesters AS s
        ORDER BY s.StartDate DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Semester instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Semester);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Semester)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Semester")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(1);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(2);
                                instance.<Name>k__BackingField = dataReader.GetString(3);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:50:12.076 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:50:12.077 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 08:50:12.079 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:12.080 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:12.082 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:50:12.083 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:50:12.085 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:50:12.086 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:50:12.096 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:50:12.106 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:12.118 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:12.123 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:12.125 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:50:12.127 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 27ms reading results.
2025-08-12 08:50:12.129 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:12.132 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:50:12.149 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:50:12.152 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:50:12.153 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:50:12.154 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:50:12.155 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:50:12.157 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:50:12.164 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 278.7095ms
2025-08-12 08:50:12.166 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:50:12.167 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:50:12.169 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:12.170 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:50:12.172 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 363.0914ms
2025-08-12 08:50:40.286 +07:00 [DBG] Connection id "0HNEP89VK0ASB" accepted.
2025-08-12 08:50:40.288 +07:00 [DBG] Connection id "0HNEP89VK0ASB" started.
2025-08-12 08:50:40.294 +07:00 [DBG] Connection 0HNEP89VK0ASB established using the following protocol: "Tls13"
2025-08-12 08:50:40.299 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-12 08:50:40.308 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:50:40.310 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:50:40.313 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:50:40.315 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:50:40.316 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:50:40.318 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:50:40.320 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 21.5355ms
2025-08-12 08:50:40.322 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-12 08:50:40.327 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 08:50:40.328 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-12 08:50:40.330 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:50:40.331 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:50:40.332 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:50:40.333 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:50:40.337 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:50:40.339 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:50:40.341 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:50:40.343 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-12 08:50:40.345 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:50:40.347 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:50:40.349 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:50:40.351 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:50:40.353 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:50:40.355 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:50:40.358 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 08:50:40.360 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:50:40.362 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-12 08:50:40.364 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 08:50:40.365 +07:00 [DBG] Connection id "0HNEP89VK0ASB", Request id "0HNEP89VK0ASB:00000003": started reading request body.
2025-08-12 08:50:40.368 +07:00 [DBG] Connection id "0HNEP89VK0ASB", Request id "0HNEP89VK0ASB:00000003": done reading request body.
2025-08-12 08:50:40.370 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-12 08:50:40.371 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:50:40.372 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:50:40.375 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 08:50:40.377 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 08:50:40.379 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: teacher1
2025-08-12 08:50:40.381 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:50:40.387 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:50:40.388 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:50:40.390 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.391 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.393 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:50:40.395 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:50:40.396 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:50:40.398 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:50:40.404 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 08:50:40.406 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:40.409 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.410 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 08:50:40.412 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.414 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:50:40.416 +07:00 [INF] 🔓 Login successful for user: teacher1
2025-08-12 08:50:40.418 +07:00 [INF] ✅ Đăng nhập thành công cho user: teacher1
2025-08-12 08:50:40.419 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:50:40.421 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:50:40.423 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:50:40.424 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:50:40.425 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:50:40.426 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-12 08:50:40.427 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 72.0128ms
2025-08-12 08:50:40.430 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 08:50:40.431 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:50:40.433 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.434 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:50:40.437 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 115.4056ms
2025-08-12 08:50:40.542 +07:00 [DBG] Connection id "0HNEP89VK0ASC" accepted.
2025-08-12 08:50:40.543 +07:00 [DBG] Connection id "0HNEP89VK0ASC" started.
2025-08-12 08:50:40.544 +07:00 [DBG] Connection id "0HNEP89VK0ASD" accepted.
2025-08-12 08:50:40.546 +07:00 [DBG] Connection id "0HNEP89VK0ASD" started.
2025-08-12 08:50:40.550 +07:00 [DBG] Connection 0HNEP89VK0ASC established using the following protocol: "Tls13"
2025-08-12 08:50:40.552 +07:00 [DBG] Connection 0HNEP89VK0ASD established using the following protocol: "Tls13"
2025-08-12 08:50:40.557 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 08:50:40.557 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 08:50:40.561 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 08:50:40.564 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:50:40.565 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 08:50:40.566 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:50:40.568 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 08:50:40.570 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:50:40.572 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:50:40.574 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:50:40.575 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:50:40.578 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:50:40.579 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:50:40.579 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:50:40.580 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:50:40.583 +07:00 [DBG] Authorization was successful.
2025-08-12 08:50:40.584 +07:00 [DBG] Authorization was successful.
2025-08-12 08:50:40.585 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:50:40.586 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:50:40.591 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:50:40.593 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:50:40.594 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:50:40.596 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:50:40.598 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:50:40.600 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:50:40.603 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:50:40.605 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:50:40.609 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:50:40.612 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:50:40.613 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:50:40.615 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:50:40.617 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:50:40.618 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:50:40.620 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:50:40.622 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:50:40.627 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:50:40.628 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:50:40.632 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:50:40.634 +07:00 [DBG] Compiling query expression: 
'DbSet<Teacher>()
    .Include(t => t.User)
    .FirstOrDefault(t => t.Id == __id_0)'
2025-08-12 08:50:40.638 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:50:40.641 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:50:40.643 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:50:40.646 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:50:40.648 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-12 08:50:40.648 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:50:40.651 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:50:40.653 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:50:40.656 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:50:40.661 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:50:40.665 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .Where(n => n.TargetRole == __role_0 || n.TargetRole == "All")
    .OrderByDescending(n => n.Id)
    .Count()'
2025-08-12 08:50:40.685 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All'), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 08:50:40.698 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:50:40.700 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 08:50:40.702 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.704 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.706 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:50:40.707 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:50:40.708 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:50:40.709 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Teacher>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Teacher>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Teacher.Degree (string) Required, 1], [Property: Teacher.TeacherCode (string) Required, 2] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: User.Email (string), 4], [Property: User.FullName (string) Required, 5], [Property: User.PasswordHash (string) Required, 6], [Property: User.Phone (string), 7], [Property: User.Role (string) Required, 8], [Property: User.Username (string) Required, 9] }
            SELECT TOP(1) t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Teachers AS t
            INNER JOIN Users AS u ON t.Id == u.Id
            WHERE t.Id == @__id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Teacher.Degree (string) Required, 1], [Property: Teacher.TeacherCode (string) Required, 2] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: User.Email (string), 4], [Property: User.FullName (string) Required, 5], [Property: User.PasswordHash (string) Required, 6], [Property: User.Phone (string), 7], [Property: User.Role (string) Required, 8], [Property: User.Username (string) Required, 9] }
            SELECT TOP(1) t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
            FROM Teachers AS t
            INNER JOIN Users AS u ON t.Id == u.Id
            WHERE t.Id == @__id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Teacher entity;
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Teacher instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Teacher);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Teacher.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Teacher)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                            {
                                return 
                                {
                                    Teacher instance;
                                    instance = new Teacher();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Degree>k__BackingField = dataReader.GetString(1);
                                    instance.<TeacherCode>k__BackingField = dataReader.GetString(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Teacher)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                User instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(User);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(3) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (User)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("User")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(3);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<FullName>k__BackingField = dataReader.GetString(5);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(6);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<Role>k__BackingField = dataReader.GetString(8);
                                    instance.<Username>k__BackingField = dataReader.GetString(9);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<User>k__BackingField = namelessParameter{9};
                    return namelessParameter{9}.<Teacher>k__BackingField = namelessParameter{8};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 08:50:40.710 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:50:40.716 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:50:40.717 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:50:40.719 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:50:40.719 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.726 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.734 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 11ms reading results.
2025-08-12 08:50:40.736 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.739 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:50:40.746 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.749 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:50:40.750 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:50:40.752 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:50:40.754 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:50:40.760 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:50:40.766 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:40.775 +07:00 [DBG] Compiling query expression: 
'DbSet<Notification>()
    .Include(n => n.Creator)
    .Where(n => n.TargetRole == __role_0 || n.TargetRole == "All")
    .OrderByDescending(n => n.Id)
    .Skip(__p_1)
    .Take(__p_2)
    .Select(dtoNotification => new NotificationDto{ 
        Id = dtoNotification.Id, 
        Title = dtoNotification.Title, 
        Content = dtoNotification.Content, 
        CreatorName = dtoNotification.Creator != null ? dtoNotification.Creator.FullName : "", 
        CreatedAt = dtoNotification.CreatedAt, 
        TargetRole = dtoNotification.TargetRole 
    }
    )'
2025-08-12 08:50:40.788 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:40.791 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:40.794 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.795 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 32ms reading results.
2025-08-12 08:50:40.797 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.798 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:50:40.803 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:50:40.806 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:50:40.807 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:50:40.808 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:50:40.809 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:50:40.810 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 08:50:40.815 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 198.2198ms
2025-08-12 08:50:40.815 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<NotificationDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')
            ORDER BY n.Id DESC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            Id -> 0
            Title -> 1
            Content -> 2
            CreatorName -> 3
            CreatedAt -> 4
            TargetRole -> 5
        SELECT n0.Id, n0.Title, n0.Content, CASE
            WHEN u.Id != NULL THEN u.FullName
            ELSE N''
        END AS CreatorName, n0.CreatedAt, n0.TargetRole
        FROM 
        (
            SELECT n.Id, n.Content, n.CreatedAt, n.CreatedBy, n.TargetRole, n.Title
            FROM Notifications AS n
            WHERE (n.TargetRole == @__role_0) || (n.TargetRole == N'All')
            ORDER BY n.Id DESC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS n0
        INNER JOIN Users AS u ON n0.CreatedBy == u.Id
        ORDER BY n0.Id DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        string value3;
        string value4;
        DateTime? value5;
        string value6;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.GetString(2);
        value4 = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
        value5 = (DateTime?)dataReader.GetDateTime(4);
        value6 = dataReader.GetString(5);
        return new NotificationDto{ 
            Id = (int)value1, 
            Title = value2, 
            Content = value3, 
            CreatorName = value4, 
            CreatedAt = (DateTime)value5, 
            TargetRole = value6 
        }
        ;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:50:40.818 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:50:40.821 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:50:40.822 +07:00 [DBG] Connection id "0HNEP89VK0ASC" received FIN.
2025-08-12 08:50:40.823 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.824 +07:00 [DBG] Connection id "0HNEP89VK0ASC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:50:40.826 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 08:50:40.826 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.828 +07:00 [DBG] Connection id "0HNEP89VK0ASC" disconnecting.
2025-08-12 08:50:40.829 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 272.483ms
2025-08-12 08:50:40.830 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.836 +07:00 [DBG] Connection id "0HNEP89VK0ASC" stopped.
2025-08-12 08:50:40.836 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:50:40.840 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:50:40.841 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:50:40.842 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:50:40.847 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:50:40.851 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.853 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 08:50:40.855 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.856 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:50:40.858 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:50:40.861 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:50:40.862 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:50:40.863 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:50:40.864 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:50:40.865 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:50:40.871 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 252.4797ms
2025-08-12 08:50:40.873 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:50:40.875 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:50:40.876 +07:00 [DBG] Connection id "0HNEP89VK0ASD" received FIN.
2025-08-12 08:50:40.877 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:40.878 +07:00 [DBG] Connection id "0HNEP89VK0ASD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:50:40.880 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 08:50:40.882 +07:00 [DBG] Connection id "0HNEP89VK0ASD" disconnecting.
2025-08-12 08:50:40.884 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 326.8796ms
2025-08-12 08:50:40.889 +07:00 [DBG] Connection id "0HNEP89VK0ASD" stopped.
2025-08-12 08:50:42.688 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-12 08:50:42.691 +07:00 [DBG] Connection id "0HNEP89VK0ASE" accepted.
2025-08-12 08:50:42.691 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:50:42.692 +07:00 [DBG] Connection id "0HNEP89VK0ASE" started.
2025-08-12 08:50:42.694 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:50:42.697 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:50:42.698 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:50:42.699 +07:00 [DBG] Connection 0HNEP89VK0ASE established using the following protocol: "Tls13"
2025-08-12 08:50:42.700 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:50:42.702 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 08:50:42.702 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:50:42.705 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 08:50:42.706 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 19.3545ms
2025-08-12 08:50:42.708 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 08:50:42.709 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:50:42.715 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:50:42.718 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:50:42.719 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:50:42.721 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:50:42.722 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:50:42.724 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:50:42.725 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:50:42.726 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:50:42.729 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:50:42.730 +07:00 [DBG] Authorization was successful.
2025-08-12 08:50:42.731 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:50:42.732 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:50:42.733 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:50:42.736 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:50:42.738 +07:00 [DBG] Authorization was successful.
2025-08-12 08:50:42.738 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:50:42.739 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:50:42.741 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:50:42.743 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 08:50:42.745 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:50:42.750 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:50:42.752 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:50:42.753 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:50:42.755 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:50:42.757 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:50:42.759 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:50:42.761 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:50:42.763 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:50:42.765 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:50:42.767 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:50:42.768 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:50:42.776 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:50:42.779 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:50:42.781 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:50:42.782 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:50:42.785 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 08:50:42.786 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:42.786 +07:00 [DBG] Compiling query expression: 
'DbSet<Score>()
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.Student)
    .ThenInclude(st => st.User)
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.CourseClass)
    .ThenInclude(c => c.Subject)
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.CourseClass)
    .ThenInclude(c => c.Semester)
    .Where(s => s.Enrollment.CourseClass.TeacherId == __teacherId_0)'
2025-08-12 08:50:42.787 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:42.791 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:50:42.793 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:50:42.793 +07:00 [DBG] Including navigation: 'Score.Enrollment'.
2025-08-12 08:50:42.794 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:50:42.796 +07:00 [DBG] Including navigation: 'Enrollment.Student'.
2025-08-12 08:50:42.797 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:50:42.800 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-12 08:50:42.804 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-12 08:50:42.805 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:50:42.812 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-12 08:50:42.813 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.815 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-12 08:50:42.816 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.819 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.820 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:50:42.822 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 8ms reading results.
2025-08-12 08:50:42.824 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:42.826 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:50:42.828 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:50:42.831 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:50:42.833 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:50:42.834 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:50:42.835 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:50:42.836 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:50:42.838 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 69.6068ms
2025-08-12 08:50:42.840 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:50:42.842 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:50:42.843 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:42.845 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 08:50:42.847 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 137.7973ms
2025-08-12 08:50:42.856 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Score>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
            6 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 36], [Property: Semester.EndDate (DateTime) Required, 37], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 38], [Property: Semester.Name (string) Required, 39], [Property: Semester.StartDate (DateTime) Required, 40] }
        SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode, s2.Id, s2.EndDate, s2.IsOpen, s2.Name, s2.StartDate
        FROM Scores AS s
        INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Students AS s0 ON e.StudentId == s0.Id
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
        INNER JOIN Semesters AS s2 ON c.SemesterId == s2.Id
        WHERE c.TeacherId == @__teacherId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
            6 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 36], [Property: Semester.EndDate (DateTime) Required, 37], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 38], [Property: Semester.Name (string) Required, 39], [Property: Semester.StartDate (DateTime) Required, 40] }
        SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode, s2.Id, s2.EndDate, s2.IsOpen, s2.Name, s2.StartDate
        FROM Scores AS s
        INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Students AS s0 ON e.StudentId == s0.Id
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
        INNER JOIN Semesters AS s2 ON c.SemesterId == s2.Id
        WHERE c.TeacherId == @__teacherId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Score entity;
        Enrollment entity;
        Student entity;
        User entity;
        CourseClass entity;
        Subject entity;
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Score instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Score);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Score.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Score)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]: 
                        {
                            return 
                            {
                                Score instance;
                                instance = new Score();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EnrollmentId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Final>k__BackingField = dataReader.IsDBNull(2) ? default(double?) : (double?)dataReader.GetDouble(2);
                                instance.<Midterm>k__BackingField = dataReader.IsDBNull(3) ? default(double?) : (double?)dataReader.GetDouble(3);
                                instance.<Other>k__BackingField = dataReader.IsDBNull(4) ? default(double?) : (double?)dataReader.GetDouble(4);
                                instance.<Total>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Score)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Enrollment instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Enrollment);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Enrollment)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Enrollment")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(7);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(8);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Student instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Student);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(10) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Student)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(10);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(11);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(12);
                                instance.<Gender>k__BackingField = dataReader.GetString(13);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(14);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(15);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            User instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(User);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (User)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<FullName>k__BackingField = dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<Role>k__BackingField = dataReader.GetString(21);
                                instance.<Username>k__BackingField = dataReader.GetString(22);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            CourseClass instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(CourseClass);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (CourseClass)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CourseClass")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(24);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(27);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(28);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(29);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        entity = 
        {
            MaterializationContext materializationContext6;
            IEntityType entityType6;
            Subject instance6;
            InternalEntityEntry entry6;
            bool hasNullKey6;
            materializationContext6 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance6 = default(Subject);
            entry6 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(30) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey6);
            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
            {
                entityType6 = entry6.EntityType;
                return instance6 = (Subject)entry6.Entity;
            } : 
            {
                ISnapshot shadowSnapshot6;
                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType6 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance6 = switch (entityType6)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(30);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(31);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(32) ? default(string) : dataReader.GetString(32);
                                instance.<Name>k__BackingField = dataReader.GetString(33);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(34);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(35);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext6.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType6, 
                    entity: instance6, 
                    snapshot: shadowSnapshot6);
                return instance6;
            } : default(void);
            return instance6;
        };
        entity = 
        {
            MaterializationContext materializationContext7;
            IEntityType entityType7;
            Semester instance7;
            InternalEntityEntry entry7;
            bool hasNullKey7;
            materializationContext7 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance7 = default(Semester);
            entry7 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(36) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey7);
            !(hasNullKey7) ? entry7 != default(InternalEntityEntry) ? 
            {
                entityType7 = entry7.EntityType;
                return instance7 = (Semester)entry7.Entity;
            } : 
            {
                ISnapshot shadowSnapshot7;
                shadowSnapshot7 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType7 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Semester")];
                instance7 = switch (entityType7)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(36);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(37);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(38);
                                instance.<Name>k__BackingField = dataReader.GetString(39);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(40);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext7.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry7 = entityType7 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType7, 
                    entity: instance7, 
                    snapshot: shadowSnapshot7);
                return instance7;
            } : default(void);
            return instance7;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{23}, namelessParameter{24}) => 
            {
                namelessParameter{23}.<User>k__BackingField = namelessParameter{24};
                return namelessParameter{24}.<Student>k__BackingField = namelessParameter{23};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, Student>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.Student (Student) ToPrincipal Student Inverse: Enrollments | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Student")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: Student | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{27}, namelessParameter{28}) => 
            {
                namelessParameter{27}.<Student>k__BackingField = namelessParameter{28};
                return [LIFTABLE Constant: ClrICollectionAccessor<Student, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{28}, 
                    value: namelessParameter{27}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{32}, namelessParameter{33}) => 
            {
                namelessParameter{32}.<Subject>k__BackingField = namelessParameter{33};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{33}, 
                    value: namelessParameter{32}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{37}, namelessParameter{38}) => 
            {
                namelessParameter{37}.<Semester>k__BackingField = namelessParameter{38};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{39} => namelessParameter{39}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{38}, 
                    value: namelessParameter{37}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{40} => namelessParameter{40}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{42}, namelessParameter{43}) => 
            {
                namelessParameter{42}.<CourseClass>k__BackingField = namelessParameter{43};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{44} => namelessParameter{44}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{43}, 
                    value: namelessParameter{42}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Score, Score, Enrollment>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Score.Enrollment (Enrollment) ToPrincipal Enrollment Inverse: Score | Resolver: namelessParameter{45} => namelessParameter{45}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindNavigation("Enrollment")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.Score (Score) ToDependent Score Inverse: Enrollment | Resolver: namelessParameter{46} => namelessParameter{46}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Score")], 
            fixup: (namelessParameter{47}, namelessParameter{48}) => 
            {
                namelessParameter{47}.<Enrollment>k__BackingField = namelessParameter{48};
                return namelessParameter{48}.<Score>k__BackingField = namelessParameter{47};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:50:42.870 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:50:42.872 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:50:42.873 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:42.875 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:42.877 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:50:42.878 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 08:50:42.881 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:50:42.883 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:50:42.898 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:50:42.904 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.926 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.929 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.934 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.942 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.952 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.954 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.958 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.963 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.975 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.979 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.987 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.990 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.992 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:42.996 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.000 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.002 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.004 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.005 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.007 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.009 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.011 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.013 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.015 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.017 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.018 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.021 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.022 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.024 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.026 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.028 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.030 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.031 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.033 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.035 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.036 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.037 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.039 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.042 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.043 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.044 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.046 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.048 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.050 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.052 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.053 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.055 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.057 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.058 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.059 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.061 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.063 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.065 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.067 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.069 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.071 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.073 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.074 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.076 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.078 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.079 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.081 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.083 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.085 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.086 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:50:43.089 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:50:43.091 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 189ms reading results.
2025-08-12 08:50:43.093 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:43.095 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 08:50:43.106 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:50:43.108 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:50:43.109 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:50:43.110 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:50:43.111 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:50:43.113 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:50:43.124 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 360.3293ms
2025-08-12 08:50:43.126 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:50:43.127 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:50:43.129 +07:00 [DBG] Connection id "0HNEP89VK0ASE" received FIN.
2025-08-12 08:50:43.129 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:50:43.131 +07:00 [DBG] Connection id "0HNEP89VK0ASE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:50:43.132 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 08:50:43.134 +07:00 [DBG] Connection id "0HNEP89VK0ASE" disconnecting.
2025-08-12 08:50:43.136 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 434.2431ms
2025-08-12 08:50:43.141 +07:00 [DBG] Connection id "0HNEP89VK0ASE" stopped.
2025-08-12 08:53:05.788 +07:00 [DBG] Connection id "0HNEP89VK0ASA" received FIN.
2025-08-12 08:53:05.788 +07:00 [DBG] Connection id "0HNEP89VK0ASB" received FIN.
2025-08-12 08:53:05.805 +07:00 [DBG] Connection id "0HNEP89VK0ASA" is closed. The last processed stream ID was 11.
2025-08-12 08:53:05.807 +07:00 [DBG] Connection id "0HNEP89VK0ASB" is closed. The last processed stream ID was 7.
2025-08-12 08:53:05.816 +07:00 [DBG] The connection queue processing loop for 0HNEP89VK0ASA completed.
2025-08-12 08:53:05.815 +07:00 [DBG] Connection id "0HNEP89VK0ASA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:53:05.815 +07:00 [DBG] The connection queue processing loop for 0HNEP89VK0ASB completed.
2025-08-12 08:53:05.821 +07:00 [DBG] Connection id "0HNEP89VK0ASB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:53:05.834 +07:00 [DBG] Connection id "0HNEP89VK0ASB" stopped.
2025-08-12 08:53:05.834 +07:00 [DBG] Connection id "0HNEP89VK0ASA" stopped.
2025-08-12 08:53:59.245 +07:00 [DBG] Connection id "0HNEP89VK0ASF" accepted.
2025-08-12 08:53:59.254 +07:00 [DBG] Connection id "0HNEP89VK0ASF" started.
2025-08-12 08:53:59.256 +07:00 [DBG] Connection id "0HNEP89VK0ASG" accepted.
2025-08-12 08:53:59.263 +07:00 [DBG] Connection id "0HNEP89VK0ASG" started.
2025-08-12 08:53:59.264 +07:00 [DBG] Connection id "0HNEP89VK0ASH" accepted.
2025-08-12 08:53:59.263 +07:00 [DBG] Connection 0HNEP89VK0ASF established using the following protocol: "Tls13"
2025-08-12 08:53:59.274 +07:00 [DBG] Connection id "0HNEP89VK0ASI" accepted.
2025-08-12 08:53:59.273 +07:00 [DBG] Connection id "0HNEP89VK0ASH" started.
2025-08-12 08:53:59.279 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 08:53:59.287 +07:00 [DBG] Connection 0HNEP89VK0ASH established using the following protocol: "Tls13"
2025-08-12 08:53:59.274 +07:00 [DBG] Connection 0HNEP89VK0ASG established using the following protocol: "Tls13"
2025-08-12 08:53:59.296 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-12 08:53:59.294 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 08:53:59.300 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 08:53:59.282 +07:00 [DBG] Connection id "0HNEP89VK0ASI" started.
2025-08-12 08:53:59.304 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:53:59.305 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 08:53:59.310 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 08:53:59.308 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:53:59.312 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 08:53:59.312 +07:00 [DBG] Connection 0HNEP89VK0ASI established using the following protocol: "Tls13"
2025-08-12 08:53:59.313 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:53:59.314 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:53:59.315 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:53:59.317 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 08:53:59.317 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:53:59.319 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:53:59.320 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:53:59.323 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:53:59.323 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 08:53:59.324 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:53:59.325 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:53:59.326 +07:00 [DBG] The request is a preflight request.
2025-08-12 08:53:59.326 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 08:53:59.327 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:53:59.329 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 33.9996ms
2025-08-12 08:53:59.328 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:53:59.331 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:53:59.331 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 08:53:59.331 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:53:59.336 +07:00 [DBG] Authorization was successful.
2025-08-12 08:53:59.337 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:53:59.339 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 08:53:59.340 +07:00 [DBG] Authorization was successful.
2025-08-12 08:53:59.341 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:53:59.342 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:53:59.344 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 08:53:59.344 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:53:59.345 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:53:59.346 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:53:59.347 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:53:59.348 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:53:59.351 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:53:59.352 +07:00 [DBG] Authorization was successful.
2025-08-12 08:53:59.353 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:53:59.354 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:53:59.356 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:53:59.357 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:53:59.358 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 08:53:59.359 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:53:59.361 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:53:59.366 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:53:59.363 +07:00 [INF] CORS policy execution successful.
2025-08-12 08:53:59.365 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:53:59.362 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 08:53:59.367 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:53:59.368 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:53:59.370 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:53:59.371 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:53:59.372 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:53:59.373 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:53:59.374 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:53:59.376 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:53:59.378 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:53:59.378 +07:00 [DBG] Authorization was successful.
2025-08-12 08:53:59.379 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:53:59.381 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:53:59.382 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:53:59.383 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:53:59.384 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:53:59.386 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:53:59.388 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:53:59.388 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 08:53:59.389 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:53:59.392 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:53:59.393 +07:00 [DBG] Created DbConnection. (4ms).
2025-08-12 08:53:59.394 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:53:59.395 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:53:59.397 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:53:59.398 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.399 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:53:59.400 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:53:59.402 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 08:53:59.403 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.404 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:53:59.405 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:53:59.408 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:53:59.408 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:53:59.409 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:53:59.410 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:53:59.413 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:53:59.414 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:53:59.415 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:53:59.416 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:53:59.417 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 08:53:59.418 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-12 08:53:59.420 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:53:59.421 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:53:59.422 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.423 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:53:59.426 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:53:59.427 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 08:53:59.432 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:53:59.428 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.433 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:53:59.435 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:53:59.435 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:53:59.436 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:53:59.439 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.441 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:53:59.442 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:53:59.443 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-12 08:53:59.445 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.446 +07:00 [DBG] Created DbConnection. (4ms).
2025-08-12 08:53:59.452 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.450 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-08-12 08:53:59.449 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:53:59.451 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.459 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:53:59.461 +07:00 [DBG] Created DbConnection. (11ms).
2025-08-12 08:53:59.466 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.471 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.463 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.472 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:53:59.479 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 08:53:59.479 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 40ms reading results.
2025-08-12 08:53:59.481 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-08-12 08:53:59.484 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.484 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.488 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.489 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-08-12 08:53:59.490 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.491 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:53:59.492 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 08:53:59.493 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:53:59.495 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.496 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 08:53:59.497 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:53:59.499 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.500 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 08:53:59.500 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-12 08:53:59.502 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:53:59.504 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.508 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.506 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:53:59.507 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:53:59.506 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.509 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.512 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:53:59.513 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.514 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:53:59.514 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.514 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:53:59.517 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.519 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.519 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.520 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 08:53:59.522 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.523 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-12 08:53:59.524 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.525 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 152.82ms
2025-08-12 08:53:59.526 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 20ms reading results.
2025-08-12 08:53:59.528 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.529 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.530 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:53:59.532 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.533 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-12 08:53:59.534 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.535 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:53:59.536 +07:00 [DBG] Connection id "0HNEP89VK0ASF" received FIN.
2025-08-12 08:53:59.536 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 08:53:59.539 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.539 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.540 +07:00 [DBG] Connection id "0HNEP89VK0ASF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:53:59.541 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.542 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:53:59.543 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.544 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:53:59.545 +07:00 [DBG] Connection id "0HNEP89VK0ASF" disconnecting.
2025-08-12 08:53:59.546 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.549 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:53:59.550 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.551 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 272.4356ms
2025-08-12 08:53:59.553 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:53:59.554 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:53:59.555 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.558 +07:00 [DBG] Connection id "0HNEP89VK0ASF" stopped.
2025-08-12 08:53:59.559 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:53:59.560 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:53:59.561 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.562 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-12 08:53:59.563 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:53:59.565 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.565 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:53:59.567 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:53:59.568 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.571 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 151.4157ms
2025-08-12 08:53:59.572 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:53:59.573 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.574 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 08:53:59.575 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.576 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.578 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:53:59.580 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-12 08:53:59.581 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.582 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.583 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.584 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.586 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:53:59.587 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 08:53:59.588 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.589 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 257.9618ms
2025-08-12 08:53:59.590 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:53:59.592 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.597 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:53:59.598 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.598 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:53:59.600 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.600 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:53:59.601 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.602 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:53:59.603 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.604 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:53:59.605 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.607 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 227.7276ms
2025-08-12 08:53:59.609 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.610 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:53:59.611 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.612 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:53:59.613 +07:00 [DBG] Connection id "0HNEP89VK0ASG" received FIN.
2025-08-12 08:53:59.613 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.614 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.615 +07:00 [DBG] Connection id "0HNEP89VK0ASG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:53:59.616 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.617 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:53:59.618 +07:00 [DBG] Connection id "0HNEP89VK0ASG" disconnecting.
2025-08-12 08:53:59.619 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.621 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 323.5967ms
2025-08-12 08:53:59.623 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.626 +07:00 [DBG] Connection id "0HNEP89VK0ASG" stopped.
2025-08-12 08:53:59.626 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.628 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.629 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.630 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.631 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.632 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.634 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.635 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.636 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.637 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.638 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.639 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.641 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.642 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.643 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.645 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.646 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.648 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.650 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.651 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.653 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.655 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.657 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.659 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.661 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.663 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.665 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.667 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.669 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:53:59.671 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.673 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 188ms reading results.
2025-08-12 08:53:59.675 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.677 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:53:59.679 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:53:59.683 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:53:59.684 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:53:59.685 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:53:59.686 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:53:59.687 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:53:59.689 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 292.2335ms
2025-08-12 08:53:59.691 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 08:53:59.692 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:53:59.692 +07:00 [DBG] Connection id "0HNEP89VK0ASI" received FIN.
2025-08-12 08:53:59.693 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:53:59.694 +07:00 [DBG] Connection id "0HNEP89VK0ASI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:53:59.695 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:53:59.697 +07:00 [DBG] Connection id "0HNEP89VK0ASI" disconnecting.
2025-08-12 08:53:59.698 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 381.4535ms
2025-08-12 08:53:59.702 +07:00 [DBG] Connection id "0HNEP89VK0ASI" stopped.
2025-08-12 08:55:06.290 +07:00 [DBG] Connection id "0HNEP89VK0ASJ" accepted.
2025-08-12 08:55:06.296 +07:00 [DBG] Connection id "0HNEP89VK0ASJ" started.
2025-08-12 08:55:06.302 +07:00 [DBG] Connection 0HNEP89VK0ASJ established using the following protocol: "Tls13"
2025-08-12 08:55:06.304 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-12 08:55:06.308 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-12 08:55:06.309 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-12 08:55:06.312 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 08:55:06.314 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:55:06.315 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:55:06.316 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:55:06.319 +07:00 [DBG] Authorization was successful.
2025-08-12 08:55:06.321 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 08:55:06.327 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 08:55:06.329 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:55:06.331 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:55:06.333 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:55:06.335 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:55:06.337 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:55:06.338 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:55:06.342 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:55:06.344 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 08:55:06.346 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-12 08:55:06.348 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 08:55:06.350 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 08:55:06.351 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 08:55:06.353 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-12 08:55:06.357 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:55:06.360 +07:00 [DBG] Compiling query expression: 
'DbSet<CourseClass>()
    .Where(c => c.TeacherId == __teacherId_0)
    .Include(c => c.Subject)
    .Include(c => c.Teacher)
    .ThenInclude(t => t.User)
    .Include(c => c.Semester)
    .Include(c => c.Enrollments)'
2025-08-12 08:55:06.363 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-12 08:55:06.364 +07:00 [DBG] Including navigation: 'CourseClass.Teacher'.
2025-08-12 08:55:06.366 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-12 08:55:06.368 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-12 08:55:06.370 +07:00 [DBG] Including navigation: 'CourseClass.Enrollments'.
2025-08-12 08:55:06.426 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 13], [Property: Teacher.Degree (string) Required, 14], [Property: Teacher.TeacherCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: Semester.EndDate (DateTime) Required, 24], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 25], [Property: Semester.Name (string) Required, 26], [Property: Semester.StartDate (DateTime) Required, 27] }
            5 -> 0
            6 -> 7
            7 -> 13
            8 -> 16
            9 -> 23
            10 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: Enrollment.CourseClassId (int) Required FK Index, 29], [Property: Enrollment.EnrollDate (DateTime) Required, 30], [Property: Enrollment.StudentId (int) Required FK Index, 31] }
            11 -> 28
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Teachers AS t ON c.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        LEFT JOIN Enrollments AS e ON c.Id == e.CourseClassId
        WHERE c.TeacherId == @__teacherId_0
        ORDER BY c.Id ASC, s.Id ASC, t.Id ASC, u.Id ASC, s0.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 13], [Property: Teacher.Degree (string) Required, 14], [Property: Teacher.TeacherCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: Semester.EndDate (DateTime) Required, 24], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 25], [Property: Semester.Name (string) Required, 26], [Property: Semester.StartDate (DateTime) Required, 27] }
            5 -> 0
            6 -> 7
            7 -> 13
            8 -> 16
            9 -> 23
            10 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 28], [Property: Enrollment.CourseClassId (int) Required FK Index, 29], [Property: Enrollment.EnrollDate (DateTime) Required, 30], [Property: Enrollment.StudentId (int) Required FK Index, 31] }
            11 -> 28
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Teachers AS t ON c.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        LEFT JOIN Enrollments AS e ON c.Id == e.CourseClassId
        WHERE c.TeacherId == @__teacherId_0
        ORDER BY c.Id ASC, s.Id ASC, t.Id ASC, u.Id ASC, s0.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            CourseClass entity;
            Subject entity;
            Teacher entity;
            User entity;
            Semester entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                CourseClass instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(CourseClass);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (CourseClass)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                            {
                                return 
                                {
                                    CourseClass instance;
                                    instance = new CourseClass();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                    instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                    instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                    instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(CourseClass)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Subject instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Subject);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Subject)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                            {
                                return 
                                {
                                    Subject instance;
                                    instance = new Subject();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                    instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                    instance.<Name>k__BackingField = dataReader.GetString(10);
                                    instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                    instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Subject)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                Teacher instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(Teacher);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Teacher.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (Teacher)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                            {
                                return 
                                {
                                    Teacher instance;
                                    instance = new Teacher();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                    instance.<Degree>k__BackingField = dataReader.GetString(14);
                                    instance.<TeacherCode>k__BackingField = dataReader.GetString(15);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext3.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Teacher)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            entity = 
            {
                MaterializationContext materializationContext4;
                IEntityType entityType4;
                User instance4;
                InternalEntityEntry entry4;
                bool hasNullKey4;
                materializationContext4 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance4 = default(User);
                entry4 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey4);
                !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                {
                    entityType4 = entry4.EntityType;
                    return instance4 = (User)entry4.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot4;
                    shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                    instance4 = switch (entityType4)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<FullName>k__BackingField = dataReader.GetString(18);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                    instance.<Role>k__BackingField = dataReader.GetString(21);
                                    instance.<Username>k__BackingField = dataReader.GetString(22);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext4.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType4, 
                        entity: instance4, 
                        snapshot: shadowSnapshot4);
                    return instance4;
                } : default(void);
                return instance4;
            };
            entity = 
            {
                MaterializationContext materializationContext5;
                IEntityType entityType5;
                Semester instance5;
                InternalEntityEntry entry5;
                bool hasNullKey5;
                materializationContext5 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance5 = default(Semester);
                entry5 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey5);
                !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                {
                    entityType5 = entry5.EntityType;
                    return instance5 = (Semester)entry5.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot5;
                    shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType5 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Semester")];
                    instance5 = switch (entityType5)
                    {
                        case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("Semester")]: 
                            {
                                return 
                                {
                                    Semester instance;
                                    instance = new Semester();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                    instance.<EndDate>k__BackingField = dataReader.GetDateTime(24);
                                    instance.<IsOpen>k__BackingField = dataReader.GetBoolean(25);
                                    instance.<Name>k__BackingField = dataReader.GetString(26);
                                    instance.<StartDate>k__BackingField = dataReader.GetDateTime(27);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext5.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Semester)
                    }
                    ;
                    entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType5, 
                        entity: instance5, 
                        snapshot: shadowSnapshot5);
                    return instance5;
                } : default(void);
                return instance5;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity, 
                entity, 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Subject)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{17}, namelessParameter{18}) => 
                {
                    namelessParameter{17}.<Subject>k__BackingField = namelessParameter{18};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{18}, 
                        value: namelessParameter{17}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
                queryContext: queryContext, 
                entity: (Teacher)(resultContext.Values[2]), 
                relatedEntity: (User)(resultContext.Values[3]), 
                navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
                fixup: (namelessParameter{22}, namelessParameter{23}) => 
                {
                    namelessParameter{22}.<User>k__BackingField = namelessParameter{23};
                    return namelessParameter{23}.<Teacher>k__BackingField = namelessParameter{22};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Teacher>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Teacher)(resultContext.Values[2]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Teacher (Teacher) ToPrincipal Teacher Inverse: CourseClasses | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Teacher")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Teacher.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Teacher | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{26}, namelessParameter{27}) => 
                {
                    namelessParameter{26}.<Teacher>k__BackingField = namelessParameter{27};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Teacher, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{27}, 
                        value: namelessParameter{26}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
                queryContext: queryContext, 
                entity: (CourseClass)(resultContext.Values[0]), 
                relatedEntity: (Semester)(resultContext.Values[4]), 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
                fixup: (namelessParameter{31}, namelessParameter{32}) => 
                {
                    namelessParameter{31}.<Semester>k__BackingField = namelessParameter{32};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                        entity: namelessParameter{32}, 
                        value: namelessParameter{31}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<CourseClass, CourseClass>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (CourseClass)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(7), 
                    (object)(int?)dataReader.GetInt32(13), 
                    (object)(int?)dataReader.GetInt32(16), 
                    (object)(int?)dataReader.GetInt32(23) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(7), 
                    (object)(int?)dataReader.GetInt32(13), 
                    (object)(int?)dataReader.GetInt32(16), 
                    (object)(int?)dataReader.GetInt32(23) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<CourseClass, Enrollment>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(7), 
                (object)(int?)dataReader.GetInt32(13), 
                (object)(int?)dataReader.GetInt32(16), 
                (object)(int?)dataReader.GetInt32(23) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(7), 
                (object)(int?)dataReader.GetInt32(13), 
                (object)(int?)dataReader.GetInt32(16), 
                (object)(int?)dataReader.GetInt32(23) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(28) ? default(int?) : (int?)dataReader.GetInt32(28) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Enrollment entity;
                entity = 
                {
                    MaterializationContext materializationContext6;
                    IEntityType entityType6;
                    Enrollment instance6;
                    InternalEntityEntry entry6;
                    bool hasNullKey6;
                    materializationContext6 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance6 = default(Enrollment);
                    entry6 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(28) ? default(object) : (object)dataReader.GetInt32(28) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey6);
                    !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                    {
                        entityType6 = entry6.EntityType;
                        return instance6 = (Enrollment)entry6.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot6;
                        shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType6 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Enrollment")];
                        instance6 = switch (entityType6)
                        {
                            case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{37} => namelessParameter{37}.Dependencies.Model.FindEntityType("Enrollment")]: 
                                {
                                    return 
                                    {
                                        Enrollment instance;
                                        instance = new Enrollment();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(28) ? default(int) : dataReader.GetInt32(28);
                                        instance.<CourseClassId>k__BackingField = dataReader.IsDBNull(29) ? default(int) : dataReader.GetInt32(29);
                                        instance.<EnrollDate>k__BackingField = dataReader.IsDBNull(30) ? default(DateTime) : dataReader.GetDateTime(30);
                                        instance.<StudentId>k__BackingField = dataReader.IsDBNull(31) ? default(int) : dataReader.GetInt32(31);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext6.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{38} => namelessParameter{38}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Enrollment)
                        }
                        ;
                        entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType6, 
                            entity: instance6, 
                            snapshot: shadowSnapshot6);
                        return instance6;
                    } : default(void);
                    return instance6;
                };
                return entity;
            }, 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{39} => namelessParameter{39}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            fixup: (namelessParameter{40}, namelessParameter{41}) => 
            {
                [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{42} => namelessParameter{42}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{40}, 
                    value: namelessParameter{41}, 
                    forMaterialization: True);
                return namelessParameter{41}.<CourseClass>k__BackingField = namelessParameter{40};
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (CourseClass)(resultContext.Values[0]) : default(CourseClass);
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 08:55:06.441 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:55:06.442 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 08:55:06.444 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:55:06.445 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:55:06.447 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:55:06.448 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 08:55:06.449 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:55:06.451 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:55:06.461 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:55:06.464 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.466 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.467 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.469 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.471 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.472 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.474 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.475 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.476 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.477 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.483 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.485 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.487 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.488 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.490 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.491 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.493 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.494 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.496 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.497 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.498 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.500 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.501 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.503 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.504 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.506 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.507 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:55:06.509 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:55:06.510 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 45ms reading results.
2025-08-12 08:55:06.511 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:55:06.514 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:55:06.519 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:55:06.522 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:55:06.523 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:55:06.524 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:55:06.525 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:55:06.526 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:55:06.532 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 193.3985ms
2025-08-12 08:55:06.534 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 08:55:06.536 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:55:06.537 +07:00 [DBG] Connection id "0HNEP89VK0ASJ" received FIN.
2025-08-12 08:55:06.539 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:55:06.543 +07:00 [DBG] Connection id "0HNEP89VK0ASJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:55:06.544 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:55:06.545 +07:00 [DBG] Connection id "0HNEP89VK0ASJ" disconnecting.
2025-08-12 08:55:06.546 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 242.5331ms
2025-08-12 08:55:06.551 +07:00 [DBG] Connection id "0HNEP89VK0ASJ" stopped.
2025-08-12 08:58:22.257 +07:00 [DBG] Connection id "0HNEP89VK0ASK" accepted.
2025-08-12 08:58:22.265 +07:00 [DBG] Connection id "0HNEP89VK0ASK" started.
2025-08-12 08:58:22.267 +07:00 [DBG] Connection id "0HNEP89VK0ASL" accepted.
2025-08-12 08:58:22.274 +07:00 [DBG] Connection id "0HNEP89VK0ASL" started.
2025-08-12 08:58:22.275 +07:00 [DBG] Connection id "0HNEP89VK0ASM" accepted.
2025-08-12 08:58:22.280 +07:00 [DBG] Connection 0HNEP89VK0ASK established using the following protocol: "Tls13"
2025-08-12 08:58:22.284 +07:00 [DBG] Connection id "0HNEP89VK0ASM" started.
2025-08-12 08:58:22.285 +07:00 [DBG] Connection 0HNEP89VK0ASL established using the following protocol: "Tls13"
2025-08-12 08:58:22.286 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 08:58:22.288 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 08:58:22.291 +07:00 [DBG] Connection 0HNEP89VK0ASM established using the following protocol: "Tls13"
2025-08-12 08:58:22.292 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 08:58:22.295 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 08:58:22.296 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-12 08:58:22.297 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 08:58:22.298 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 08:58:22.301 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-12 08:58:22.302 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 08:58:22.303 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:58:22.304 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-12 08:58:22.306 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:58:22.307 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:58:22.309 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 08:58:22.310 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:58:22.311 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:58:22.311 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 08:58:22.312 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:58:22.313 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:58:22.314 +07:00 [DBG] Successfully validated the token.
2025-08-12 08:58:22.315 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:58:22.316 +07:00 [DBG] Authorization was successful.
2025-08-12 08:58:22.316 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 08:58:22.317 +07:00 [DBG] Authorization was successful.
2025-08-12 08:58:22.318 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:58:22.318 +07:00 [DBG] Authorization was successful.
2025-08-12 08:58:22.319 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:58:22.320 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 08:58:22.320 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 08:58:22.322 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 08:58:22.324 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:58:22.325 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 08:58:22.326 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:58:22.328 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:58:22.330 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 08:58:22.332 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:58:22.333 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:58:22.335 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 08:58:22.337 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:58:22.339 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:58:22.340 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 08:58:22.342 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:58:22.343 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:58:22.345 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 08:58:22.346 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:58:22.347 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:58:22.349 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 08:58:22.351 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:58:22.353 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:58:22.353 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 08:58:22.355 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 08:58:22.355 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 08:58:22.357 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:58:22.358 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:58:22.359 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 08:58:22.360 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 08:58:22.363 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:58:22.364 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-12 08:58:22.366 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 08:58:22.367 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 08:58:22.368 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 08:58:22.370 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 08:58:22.371 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.372 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 08:58:22.373 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 08:58:22.374 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.375 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 08:58:22.378 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 08:58:22.379 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:58:22.380 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-12 08:58:22.382 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:58:22.383 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 08:58:22.385 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:58:22.386 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:58:22.387 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-12 08:58:22.389 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:58:22.390 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 08:58:22.392 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:58:22.393 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 08:58:22.394 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 08:58:22.399 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.400 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 08:58:22.401 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 08:58:22.402 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.404 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.406 +07:00 [DBG] Creating DbConnection.
2025-08-12 08:58:22.407 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:58:22.408 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.409 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 08:58:22.410 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 08:58:22.412 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.413 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.414 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 08:58:22.415 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.417 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.418 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:58:22.420 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 15ms reading results.
2025-08-12 08:58:22.421 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:58:22.426 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.427 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-12 08:58:22.429 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:58:22.430 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-12 08:58:22.432 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:58:22.433 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 08:58:22.434 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:58:22.436 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:58:22.438 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.442 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:58:22.443 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 08:58:22.444 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.445 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:58:22.447 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.448 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.449 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:58:22.450 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 08:58:22.451 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.453 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 08:58:22.455 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.456 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.458 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 107.2685ms
2025-08-12 08:58:22.459 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 08:58:22.461 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.462 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 08:58:22.464 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.465 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.468 +07:00 [DBG] Connection id "0HNEP89VK0ASK" received FIN.
2025-08-12 08:58:22.466 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:58:22.469 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.475 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.476 +07:00 [DBG] Connection id "0HNEP89VK0ASK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:58:22.477 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.478 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 08:58:22.479 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.481 +07:00 [DBG] Connection id "0HNEP89VK0ASK" disconnecting.
2025-08-12 08:58:22.482 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-12 08:58:22.483 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 08:58:22.484 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.486 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 200.7058ms
2025-08-12 08:58:22.488 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-12 08:58:22.490 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.492 +07:00 [DBG] Connection id "0HNEP89VK0ASK" stopped.
2025-08-12 08:58:22.494 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:58:22.495 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.500 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.501 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.501 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 08:58:22.503 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.505 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.506 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.507 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 08:58:22.509 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.511 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.512 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.513 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 08:58:22.514 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.516 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:58:22.517 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.519 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:58:22.521 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.521 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:58:22.523 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.524 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:58:22.525 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.526 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:58:22.527 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.528 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:58:22.530 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.532 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 184.3644ms
2025-08-12 08:58:22.533 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.534 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 08:58:22.536 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 08:58:22.537 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:58:22.538 +07:00 [DBG] Connection id "0HNEP89VK0ASL" received FIN.
2025-08-12 08:58:22.540 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.541 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.542 +07:00 [DBG] Connection id "0HNEP89VK0ASL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:58:22.544 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 106ms reading results.
2025-08-12 08:58:22.546 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 08:58:22.547 +07:00 [DBG] Connection id "0HNEP89VK0ASL" disconnecting.
2025-08-12 08:58:22.549 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.550 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 261.7839ms
2025-08-12 08:58:22.552 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 08:58:22.556 +07:00 [DBG] Connection id "0HNEP89VK0ASL" stopped.
2025-08-12 08:58:22.558 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 08:58:22.562 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 08:58:22.562 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 08:58:22.563 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 08:58:22.564 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 08:58:22.566 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 08:58:22.567 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 214.4439ms
2025-08-12 08:58:22.569 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 08:58:22.570 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 08:58:22.571 +07:00 [DBG] Connection id "0HNEP89VK0ASM" received FIN.
2025-08-12 08:58:22.571 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 08:58:22.573 +07:00 [DBG] Connection id "0HNEP89VK0ASM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 08:58:22.574 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 08:58:22.575 +07:00 [DBG] Connection id "0HNEP89VK0ASM" disconnecting.
2025-08-12 08:58:22.577 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 280.2745ms
2025-08-12 08:58:22.581 +07:00 [DBG] Connection id "0HNEP89VK0ASM" stopped.
2025-08-12 09:10:34.463 +07:00 [DBG] Connection id "0HNEP89VK0ASN" accepted.
2025-08-12 09:10:34.470 +07:00 [DBG] Connection id "0HNEP89VK0ASN" started.
2025-08-12 09:10:34.477 +07:00 [DBG] Connection id "0HNEP89VK0ASO" accepted.
2025-08-12 09:10:34.479 +07:00 [DBG] Connection id "0HNEP89VK0ASO" started.
2025-08-12 09:10:34.481 +07:00 [DBG] Connection id "0HNEP89VK0ASP" accepted.
2025-08-12 09:10:34.487 +07:00 [DBG] Connection 0HNEP89VK0ASN established using the following protocol: "Tls13"
2025-08-12 09:10:34.489 +07:00 [DBG] Connection id "0HNEP89VK0ASP" started.
2025-08-12 09:10:34.494 +07:00 [DBG] Connection 0HNEP89VK0ASO established using the following protocol: "Tls13"
2025-08-12 09:10:34.494 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 09:10:34.499 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 09:10:34.500 +07:00 [DBG] Connection 0HNEP89VK0ASP established using the following protocol: "Tls13"
2025-08-12 09:10:34.502 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 09:10:34.505 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:10:34.506 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-12 09:10:34.507 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 09:10:34.509 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:10:34.513 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:10:34.515 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 09:10:34.517 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:10:34.518 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:10:34.521 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:10:34.523 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:10:34.525 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:10:34.527 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:10:34.528 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:10:34.529 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:10:34.530 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:10:34.531 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:10:34.532 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:10:34.533 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:10:34.536 +07:00 [DBG] Authorization was successful.
2025-08-12 09:10:34.536 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:10:34.537 +07:00 [DBG] Authorization was successful.
2025-08-12 09:10:34.538 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:10:34.540 +07:00 [DBG] Authorization was successful.
2025-08-12 09:10:34.540 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:10:34.541 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:10:34.542 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:10:34.543 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 09:10:34.545 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:10:34.546 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 09:10:34.548 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:10:34.550 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:10:34.551 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:10:34.554 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:10:34.555 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:10:34.557 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:10:34.558 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:10:34.560 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:10:34.563 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:10:34.565 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:10:34.566 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:10:34.568 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:10:34.570 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:10:34.571 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:10:34.572 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:10:34.575 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:10:34.576 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:10:34.577 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:10:34.578 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:10:34.580 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:10:34.583 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:10:34.583 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:10:34.584 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:10:34.585 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:10:34.588 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:10:34.590 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:10:34.591 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-12 09:10:34.592 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 09:10:34.593 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:10:34.596 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:10:34.597 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.598 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:10:34.599 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:10:34.605 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:10:34.608 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:10:34.611 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:10:34.612 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:10:34.613 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:10:34.613 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.618 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:10:34.619 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:10:34.620 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:10:34.623 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:10:34.625 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:10:34.626 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:10:34.627 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 09:10:34.630 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:10:34.631 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-08-12 09:10:34.632 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.635 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:10:34.636 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:10:34.639 +07:00 [DBG] Created DbConnection. (4ms).
2025-08-12 09:10:34.647 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.647 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.650 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:10:34.656 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:10:34.659 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.660 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:10:34.662 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.662 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.665 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-12 09:10:34.667 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:10:34.668 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.669 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:10:34.670 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:10:34.672 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.675 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-12 09:10:34.676 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 17ms reading results.
2025-08-12 09:10:34.678 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:10:34.680 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.682 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:10:34.684 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:10:34.684 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:10:34.685 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:10:34.687 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:10:34.689 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.691 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.692 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:10:34.694 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 09:10:34.696 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.696 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:10:34.697 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.700 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.701 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:10:34.702 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 09:10:34.703 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.704 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 09:10:34.707 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.708 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.709 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 134.4959ms
2025-08-12 09:10:34.710 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.712 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.714 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:10:34.715 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:10:34.716 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.717 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:10:34.718 +07:00 [DBG] Connection id "0HNEP89VK0ASN" received FIN.
2025-08-12 09:10:34.718 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:10:34.720 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.721 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.723 +07:00 [DBG] Connection id "0HNEP89VK0ASN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:10:34.724 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-12 09:10:34.725 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.727 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-12 09:10:34.728 +07:00 [DBG] Connection id "0HNEP89VK0ASN" disconnecting.
2025-08-12 09:10:34.729 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:10:34.730 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.732 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 237.4649ms
2025-08-12 09:10:34.738 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.739 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:10:34.742 +07:00 [DBG] Connection id "0HNEP89VK0ASN" stopped.
2025-08-12 09:10:34.743 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.745 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.748 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.750 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-12 09:10:34.751 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.752 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.754 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.756 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 09:10:34.757 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.759 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:10:34.760 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.763 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:10:34.764 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.765 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:10:34.766 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.767 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:10:34.769 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.770 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:10:34.771 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.772 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:10:34.773 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.775 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 204.0878ms
2025-08-12 09:10:34.777 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.778 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:10:34.779 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.780 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:10:34.781 +07:00 [DBG] Connection id "0HNEP89VK0ASO" received FIN.
2025-08-12 09:10:34.782 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.783 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.784 +07:00 [DBG] Connection id "0HNEP89VK0ASO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:10:34.786 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.787 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:10:34.788 +07:00 [DBG] Connection id "0HNEP89VK0ASO" disconnecting.
2025-08-12 09:10:34.790 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:10:34.792 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 292.3997ms
2025-08-12 09:10:34.794 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.799 +07:00 [DBG] Connection id "0HNEP89VK0ASO" stopped.
2025-08-12 09:10:34.800 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 108ms reading results.
2025-08-12 09:10:34.802 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.805 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:10:34.806 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:10:34.809 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:10:34.810 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:10:34.811 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:10:34.812 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:10:34.813 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:10:34.814 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 237.0255ms
2025-08-12 09:10:34.816 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:10:34.818 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:10:34.819 +07:00 [DBG] Connection id "0HNEP89VK0ASP" received FIN.
2025-08-12 09:10:34.819 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:10:34.821 +07:00 [DBG] Connection id "0HNEP89VK0ASP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:10:34.822 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:10:34.827 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 320.3462ms
2025-08-12 09:10:34.824 +07:00 [DBG] Connection id "0HNEP89VK0ASP" disconnecting.
2025-08-12 09:10:34.838 +07:00 [DBG] Connection id "0HNEP89VK0ASP" stopped.
2025-08-12 09:13:05.288 +07:00 [DBG] Connection id "0HNEP89VK0ASQ" accepted.
2025-08-12 09:13:05.298 +07:00 [DBG] Connection id "0HNEP89VK0ASQ" started.
2025-08-12 09:13:05.299 +07:00 [DBG] Connection id "0HNEP89VK0ASR" accepted.
2025-08-12 09:13:05.308 +07:00 [DBG] Connection id "0HNEP89VK0ASR" started.
2025-08-12 09:13:05.309 +07:00 [DBG] Connection 0HNEP89VK0ASQ established using the following protocol: "Tls13"
2025-08-12 09:13:05.309 +07:00 [DBG] Connection id "0HNEP89VK0ASS" accepted.
2025-08-12 09:13:05.317 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 09:13:05.319 +07:00 [DBG] Connection id "0HNEP89VK0ASS" started.
2025-08-12 09:13:05.320 +07:00 [DBG] Connection 0HNEP89VK0ASR established using the following protocol: "Tls13"
2025-08-12 09:13:05.321 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 09:13:05.324 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 09:13:05.326 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 09:13:05.326 +07:00 [DBG] Connection 0HNEP89VK0ASS established using the following protocol: "Tls13"
2025-08-12 09:13:05.328 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:13:05.330 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 09:13:05.331 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-12 09:13:05.332 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:13:05.334 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:13:05.336 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:13:05.337 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:13:05.339 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:13:05.341 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:13:05.342 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:13:05.343 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:13:05.344 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:13:05.346 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:13:05.347 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:13:05.348 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:13:05.349 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:13:05.350 +07:00 [DBG] Authorization was successful.
2025-08-12 09:13:05.351 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:13:05.352 +07:00 [DBG] Authorization was successful.
2025-08-12 09:13:05.353 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:13:05.354 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:13:05.355 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:13:05.356 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 09:13:05.357 +07:00 [DBG] Authorization was successful.
2025-08-12 09:13:05.359 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:13:05.361 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:13:05.362 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:13:05.364 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:13:05.366 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:13:05.368 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 09:13:05.369 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:13:05.370 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:13:05.372 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:13:05.374 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:13:05.376 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:13:05.378 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:13:05.380 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:13:05.381 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:13:05.383 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:13:05.384 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:13:05.386 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:13:05.388 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:13:05.390 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:13:05.391 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:13:05.393 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:13:05.396 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:13:05.397 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:13:05.398 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:13:05.399 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:13:05.402 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:13:05.403 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:13:05.404 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:13:05.405 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 09:13:05.406 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:13:05.408 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:13:05.409 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.410 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-12 09:13:05.412 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:13:05.413 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.415 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:13:05.417 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:13:05.418 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:13:05.419 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:13:05.421 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:13:05.423 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:13:05.424 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:13:05.426 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:13:05.427 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-12 09:13:05.428 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:13:05.430 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:13:05.431 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:13:05.432 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:13:05.433 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:13:05.439 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:13:05.440 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:13:05.440 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:13:05.440 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:13:05.443 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.445 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:13:05.445 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.446 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.448 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:13:05.450 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.451 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.452 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 09:13:05.453 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:13:05.454 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.455 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.456 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:13:05.458 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 15ms reading results.
2025-08-12 09:13:05.459 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.460 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 09:13:05.461 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.462 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:13:05.465 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:13:05.466 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 09:13:05.467 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:13:05.472 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:13:05.474 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-08-12 09:13:05.476 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:13:05.478 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:13:05.479 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:13:05.481 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:13:05.483 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:13:05.485 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:13:05.487 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.488 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:13:05.489 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.491 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.493 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 09:13:05.494 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-12 09:13:05.495 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.496 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 110.5003ms
2025-08-12 09:13:05.498 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.500 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.501 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:13:05.502 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 09:13:05.503 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.505 +07:00 [DBG] Connection id "0HNEP89VK0ASQ" received FIN.
2025-08-12 09:13:05.504 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:13:05.512 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.513 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.514 +07:00 [DBG] Connection id "0HNEP89VK0ASQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:13:05.515 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.516 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.517 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.520 +07:00 [DBG] Connection id "0HNEP89VK0ASQ" disconnecting.
2025-08-12 09:13:05.521 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-12 09:13:05.522 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:13:05.523 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.525 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 207.8338ms
2025-08-12 09:13:05.527 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:13:05.528 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.531 +07:00 [DBG] Connection id "0HNEP89VK0ASQ" stopped.
2025-08-12 09:13:05.532 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-12 09:13:05.534 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.536 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:13:05.537 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.541 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.542 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:13:05.543 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.545 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.546 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.548 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 09:13:05.549 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.551 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.552 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.554 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:13:05.556 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.557 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:13:05.558 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.560 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:13:05.562 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.563 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:13:05.564 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.565 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:13:05.567 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.568 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:13:05.570 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.572 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:13:05.573 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.575 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 185.007ms
2025-08-12 09:13:05.576 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.577 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:13:05.578 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.579 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:13:05.580 +07:00 [DBG] Connection id "0HNEP89VK0ASR" received FIN.
2025-08-12 09:13:05.581 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.582 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.583 +07:00 [DBG] Connection id "0HNEP89VK0ASR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:13:05.584 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:05.585 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:13:05.586 +07:00 [DBG] Connection id "0HNEP89VK0ASR" disconnecting.
2025-08-12 09:13:05.587 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.589 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 265.8242ms
2025-08-12 09:13:05.591 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 104ms reading results.
2025-08-12 09:13:05.595 +07:00 [DBG] Connection id "0HNEP89VK0ASR" stopped.
2025-08-12 09:13:05.597 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.599 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:13:05.600 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:13:05.601 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:13:05.603 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:13:05.604 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:13:05.605 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:13:05.606 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:13:05.607 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 208.6249ms
2025-08-12 09:13:05.608 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:13:05.610 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:13:05.611 +07:00 [DBG] Connection id "0HNEP89VK0ASS" received FIN.
2025-08-12 09:13:05.612 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:05.613 +07:00 [DBG] Connection id "0HNEP89VK0ASS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:13:05.614 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:13:05.615 +07:00 [DBG] Connection id "0HNEP89VK0ASS" disconnecting.
2025-08-12 09:13:05.617 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 286.2983ms
2025-08-12 09:13:05.621 +07:00 [DBG] Connection id "0HNEP89VK0ASS" stopped.
2025-08-12 09:13:51.235 +07:00 [DBG] Connection id "0HNEP89VK0AST" accepted.
2025-08-12 09:13:51.245 +07:00 [DBG] Connection id "0HNEP89VK0AST" started.
2025-08-12 09:13:51.247 +07:00 [DBG] Connection id "0HNEP89VK0ASU" accepted.
2025-08-12 09:13:51.255 +07:00 [DBG] Connection id "0HNEP89VK0ASU" started.
2025-08-12 09:13:51.255 +07:00 [DBG] Connection id "0HNEP89VK0ASV" accepted.
2025-08-12 09:13:51.266 +07:00 [DBG] Connection 0HNEP89VK0AST established using the following protocol: "Tls13"
2025-08-12 09:13:51.269 +07:00 [DBG] Connection 0HNEP89VK0ASU established using the following protocol: "Tls13"
2025-08-12 09:13:51.269 +07:00 [DBG] Connection id "0HNEP89VK0ASV" started.
2025-08-12 09:13:51.277 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 09:13:51.279 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 09:13:51.283 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 09:13:51.284 +07:00 [DBG] Connection 0HNEP89VK0ASV established using the following protocol: "Tls13"
2025-08-12 09:13:51.286 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:13:51.287 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 09:13:51.288 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-12 09:13:51.289 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:13:51.291 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 09:13:51.293 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:13:51.295 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:13:51.296 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:13:51.297 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:13:51.298 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:13:51.299 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:13:51.301 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:13:51.302 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:13:51.303 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:13:51.303 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:13:51.304 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:13:51.305 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:13:51.306 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:13:51.307 +07:00 [DBG] Authorization was successful.
2025-08-12 09:13:51.308 +07:00 [DBG] Authorization was successful.
2025-08-12 09:13:51.309 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:13:51.310 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:13:51.310 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:13:51.311 +07:00 [DBG] Authorization was successful.
2025-08-12 09:13:51.312 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:13:51.313 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 09:13:51.314 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:13:51.316 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:13:51.318 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:13:51.319 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 09:13:51.321 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:13:51.322 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:13:51.324 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:13:51.325 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:13:51.327 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:13:51.329 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:13:51.330 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:13:51.333 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:13:51.334 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:13:51.335 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:13:51.337 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:13:51.338 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:13:51.340 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:13:51.342 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:13:51.344 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:13:51.345 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:13:51.347 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:13:51.348 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:13:51.350 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:13:51.351 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:13:51.352 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:13:51.353 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:13:51.356 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:13:51.357 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:13:51.359 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:13:51.359 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 09:13:51.361 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-12 09:13:51.363 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:13:51.364 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.366 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:13:51.367 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:13:51.369 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.370 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:13:51.372 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:13:51.373 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:13:51.375 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:13:51.377 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:13:51.378 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:13:51.379 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:13:51.380 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:13:51.382 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-12 09:13:51.385 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:13:51.386 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:13:51.388 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:13:51.390 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:13:51.392 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:13:51.396 +07:00 [DBG] Created DbConnection. (5ms).
2025-08-12 09:13:51.398 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.398 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:13:51.398 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:13:51.400 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.401 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.404 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:13:51.405 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:13:51.406 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.407 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 09:13:51.408 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:13:51.409 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.410 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.411 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-12 09:13:51.413 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.414 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.415 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:13:51.416 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 15ms reading results.
2025-08-12 09:13:51.418 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:13:51.422 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.423 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:13:51.425 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:13:51.426 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 09:13:51.428 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:13:51.431 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:13:51.430 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:13:51.428 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:13:51.432 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:13:51.433 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.437 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:13:51.438 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:13:51.439 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.440 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:13:51.442 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.443 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.444 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 09:13:51.446 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-12 09:13:51.447 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.448 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 105.8396ms
2025-08-12 09:13:51.450 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.451 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.453 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:13:51.454 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 09:13:51.455 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.456 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:13:51.457 +07:00 [DBG] Connection id "0HNEP89VK0AST" received FIN.
2025-08-12 09:13:51.459 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.459 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.460 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.461 +07:00 [DBG] Connection id "0HNEP89VK0AST" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:13:51.463 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.464 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.466 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-12 09:13:51.468 +07:00 [DBG] Connection id "0HNEP89VK0AST" disconnecting.
2025-08-12 09:13:51.469 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:13:51.470 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.471 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 193.7854ms
2025-08-12 09:13:51.474 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:13:51.475 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.477 +07:00 [DBG] Connection id "0HNEP89VK0AST" stopped.
2025-08-12 09:13:51.479 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-12 09:13:51.481 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.483 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:13:51.484 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.488 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.489 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.489 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:13:51.491 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.492 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.493 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.495 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 09:13:51.496 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.497 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.498 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.499 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:13:51.501 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.503 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:13:51.504 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.505 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:13:51.506 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.507 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:13:51.509 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.510 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:13:51.511 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.511 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:13:51.512 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.514 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:13:51.516 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.517 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 177.0606ms
2025-08-12 09:13:51.518 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.520 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:13:51.521 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:13:51.523 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:13:51.524 +07:00 [DBG] Connection id "0HNEP89VK0ASU" received FIN.
2025-08-12 09:13:51.525 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.526 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.527 +07:00 [DBG] Connection id "0HNEP89VK0ASU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:13:51.528 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 94ms reading results.
2025-08-12 09:13:51.530 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 09:13:51.531 +07:00 [DBG] Connection id "0HNEP89VK0ASU" disconnecting.
2025-08-12 09:13:51.532 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.533 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 254.9156ms
2025-08-12 09:13:51.537 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 09:13:51.539 +07:00 [DBG] Connection id "0HNEP89VK0ASU" stopped.
2025-08-12 09:13:51.541 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:13:51.544 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:13:51.545 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:13:51.546 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:13:51.546 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:13:51.547 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:13:51.549 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 200.3927ms
2025-08-12 09:13:51.551 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:13:51.552 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:13:51.553 +07:00 [DBG] Connection id "0HNEP89VK0ASV" received FIN.
2025-08-12 09:13:51.554 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:13:51.555 +07:00 [DBG] Connection id "0HNEP89VK0ASV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:13:51.557 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:13:51.559 +07:00 [DBG] Connection id "0HNEP89VK0ASV" disconnecting.
2025-08-12 09:13:51.560 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 271.996ms
2025-08-12 09:13:51.565 +07:00 [DBG] Connection id "0HNEP89VK0ASV" stopped.
2025-08-12 09:14:23.211 +07:00 [DBG] Connection id "0HNEP89VK0AT0" accepted.
2025-08-12 09:14:23.216 +07:00 [DBG] Connection id "0HNEP89VK0AT0" started.
2025-08-12 09:14:23.220 +07:00 [DBG] Connection id "0HNEP89VK0AT1" accepted.
2025-08-12 09:14:23.222 +07:00 [DBG] Connection id "0HNEP89VK0AT1" started.
2025-08-12 09:14:23.223 +07:00 [DBG] Connection id "0HNEP89VK0AT2" accepted.
2025-08-12 09:14:23.231 +07:00 [DBG] Connection id "0HNEP89VK0AT2" started.
2025-08-12 09:14:23.227 +07:00 [DBG] Connection 0HNEP89VK0AT0 established using the following protocol: "Tls13"
2025-08-12 09:14:23.231 +07:00 [DBG] Connection 0HNEP89VK0AT1 established using the following protocol: "Tls13"
2025-08-12 09:14:23.235 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 09:14:23.236 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 09:14:23.236 +07:00 [DBG] Connection 0HNEP89VK0AT2 established using the following protocol: "Tls13"
2025-08-12 09:14:23.238 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 09:14:23.241 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:14:23.243 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-12 09:14:23.244 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 09:14:23.246 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:14:23.248 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:14:23.250 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 09:14:23.251 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:14:23.254 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:14:23.256 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:14:23.257 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:14:23.258 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:14:23.259 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:14:23.260 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:14:23.261 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:14:23.262 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:14:23.263 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:14:23.263 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:14:23.264 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:14:23.265 +07:00 [DBG] Authorization was successful.
2025-08-12 09:14:23.265 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:14:23.267 +07:00 [DBG] Authorization was successful.
2025-08-12 09:14:23.268 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:14:23.269 +07:00 [DBG] Authorization was successful.
2025-08-12 09:14:23.270 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:14:23.271 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:14:23.271 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:14:23.272 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 09:14:23.275 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:14:23.275 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 09:14:23.277 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:14:23.279 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:14:23.281 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:14:23.282 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:14:23.284 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:14:23.285 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:14:23.287 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:14:23.289 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:14:23.290 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:14:23.292 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:14:23.295 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:14:23.296 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:14:23.298 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:14:23.299 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:14:23.301 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:14:23.303 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:14:23.304 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:14:23.305 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:14:23.307 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:14:23.309 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:14:23.310 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:14:23.311 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:14:23.312 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:14:23.313 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:14:23.316 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:14:23.318 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:14:23.319 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-12 09:14:23.320 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 09:14:23.322 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:14:23.324 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:14:23.325 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.327 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:14:23.329 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:14:23.331 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.334 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:14:23.335 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:14:23.337 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:14:23.339 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:14:23.341 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:14:23.342 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:14:23.343 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:14:23.345 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:14:23.346 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-12 09:14:23.347 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:14:23.350 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:14:23.351 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:14:23.352 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:14:23.353 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 09:14:23.358 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:14:23.359 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:14:23.359 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.361 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:14:23.363 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.364 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.365 +07:00 [DBG] Created DbConnection. (4ms).
2025-08-12 09:14:23.367 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.368 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:14:23.369 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.370 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.372 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:14:23.373 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.374 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.375 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 09:14:23.377 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:14:23.379 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 16ms reading results.
2025-08-12 09:14:23.380 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:14:23.381 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:14:23.382 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.388 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-08-12 09:14:23.389 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (6ms).
2025-08-12 09:14:23.390 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:14:23.392 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:14:23.396 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:14:23.396 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:14:23.397 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:14:23.399 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.401 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.402 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:14:23.403 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.405 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 09:14:23.406 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:14:23.408 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.409 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.410 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:14:23.412 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.414 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 09:14:23.415 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 09:14:23.416 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.418 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.419 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 116.3581ms
2025-08-12 09:14:23.421 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.422 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.424 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:14:23.425 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.430 +07:00 [DBG] Connection id "0HNEP89VK0AT0" received FIN.
2025-08-12 09:14:23.429 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:14:23.428 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:14:23.435 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.436 +07:00 [DBG] Connection id "0HNEP89VK0AT0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:14:23.437 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.438 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-08-12 09:14:23.439 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.441 +07:00 [DBG] Connection id "0HNEP89VK0AT0" disconnecting.
2025-08-12 09:14:23.442 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-12 09:14:23.443 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-08-12 09:14:23.445 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.447 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 212.5456ms
2025-08-12 09:14:23.449 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:14:23.450 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.453 +07:00 [DBG] Connection id "0HNEP89VK0AT0" stopped.
2025-08-12 09:14:23.457 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.458 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:14:23.459 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.462 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.463 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.464 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 09:14:23.465 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.468 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.469 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.470 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:14:23.472 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.473 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:14:23.475 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.478 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:14:23.479 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.479 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:14:23.480 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.482 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:14:23.484 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.484 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:14:23.486 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.487 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:14:23.489 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.490 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 191.246ms
2025-08-12 09:14:23.492 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.493 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:14:23.494 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.496 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:14:23.497 +07:00 [DBG] Connection id "0HNEP89VK0AT1" received FIN.
2025-08-12 09:14:23.498 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.499 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.500 +07:00 [DBG] Connection id "0HNEP89VK0AT1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:14:23.501 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:14:23.503 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 09:14:23.505 +07:00 [DBG] Connection id "0HNEP89VK0AT1" disconnecting.
2025-08-12 09:14:23.506 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.507 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 271.503ms
2025-08-12 09:14:23.510 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 110ms reading results.
2025-08-12 09:14:23.513 +07:00 [DBG] Connection id "0HNEP89VK0AT1" stopped.
2025-08-12 09:14:23.515 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.518 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 09:14:23.520 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:14:23.522 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:14:23.523 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:14:23.525 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:14:23.526 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:14:23.527 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:14:23.528 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 222.5692ms
2025-08-12 09:14:23.529 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:14:23.531 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:14:23.532 +07:00 [DBG] Connection id "0HNEP89VK0AT2" received FIN.
2025-08-12 09:14:23.533 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:14:23.534 +07:00 [DBG] Connection id "0HNEP89VK0AT2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:14:23.535 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:14:23.537 +07:00 [DBG] Connection id "0HNEP89VK0AT2" disconnecting.
2025-08-12 09:14:23.540 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 297.058ms
2025-08-12 09:14:23.544 +07:00 [DBG] Connection id "0HNEP89VK0AT2" stopped.
2025-08-12 09:16:21.969 +07:00 [DBG] Connection id "0HNEP89VK0AT3" accepted.
2025-08-12 09:16:21.976 +07:00 [DBG] Connection id "0HNEP89VK0AT3" started.
2025-08-12 09:16:21.983 +07:00 [DBG] Connection 0HNEP89VK0AT3 established using the following protocol: "Tls13"
2025-08-12 09:16:21.984 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 09:16:21.987 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 09:16:21.990 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 09:16:21.991 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 09:16:21.993 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:16:21.994 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:16:21.995 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:16:21.996 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:16:21.998 +07:00 [DBG] Authorization was successful.
2025-08-12 09:16:21.999 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:16:22.000 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 09:16:22.002 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:16:22.003 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:16:22.005 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:16:22.006 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:16:22.008 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:16:22.010 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:16:22.012 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:16:22.013 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:16:22.016 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:16:22.017 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:16:22.018 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:22.020 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:22.021 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:16:22.022 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:16:22.024 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:16:22.025 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:16:22.031 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:16:22.034 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:22.035 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:22.037 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:22.039 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:16:22.040 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 6ms reading results.
2025-08-12 09:16:22.042 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:22.043 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:16:22.045 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:16:22.047 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:16:22.048 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:16:22.049 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:16:22.050 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:16:22.051 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 09:16:22.053 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 43.055ms
2025-08-12 09:16:22.054 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:16:22.055 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:16:22.056 +07:00 [DBG] Connection id "0HNEP89VK0AT3" received FIN.
2025-08-12 09:16:22.058 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:22.063 +07:00 [DBG] Connection id "0HNEP89VK0AT3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:16:22.065 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-12 09:16:22.066 +07:00 [DBG] Connection id "0HNEP89VK0AT3" disconnecting.
2025-08-12 09:16:22.068 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 83.2806ms
2025-08-12 09:16:22.072 +07:00 [DBG] Connection id "0HNEP89VK0AT3" stopped.
2025-08-12 09:16:31.625 +07:00 [DBG] Connection id "0HNEP89VK0AT4" accepted.
2025-08-12 09:16:31.626 +07:00 [DBG] Connection id "0HNEP89VK0AT4" started.
2025-08-12 09:16:31.631 +07:00 [DBG] Connection 0HNEP89VK0AT4 established using the following protocol: "Tls13"
2025-08-12 09:16:31.632 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-12 09:16:31.635 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:16:31.636 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:16:31.638 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:16:31.639 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:16:31.640 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:16:31.641 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:16:31.643 +07:00 [DBG] Authorization was successful.
2025-08-12 09:16:31.644 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:16:31.645 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 09:16:31.647 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:16:31.649 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:16:31.651 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:16:31.653 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:16:31.655 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:16:31.658 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:16:31.660 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:16:31.662 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:16:31.664 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-12 09:16:31.666 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:16:31.668 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:16:31.670 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:16:31.672 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:16:31.674 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:16:31.677 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:16:31.678 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:16:31.680 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:31.681 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:31.683 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:16:31.685 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:16:31.686 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:16:31.687 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:16:31.697 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:16:31.700 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.701 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.702 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.704 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.705 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.707 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.708 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.709 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.711 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.712 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.714 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.715 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.716 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.717 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.719 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.720 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.721 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.722 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.723 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.725 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.726 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.727 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.728 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.729 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.732 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.733 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.734 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:31.735 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:16:31.736 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 36ms reading results.
2025-08-12 09:16:31.737 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:31.739 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:16:31.741 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:16:31.742 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:16:31.743 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:16:31.743 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:16:31.744 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:16:31.747 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:16:31.748 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 90.5173ms
2025-08-12 09:16:31.749 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:16:31.750 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:16:31.751 +07:00 [DBG] Connection id "0HNEP89VK0AT4" received FIN.
2025-08-12 09:16:31.751 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:31.753 +07:00 [DBG] Connection id "0HNEP89VK0AT4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:16:31.755 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:16:31.756 +07:00 [DBG] Connection id "0HNEP89VK0AT4" disconnecting.
2025-08-12 09:16:31.757 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 125.2585ms
2025-08-12 09:16:31.762 +07:00 [DBG] Connection id "0HNEP89VK0AT4" stopped.
2025-08-12 09:16:32.165 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-12 09:16:32.172 +07:00 [DBG] Connection id "0HNEP89VK0AT5" accepted.
2025-08-12 09:16:32.173 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:16:32.174 +07:00 [DBG] Connection id "0HNEP89VK0AT5" started.
2025-08-12 09:16:32.176 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 09:16:32.178 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:16:32.179 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:16:32.180 +07:00 [DBG] Connection 0HNEP89VK0AT5 established using the following protocol: "Tls13"
2025-08-12 09:16:32.180 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:16:32.182 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 09:16:32.182 +07:00 [DBG] The request is a preflight request.
2025-08-12 09:16:32.185 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 09:16:32.186 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 22.1274ms
2025-08-12 09:16:32.187 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 09:16:32.193 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:16:32.194 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:16:32.195 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:16:32.197 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:16:32.198 +07:00 [DBG] Authorization was successful.
2025-08-12 09:16:32.199 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:16:32.200 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 09:16:32.201 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 09:16:32.204 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:16:32.206 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:16:32.207 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 09:16:32.208 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:16:32.210 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:16:32.212 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:16:32.214 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:16:32.216 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:16:32.217 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:16:32.219 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:16:32.221 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:16:32.223 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:16:32.223 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:16:32.226 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:16:32.227 +07:00 [DBG] Authorization was successful.
2025-08-12 09:16:32.227 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:16:32.228 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:16:32.230 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:16:32.230 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 09:16:32.233 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:16:32.234 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:16:32.235 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 09:16:32.236 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:16:32.237 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:32.239 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:16:32.240 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:32.242 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:16:32.243 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:16:32.244 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:16:32.245 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:16:32.247 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:16:32.248 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:16:32.250 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:16:32.251 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 09:16:32.253 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:16:32.257 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:16:32.258 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:16:32.260 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:32.261 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:32.262 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:16:32.263 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:16:32.264 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:16:32.266 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:16:32.267 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 09:16:32.270 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:16:32.272 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.274 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.275 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.276 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.277 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.278 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.280 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.282 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:16:32.283 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.284 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-12 09:16:32.285 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.287 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:32.289 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.290 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:16:32.291 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.292 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:16:32.293 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.296 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:16:32.297 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.298 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:16:32.299 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.300 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:16:32.302 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.303 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:16:32.304 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.305 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:16:32.307 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.309 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 62.337ms
2025-08-12 09:16:32.311 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.313 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:16:32.315 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.317 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:16:32.319 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.320 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:32.323 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.324 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:16:32.326 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.327 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 127.2171ms
2025-08-12 09:16:32.329 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.333 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.335 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.337 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.339 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.340 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.341 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.343 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.345 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.346 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.347 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.348 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.351 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.352 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.353 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.355 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.356 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.358 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.359 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.361 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.362 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.364 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.366 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.367 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.368 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.370 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.372 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.373 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.374 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.376 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.377 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.379 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.380 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.381 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.383 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.384 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.386 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.387 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.388 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.389 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.390 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.392 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.393 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.395 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.396 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.397 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:32.398 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:16:32.400 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 128ms reading results.
2025-08-12 09:16:32.402 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:32.403 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:16:32.404 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:16:32.407 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:16:32.408 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:16:32.409 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:16:32.410 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:16:32.411 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:16:32.413 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 189.9906ms
2025-08-12 09:16:32.414 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:16:32.415 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:16:32.416 +07:00 [DBG] Connection id "0HNEP89VK0AT5" received FIN.
2025-08-12 09:16:32.417 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:32.418 +07:00 [DBG] Connection id "0HNEP89VK0AT5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:16:32.420 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:16:32.421 +07:00 [DBG] Connection id "0HNEP89VK0AT5" disconnecting.
2025-08-12 09:16:32.422 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 240.9747ms
2025-08-12 09:16:32.427 +07:00 [DBG] Connection id "0HNEP89VK0AT5" stopped.
2025-08-12 09:16:35.009 +07:00 [DBG] Connection id "0HNEP89VK0AT6" accepted.
2025-08-12 09:16:35.011 +07:00 [DBG] Connection id "0HNEP89VK0AT6" started.
2025-08-12 09:16:35.015 +07:00 [DBG] Connection 0HNEP89VK0AT6 established using the following protocol: "Tls13"
2025-08-12 09:16:35.017 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 09:16:35.019 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 09:16:35.020 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 09:16:35.022 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 09:16:35.024 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:16:35.026 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:16:35.027 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:16:35.028 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:16:35.030 +07:00 [DBG] Authorization was successful.
2025-08-12 09:16:35.031 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:16:35.032 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 09:16:35.034 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:16:35.035 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:16:35.036 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:16:35.039 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:16:35.041 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:16:35.043 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:16:35.044 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:16:35.046 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:16:35.048 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:16:35.048 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:16:35.049 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:35.051 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:35.052 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:16:35.053 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:16:35.055 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:16:35.057 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:16:35.061 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:16:35.064 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:35.065 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:35.067 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:35.068 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:16:35.069 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 09:16:35.070 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:35.071 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:16:35.073 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:16:35.075 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:16:35.076 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:16:35.077 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:16:35.077 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:16:35.079 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 09:16:35.080 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 37.5794ms
2025-08-12 09:16:35.082 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:16:35.083 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:16:35.083 +07:00 [DBG] Connection id "0HNEP89VK0AT6" received FIN.
2025-08-12 09:16:35.084 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:35.085 +07:00 [DBG] Connection id "0HNEP89VK0AT6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:16:35.086 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:16:35.087 +07:00 [DBG] Connection id "0HNEP89VK0AT6" disconnecting.
2025-08-12 09:16:35.089 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 72.0752ms
2025-08-12 09:16:35.093 +07:00 [DBG] Connection id "0HNEP89VK0AT6" stopped.
2025-08-12 09:16:36.032 +07:00 [DBG] Connection id "0HNEP89VK0AT7" accepted.
2025-08-12 09:16:36.034 +07:00 [DBG] Connection id "0HNEP89VK0AT7" started.
2025-08-12 09:16:36.038 +07:00 [DBG] Connection 0HNEP89VK0AT7 established using the following protocol: "Tls13"
2025-08-12 09:16:36.040 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-12 09:16:36.042 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:16:36.043 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:16:36.045 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:16:36.047 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:16:36.048 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:16:36.049 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:16:36.050 +07:00 [DBG] Authorization was successful.
2025-08-12 09:16:36.051 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:16:36.053 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 09:16:36.055 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:16:36.056 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:16:36.058 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:16:36.061 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:16:36.063 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:16:36.065 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:16:36.066 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:16:36.067 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:16:36.069 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-12 09:16:36.070 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:16:36.072 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:16:36.074 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:16:36.075 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:16:36.078 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:16:36.081 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:16:36.082 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:16:36.083 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.084 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.086 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:16:36.087 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:16:36.088 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:16:36.090 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:16:36.094 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:16:36.097 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.098 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.099 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.101 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.102 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.103 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.105 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.106 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.108 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.109 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.110 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.111 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.113 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.114 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.115 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.116 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.118 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.119 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.120 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.123 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.124 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.126 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.127 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.129 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.130 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.131 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.132 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.133 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.135 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 38ms reading results.
2025-08-12 09:16:36.137 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.138 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:16:36.140 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:16:36.142 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:16:36.143 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:16:36.143 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:16:36.144 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:16:36.145 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:16:36.146 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 81.8032ms
2025-08-12 09:16:36.148 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:16:36.149 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:16:36.150 +07:00 [DBG] Connection id "0HNEP89VK0AT7" received FIN.
2025-08-12 09:16:36.150 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.152 +07:00 [DBG] Connection id "0HNEP89VK0AT7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:16:36.153 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:16:36.154 +07:00 [DBG] Connection id "0HNEP89VK0AT7" disconnecting.
2025-08-12 09:16:36.156 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 116.0132ms
2025-08-12 09:16:36.159 +07:00 [DBG] Connection id "0HNEP89VK0AT7" stopped.
2025-08-12 09:16:36.481 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 09:16:36.484 +07:00 [DBG] Connection id "0HNEP89VK0AT8" accepted.
2025-08-12 09:16:36.486 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:16:36.487 +07:00 [DBG] Connection id "0HNEP89VK0AT8" started.
2025-08-12 09:16:36.488 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 09:16:36.492 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:16:36.493 +07:00 [DBG] Connection 0HNEP89VK0AT8 established using the following protocol: "Tls13"
2025-08-12 09:16:36.493 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:16:36.494 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 09:16:36.495 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:16:36.498 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 09:16:36.499 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:16:36.500 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 09:16:36.501 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:16:36.502 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:16:36.503 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:16:36.505 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:16:36.506 +07:00 [DBG] Authorization was successful.
2025-08-12 09:16:36.507 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:16:36.507 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:16:36.508 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:16:36.510 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 09:16:36.511 +07:00 [DBG] Authorization was successful.
2025-08-12 09:16:36.513 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:16:36.514 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:16:36.516 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:16:36.517 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 09:16:36.519 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:16:36.521 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:16:36.522 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:16:36.525 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:16:36.527 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:16:36.528 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:16:36.530 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:16:36.532 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:16:36.534 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:16:36.535 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:16:36.538 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:16:36.539 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:16:36.541 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:16:36.542 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:16:36.542 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:16:36.544 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:16:36.546 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.548 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:16:36.549 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.549 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:16:36.550 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:16:36.552 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.553 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:16:36.554 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.555 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:16:36.556 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:16:36.559 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:16:36.560 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:16:36.564 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:16:36.565 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-12 09:16:36.567 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.568 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 09:16:36.569 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.573 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 09:16:36.573 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.575 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.577 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.578 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.579 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 12ms reading results.
2025-08-12 09:16:36.580 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.582 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.583 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.584 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:16:36.587 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.588 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:16:36.589 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.591 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:16:36.592 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.594 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:16:36.595 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.596 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:16:36.597 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.598 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:16:36.599 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.601 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:16:36.602 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.604 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 73.8377ms
2025-08-12 09:16:36.605 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.606 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:16:36.607 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.608 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:16:36.610 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.611 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.612 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.613 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:16:36.615 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.616 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 135.4242ms
2025-08-12 09:16:36.617 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.622 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.624 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.625 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.626 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.628 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.629 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.630 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.632 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.633 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.635 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.637 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.638 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.640 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.642 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.644 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.646 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.647 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.649 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.651 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.652 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.653 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.654 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.656 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.657 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.658 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.660 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.661 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.663 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.664 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.665 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.666 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.667 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.670 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.671 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.672 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.673 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.675 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.677 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.678 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.680 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.681 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.682 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.683 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.685 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.686 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.687 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.688 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.690 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:16:36.691 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.692 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 117ms reading results.
2025-08-12 09:16:36.694 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.695 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:16:36.697 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:16:36.699 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:16:36.700 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:16:36.701 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:16:36.701 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:16:36.702 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:16:36.704 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 165.2653ms
2025-08-12 09:16:36.706 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:16:36.707 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:16:36.707 +07:00 [DBG] Connection id "0HNEP89VK0AT8" received FIN.
2025-08-12 09:16:36.708 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:16:36.709 +07:00 [DBG] Connection id "0HNEP89VK0AT8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:16:36.710 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:16:36.712 +07:00 [DBG] Connection id "0HNEP89VK0AT8" disconnecting.
2025-08-12 09:16:36.713 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 219.168ms
2025-08-12 09:16:36.717 +07:00 [DBG] Connection id "0HNEP89VK0AT8" stopped.
2025-08-12 09:17:22.564 +07:00 [DBG] Connection id "0HNEP89VK0AT9" accepted.
2025-08-12 09:17:22.571 +07:00 [DBG] Connection id "0HNEP89VK0AT9" started.
2025-08-12 09:17:22.577 +07:00 [DBG] Connection 0HNEP89VK0AT9 established using the following protocol: "Tls13"
2025-08-12 09:17:22.578 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 09:17:22.582 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 09:17:22.583 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 09:17:22.585 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 09:17:22.587 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:17:22.588 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:22.589 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:17:22.590 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:17:22.592 +07:00 [DBG] Authorization was successful.
2025-08-12 09:17:22.593 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:17:22.595 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 09:17:22.597 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:17:22.600 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:17:22.601 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:17:22.604 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:17:22.606 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:17:22.607 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:17:22.609 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:17:22.612 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:17:22.614 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:17:22.615 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:17:22.617 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:22.618 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:22.620 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:22.621 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:17:22.622 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:17:22.624 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:17:22.629 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:17:22.631 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:22.632 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:22.633 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:22.634 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:22.635 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 3ms reading results.
2025-08-12 09:17:22.637 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:22.639 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:17:22.640 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:17:22.645 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:17:22.646 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:17:22.647 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:17:22.648 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:17:22.650 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 09:17:22.653 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 46.2299ms
2025-08-12 09:17:22.655 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:17:22.657 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:17:22.659 +07:00 [DBG] Connection id "0HNEP89VK0AT9" received FIN.
2025-08-12 09:17:22.663 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:22.667 +07:00 [DBG] Connection id "0HNEP89VK0AT9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:17:22.669 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-12 09:17:22.670 +07:00 [DBG] Connection id "0HNEP89VK0AT9" disconnecting.
2025-08-12 09:17:22.672 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 93.9409ms
2025-08-12 09:17:22.678 +07:00 [DBG] Connection id "0HNEP89VK0AT9" stopped.
2025-08-12 09:17:23.773 +07:00 [DBG] Connection id "0HNEP89VK0ATA" accepted.
2025-08-12 09:17:23.774 +07:00 [DBG] Connection id "0HNEP89VK0ATA" started.
2025-08-12 09:17:23.779 +07:00 [DBG] Connection 0HNEP89VK0ATA established using the following protocol: "Tls13"
2025-08-12 09:17:23.780 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-12 09:17:23.783 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:17:23.784 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:17:23.786 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:17:23.787 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:23.788 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:17:23.789 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:17:23.791 +07:00 [DBG] Authorization was successful.
2025-08-12 09:17:23.792 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:17:23.793 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 09:17:23.795 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:17:23.797 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:17:23.799 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:17:23.800 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:17:23.802 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:17:23.804 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:17:23.805 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:17:23.807 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:17:23.808 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-12 09:17:23.810 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:17:23.812 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:17:23.813 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:17:23.815 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:17:23.817 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:17:23.820 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:17:23.821 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:17:23.822 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:23.824 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:23.826 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:23.827 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:17:23.828 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:17:23.829 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:17:23.840 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:17:23.845 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.847 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.848 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.849 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.850 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.852 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.853 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.854 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.856 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.857 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.858 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.860 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.862 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.863 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.865 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.868 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.870 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.872 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.874 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.876 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.877 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.878 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.880 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.881 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.883 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.884 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.885 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:23.886 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:23.888 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 43ms reading results.
2025-08-12 09:17:23.889 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:23.891 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:17:23.892 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:17:23.895 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:17:23.895 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:17:23.896 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:17:23.897 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:17:23.898 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:17:23.899 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 95.6101ms
2025-08-12 09:17:23.901 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:17:23.902 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:17:23.903 +07:00 [DBG] Connection id "0HNEP89VK0ATA" received FIN.
2025-08-12 09:17:23.904 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:23.905 +07:00 [DBG] Connection id "0HNEP89VK0ATA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:17:23.906 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:17:23.907 +07:00 [DBG] Connection id "0HNEP89VK0ATA" disconnecting.
2025-08-12 09:17:23.908 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 128.0081ms
2025-08-12 09:17:23.912 +07:00 [DBG] Connection id "0HNEP89VK0ATA" stopped.
2025-08-12 09:17:25.098 +07:00 [DBG] Connection id "0HNEP89VK0ATB" accepted.
2025-08-12 09:17:25.099 +07:00 [DBG] Connection id "0HNEP89VK0ATB" started.
2025-08-12 09:17:25.104 +07:00 [DBG] Connection 0HNEP89VK0ATB established using the following protocol: "Tls13"
2025-08-12 09:17:25.105 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-12 09:17:25.108 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:17:25.109 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:17:25.111 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:17:25.112 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:25.113 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:17:25.114 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:17:25.115 +07:00 [DBG] Authorization was successful.
2025-08-12 09:17:25.116 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:17:25.117 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 09:17:25.119 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:17:25.121 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:17:25.122 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:17:25.125 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:17:25.127 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:17:25.128 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:17:25.130 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:17:25.131 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:17:25.133 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-12 09:17:25.135 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:17:25.136 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:17:25.138 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:17:25.140 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:17:25.142 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:17:25.147 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:17:25.148 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:17:25.150 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.152 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.154 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:25.155 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:17:25.156 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:17:25.158 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:17:25.162 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:17:25.165 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.166 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.168 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.169 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.170 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.172 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.173 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.174 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.175 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.177 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.178 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.180 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.181 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.182 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.184 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.185 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.187 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.188 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.190 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.191 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.192 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.194 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.195 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.197 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.198 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.200 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.201 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.202 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.204 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 38ms reading results.
2025-08-12 09:17:25.205 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.207 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:17:25.208 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:17:25.210 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:17:25.211 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:17:25.212 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:17:25.212 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:17:25.214 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:17:25.215 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 86.9541ms
2025-08-12 09:17:25.216 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:17:25.217 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:17:25.218 +07:00 [DBG] Connection id "0HNEP89VK0ATB" received FIN.
2025-08-12 09:17:25.219 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.220 +07:00 [DBG] Connection id "0HNEP89VK0ATB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:17:25.221 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:17:25.222 +07:00 [DBG] Connection id "0HNEP89VK0ATB" disconnecting.
2025-08-12 09:17:25.224 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 118.6893ms
2025-08-12 09:17:25.228 +07:00 [DBG] Connection id "0HNEP89VK0ATB" stopped.
2025-08-12 09:17:25.534 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-12 09:17:25.541 +07:00 [DBG] Connection id "0HNEP89VK0ATC" accepted.
2025-08-12 09:17:25.543 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:17:25.544 +07:00 [DBG] Connection id "0HNEP89VK0ATC" started.
2025-08-12 09:17:25.545 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 09:17:25.547 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:25.548 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:17:25.550 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:17:25.550 +07:00 [DBG] Connection 0HNEP89VK0ATC established using the following protocol: "Tls13"
2025-08-12 09:17:25.551 +07:00 [DBG] The request is a preflight request.
2025-08-12 09:17:25.552 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 09:17:25.553 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 18.3815ms
2025-08-12 09:17:25.556 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 09:17:25.556 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 09:17:25.563 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:17:25.564 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 09:17:25.565 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 09:17:25.566 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:17:25.569 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:17:25.570 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:25.572 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:25.573 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:17:25.573 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:17:25.575 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:17:25.576 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:17:25.578 +07:00 [DBG] Authorization was successful.
2025-08-12 09:17:25.579 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:17:25.580 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:17:25.581 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:17:25.583 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 09:17:25.584 +07:00 [DBG] Authorization was successful.
2025-08-12 09:17:25.587 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:17:25.588 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:17:25.590 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:17:25.592 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 09:17:25.594 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:17:25.596 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:17:25.598 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:17:25.599 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:17:25.600 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:17:25.602 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:17:25.608 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:17:25.610 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:17:25.611 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:17:25.613 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:17:25.615 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:17:25.616 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:17:25.618 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:17:25.619 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:17:25.620 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:17:25.621 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:17:25.622 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.624 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:17:25.626 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.627 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 09:17:25.628 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:25.629 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.630 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:17:25.632 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.633 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:17:25.634 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:25.635 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 09:17:25.636 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:17:25.641 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 09:17:25.642 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:17:25.647 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:17:25.649 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.651 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.651 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 09:17:25.653 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.655 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.656 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.657 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.659 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 9ms reading results.
2025-08-12 09:17:25.660 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.662 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.663 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.664 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:17:25.666 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.668 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:17:25.669 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.671 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:17:25.672 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.673 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:17:25.675 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.676 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:17:25.677 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.678 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:17:25.680 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.681 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:17:25.682 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.684 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 67.9177ms
2025-08-12 09:17:25.686 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.691 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:17:25.693 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.694 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:17:25.695 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.696 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.697 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.698 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:17:25.700 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.701 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 145.9408ms
2025-08-12 09:17:25.702 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.706 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.708 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.709 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.710 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.711 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.712 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.715 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.716 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.717 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.718 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.720 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.722 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.723 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.724 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.725 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.727 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.729 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.731 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.732 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.733 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.735 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.737 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.738 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.739 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.741 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.743 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.744 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.745 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.746 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.747 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.749 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.751 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.753 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.754 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.756 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.758 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.759 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.760 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.761 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.764 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.765 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.766 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.767 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.769 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.771 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.772 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.773 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.774 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:25.776 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.778 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 123ms reading results.
2025-08-12 09:17:25.779 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.780 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:17:25.781 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:17:25.785 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:17:25.785 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:17:25.786 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:17:25.787 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:17:25.788 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:17:25.790 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 182.7732ms
2025-08-12 09:17:25.792 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:17:25.794 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:17:25.795 +07:00 [DBG] Connection id "0HNEP89VK0ATC" received FIN.
2025-08-12 09:17:25.795 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:25.797 +07:00 [DBG] Connection id "0HNEP89VK0ATC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:17:25.799 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:17:25.801 +07:00 [DBG] Connection id "0HNEP89VK0ATC" disconnecting.
2025-08-12 09:17:25.803 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 251.2874ms
2025-08-12 09:17:25.808 +07:00 [DBG] Connection id "0HNEP89VK0ATC" stopped.
2025-08-12 09:17:37.608 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-12 09:17:37.611 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 09:17:37.612 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 09:17:37.613 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:37.614 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:17:37.615 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:17:37.616 +07:00 [DBG] The request is a preflight request.
2025-08-12 09:17:37.617 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 9.0679ms
2025-08-12 09:17:37.619 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-12 09:17:37.623 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 09:17:37.625 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-12 09:17:37.626 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 09:17:37.627 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:37.627 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:17:37.628 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:17:37.629 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 09:17:37.631 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 09:17:37.632 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-12 09:17:37.634 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:17:37.635 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:17:37.637 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:17:37.639 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:17:37.641 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:17:37.642 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 09:17:37.646 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 09:17:37.647 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 09:17:37.648 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-12 09:17:37.650 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 09:17:37.651 +07:00 [DBG] Connection id "0HNEP89VK0ASH", Request id "0HNEP89VK0ASH:00000011": started reading request body.
2025-08-12 09:17:37.653 +07:00 [DBG] Connection id "0HNEP89VK0ASH", Request id "0HNEP89VK0ASH:00000011": done reading request body.
2025-08-12 09:17:37.654 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-12 09:17:37.655 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 09:17:37.656 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 09:17:37.657 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 09:17:37.659 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 09:17:37.661 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: student1
2025-08-12 09:17:37.662 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:17:37.664 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:17:37.665 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:17:37.666 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.668 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.669 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:37.670 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:17:37.671 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:17:37.673 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 09:17:37.677 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 09:17:37.679 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:37.681 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.682 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 09:17:37.683 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.685 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:17:37.687 +07:00 [INF] 🔓 Login successful for user: student1
2025-08-12 09:17:37.697 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-08-12 09:17:37.704 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Student>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Student>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            WHERE s.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode
            FROM Students AS s
            WHERE s.Id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Student entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Student instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Student);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Student)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Student")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Student")]: 
                            {
                                return 
                                {
                                    Student instance;
                                    instance = new Student();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DepartmentId>k__BackingField = dataReader.GetInt32(2);
                                    instance.<Gender>k__BackingField = dataReader.GetString(3);
                                    instance.<ProgramId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<StudentCode>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Student)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 09:17:37.710 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.712 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.714 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:37.715 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:17:37.717 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:17:37.718 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-12 09:17:37.722 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-08-12 09:17:37.725 +07:00 [DBG] The navigation 'User.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:37.726 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:37.728 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.729 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 09:17:37.731 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.732 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:17:37.733 +07:00 [INF] ✅ Đăng nhập thành công cho user: student1
2025-08-12 09:17:37.734 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:17:37.736 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:17:37.737 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:17:37.737 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:17:37.738 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:17:37.739 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-12 09:17:37.740 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 98.2934ms
2025-08-12 09:17:37.742 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 09:17:37.743 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:17:37.744 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.746 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 09:17:37.748 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 129.4427ms
2025-08-12 09:17:37.802 +07:00 [DBG] Connection id "0HNEP89VK0ATD" accepted.
2025-08-12 09:17:37.804 +07:00 [DBG] Connection id "0HNEP89VK0ATD" started.
2025-08-12 09:17:37.809 +07:00 [DBG] Connection 0HNEP89VK0ATD established using the following protocol: "Tls13"
2025-08-12 09:17:37.811 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:17:37.814 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:17:37.815 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:17:37.817 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:17:37.818 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:37.819 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:17:37.821 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:17:37.822 +07:00 [DBG] Authorization was successful.
2025-08-12 09:17:37.823 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:17:37.824 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:17:37.827 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:17:37.828 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:17:37.830 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:17:37.832 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:17:37.834 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:17:37.836 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:17:37.838 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:17:37.840 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:17:37.842 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:17:37.844 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:17:37.847 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:17:37.849 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:17:37.852 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:17:37.855 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:17:37.857 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:17:37.858 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:17:37.859 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:17:37.861 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:17:37.863 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:17:37.863 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:17:37.864 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.867 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.868 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:37.869 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:17:37.871 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:17:37.872 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:17:37.876 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:17:37.878 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.880 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:17:37.882 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.883 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:17:37.885 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.886 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.887 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:37.888 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:17:37.889 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:17:37.890 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:17:37.895 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:17:37.897 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.898 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:17:37.899 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.900 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:17:37.902 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:17:37.904 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:17:37.904 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:17:37.905 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:17:37.906 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:17:37.906 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:17:37.908 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 71.6786ms
2025-08-12 09:17:37.909 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:17:37.910 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:17:37.911 +07:00 [DBG] Connection id "0HNEP89VK0ATD" received FIN.
2025-08-12 09:17:37.911 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:37.913 +07:00 [DBG] Connection id "0HNEP89VK0ATD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:17:37.915 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:17:37.916 +07:00 [DBG] Connection id "0HNEP89VK0ATD" disconnecting.
2025-08-12 09:17:37.918 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 106.4635ms
2025-08-12 09:17:37.923 +07:00 [DBG] Connection id "0HNEP89VK0ATD" stopped.
2025-08-12 09:17:40.130 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/me - null null
2025-08-12 09:17:40.134 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-12 09:17:40.135 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 09:17:40.136 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:40.138 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:17:40.139 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:17:40.140 +07:00 [DBG] The request is a preflight request.
2025-08-12 09:17:40.141 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/me - 204 null null 11.0245ms
2025-08-12 09:17:40.143 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/me - null null
2025-08-12 09:17:40.147 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-12 09:17:40.148 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)' with route pattern 'api/student/me' is valid for the request path '/api/student/me'
2025-08-12 09:17:40.150 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-12 09:17:40.151 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:40.152 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:17:40.153 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:17:40.154 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:17:40.155 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:17:40.156 +07:00 [DBG] Authorization was successful.
2025-08-12 09:17:40.157 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-12 09:17:40.162 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 09:17:40.164 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:17:40.166 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:17:40.167 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:17:40.169 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:17:40.170 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:17:40.172 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:17:40.174 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:17:40.180 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:17:40.183 +07:00 [DBG] Compiling query expression: 
'DbSet<Student>()
    .Include(s => s.User)
    .Include(s => s.Department)
    .Include(s => s.Program)
    .FirstOrDefault(s => s.Id == __id_0)'
2025-08-12 09:17:40.185 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-12 09:17:40.187 +07:00 [DBG] Including navigation: 'Student.Department'.
2025-08-12 09:17:40.189 +07:00 [DBG] Including navigation: 'Student.Program'.
2025-08-12 09:17:40.202 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Student>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Student>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
                2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
                3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
            FROM Students AS s
            INNER JOIN Users AS u ON s.Id == u.Id
            INNER JOIN Departments AS d ON s.DepartmentId == d.Id
            INNER JOIN EducationPrograms AS e ON s.ProgramId == e.Id
            WHERE s.Id == @__id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 0], [Property: Student.DateOfBirth (DateTime) Required, 1], [Property: Student.DepartmentId (int) Required FK Index, 2], [Property: Student.Gender (string) Required, 3], [Property: Student.ProgramId (int) Required FK Index, 4], [Property: Student.StudentCode (string) Required, 5] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.Email (string), 7], [Property: User.FullName (string) Required, 8], [Property: User.PasswordHash (string) Required, 9], [Property: User.Phone (string), 10], [Property: User.Role (string) Required, 11], [Property: User.Username (string) Required, 12] }
                2 -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Department.Name (string) Required, 14] }
                3 -> Dictionary<IProperty, int> { [Property: EducationProgram.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: EducationProgram.Name (string) Required, 16] }
            SELECT TOP(1) s.Id, s.DateOfBirth, s.DepartmentId, s.Gender, s.ProgramId, s.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, d.Id, d.Name, e.Id, e.Name
            FROM Students AS s
            INNER JOIN Users AS u ON s.Id == u.Id
            INNER JOIN Departments AS d ON s.DepartmentId == d.Id
            INNER JOIN EducationPrograms AS e ON s.ProgramId == e.Id
            WHERE s.Id == @__id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Student entity;
            User entity;
            Department entity;
            EducationProgram entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Student instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Student);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Student)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Student")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Student")]: 
                            {
                                return 
                                {
                                    Student instance;
                                    instance = new Student();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DepartmentId>k__BackingField = dataReader.GetInt32(2);
                                    instance.<Gender>k__BackingField = dataReader.GetString(3);
                                    instance.<ProgramId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<StudentCode>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Student)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                User instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(User);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (User)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("User")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<FullName>k__BackingField = dataReader.GetString(8);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(9);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<Role>k__BackingField = dataReader.GetString(11);
                                    instance.<Username>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                Department instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(Department);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Department.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Department").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (Department)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Department")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Department")]: 
                            {
                                return 
                                {
                                    Department instance;
                                    instance = new Department();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                    instance.<Name>k__BackingField = dataReader.GetString(14);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext3.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Department | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Department")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Department)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            entity = 
            {
                MaterializationContext materializationContext4;
                IEntityType entityType4;
                EducationProgram instance4;
                InternalEntityEntry entry4;
                bool hasNullKey4;
                materializationContext4 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance4 = default(EducationProgram);
                entry4 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EducationProgram.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EducationProgram").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(15) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey4);
                !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                {
                    entityType4 = entry4.EntityType;
                    return instance4 = (EducationProgram)entry4.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot4;
                    shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType4 = [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("EducationProgram")];
                    instance4 = switch (entityType4)
                    {
                        case [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("EducationProgram")]: 
                            {
                                return 
                                {
                                    EducationProgram instance;
                                    instance = new EducationProgram();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(15);
                                    instance.<Name>k__BackingField = dataReader.GetString(16);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext4.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: EducationProgram | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("EducationProgram")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(EducationProgram)
                    }
                    ;
                    entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType4, 
                        entity: instance4, 
                        snapshot: shadowSnapshot4);
                    return instance4;
                } : default(void);
                return instance4;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
                fixup: (namelessParameter{14}, namelessParameter{15}) => 
                {
                    namelessParameter{14}.<User>k__BackingField = namelessParameter{15};
                    return namelessParameter{15}.<Student>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, Department>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Student.Department (Department) ToPrincipal Department Inverse: Students | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("Student").FindNavigation("Department")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Department.Students (ICollection<Student>) Collection ToDependent Student Inverse: Department | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students")], 
                fixup: (namelessParameter{18}, namelessParameter{19}) => 
                {
                    namelessParameter{18}.<Department>k__BackingField = namelessParameter{19};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Department, ICollection<Student>, Student> | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Department").FindNavigation("Students").GetCollectionAccessor()].Add(
                        entity: namelessParameter{19}, 
                        value: namelessParameter{18}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, EducationProgram>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Student.Program (EducationProgram) ToPrincipal EducationProgram Inverse: Students | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Student").FindNavigation("Program")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: EducationProgram.Students (ICollection<Student>) Collection ToDependent Student Inverse: Program | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students")], 
                fixup: (namelessParameter{23}, namelessParameter{24}) => 
                {
                    namelessParameter{23}.<Program>k__BackingField = namelessParameter{24};
                    return [LIFTABLE Constant: ClrICollectionAccessor<EducationProgram, ICollection<Student>, Student> | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("EducationProgram").FindNavigation("Students").GetCollectionAccessor()].Add(
                        entity: namelessParameter{24}, 
                        value: namelessParameter{23}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: StudentManagementAPI.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-08-12 09:17:40.210 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:17:40.210 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:17:40.211 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:40.212 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:40.214 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:40.215 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:17:40.217 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:17:40.218 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-12 09:17:40.226 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-12 09:17:40.229 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:40.231 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:40.232 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:40.235 +07:00 [DBG] The navigation 'Student.Department' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:40.238 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:40.244 +07:00 [DBG] The navigation 'Student.Program' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:40.246 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:40.249 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:40.251 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 21ms reading results.
2025-08-12 09:17:40.252 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:40.254 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:17:40.258 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:17:40.260 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:17:40.261 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:17:40.263 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:17:40.264 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:17:40.266 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentDto'.
2025-08-12 09:17:40.270 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI) in 97.7163ms
2025-08-12 09:17:40.272 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-12 09:17:40.273 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:17:40.274 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:40.275 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 09:17:40.277 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/me - 200 null application/json; charset=utf-8 134.5007ms
2025-08-12 09:17:43.790 +07:00 [DBG] Connection id "0HNEP89VK0ATE" accepted.
2025-08-12 09:17:43.792 +07:00 [DBG] Connection id "0HNEP89VK0ATE" started.
2025-08-12 09:17:43.792 +07:00 [DBG] Connection id "0HNEP89VK0ATF" accepted.
2025-08-12 09:17:43.794 +07:00 [DBG] Connection id "0HNEP89VK0ATF" started.
2025-08-12 09:17:43.796 +07:00 [DBG] Connection 0HNEP89VK0ATE established using the following protocol: "Tls13"
2025-08-12 09:17:43.799 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-12 09:17:43.800 +07:00 [DBG] Connection 0HNEP89VK0ATF established using the following protocol: "Tls13"
2025-08-12 09:17:43.802 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-12 09:17:43.803 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-12 09:17:43.804 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-12 09:17:43.807 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:17:43.809 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:17:43.811 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 09:17:43.812 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:43.815 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:17:43.816 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:17:43.816 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:43.817 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:17:43.818 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:17:43.819 +07:00 [DBG] Authorization was successful.
2025-08-12 09:17:43.820 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:17:43.821 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:17:43.823 +07:00 [DBG] Authorization was successful.
2025-08-12 09:17:43.825 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:17:43.826 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 09:17:43.827 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 09:17:43.828 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:17:43.830 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:17:43.832 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:17:43.834 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:17:43.836 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:17:43.838 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:17:43.841 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:17:43.842 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:17:43.844 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:17:43.845 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:17:43.847 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:17:43.848 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:17:43.849 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:17:43.851 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:17:43.852 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:17:43.855 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:17:43.856 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:17:43.856 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:17:43.860 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:43.862 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:43.862 +07:00 [DBG] Compiling query expression: 
'DbSet<SubjectDto>().FromSql(
SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7, __p_0)
'
2025-08-12 09:17:43.863 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:43.865 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:17:43.866 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:17:43.868 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:17:43.872 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:17:43.872 +07:00 [DBG] Generated query execution expression: 
'queryContext => FromSqlQueryingEnumerable.Create<SubjectDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubjectDto.Credit (int) Required, 0], [Property: SubjectDto.Description (string) Required, 1], [Property: SubjectDto.Id (int) Required, 2], [Property: SubjectDto.Name (string) Required, 3], [Property: SubjectDto.SemesterId (int) Required, 4], [Property: SubjectDto.SemesterName (string), 5], [Property: SubjectDto.SubjectCode (string) Required, 6] }
        SELECT s.Credit, s.Description, s.Id, s.Name, s.SemesterId, s.SemesterName, s.SubjectCode
        FROM 
SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubjectDto.Credit (int) Required, 0], [Property: SubjectDto.Description (string) Required, 1], [Property: SubjectDto.Id (int) Required, 2], [Property: SubjectDto.Name (string) Required, 3], [Property: SubjectDto.SemesterId (int) Required, 4], [Property: SubjectDto.SemesterName (string), 5], [Property: SubjectDto.SubjectCode (string) Required, 6] }
        SELECT s.Credit, s.Description, s.Id, s.Name, s.SemesterId, s.SemesterName, s.SubjectCode
        FROM 
SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    columnNames: [LIFTABLE Constant: string[] { "Credit", "Description", "Id", "Name", "SemesterId", "SemesterName", "SubjectCode" } | Resolver: _ => new string[]
    { 
        "Credit", 
        "Description", 
        "Id", 
        "Name", 
        "SemesterId", 
        "SemesterName", 
        "SubjectCode" 
    }], 
    shaper: (queryContext, dataReader, indexMap) => 
    {
        SubjectDto entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            SubjectDto instance1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(SubjectDto);
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: SubjectDto Keyless | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.DTOs.Subject.SubjectDto")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: SubjectDto Keyless | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.DTOs.Subject.SubjectDto")]: 
                        {
                            return 
                            {
                                SubjectDto instance;
                                instance = new SubjectDto();
                                instance.<Credit>k__BackingField = dataReader.GetInt32(indexMap[0]);
                                instance.<Description>k__BackingField = dataReader.GetString(indexMap[1]);
                                instance.<Id>k__BackingField = dataReader.GetInt32(indexMap[2]);
                                instance.<Name>k__BackingField = dataReader.GetString(indexMap[3]);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(indexMap[4]);
                                instance.<SemesterName>k__BackingField = dataReader.IsDBNull(indexMap[5]) ? default(string) : dataReader.GetString(indexMap[5]);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(indexMap[6]);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: SubjectDto Keyless | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.DTOs.Subject.SubjectDto")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(SubjectDto)
                }
                ;
                return instance1;
            }return instance1;
        };
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 09:17:43.874 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:43.877 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:43.878 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:43.879 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:43.881 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 6ms reading results.
2025-08-12 09:17:43.883 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:43.884 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:17:43.885 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:17:43.885 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:17:43.886 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:17:43.889 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:17:43.890 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:43.891 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:17:43.892 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:43.893 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:17:43.894 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:43.896 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:17:43.897 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:17:43.899 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:17:43.901 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-12 09:17:43.902 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 55.4367ms
2025-08-12 09:17:43.904 +07:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7
2025-08-12 09:17:43.905 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:17:43.909 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:17:43.910 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:43.910 +07:00 [DBG] Connection id "0HNEP89VK0ATF" received FIN.
2025-08-12 09:17:43.914 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:17:43.915 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7
2025-08-12 09:17:43.920 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 116.5182ms
2025-08-12 09:17:43.916 +07:00 [DBG] Connection id "0HNEP89VK0ATG" accepted.
2025-08-12 09:17:43.915 +07:00 [DBG] Connection id "0HNEP89VK0ATF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:17:43.926 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:43.927 +07:00 [DBG] Connection id "0HNEP89VK0ATG" started.
2025-08-12 09:17:43.928 +07:00 [DBG] Connection id "0HNEP89VK0ATF" disconnecting.
2025-08-12 09:17:43.929 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 6ms reading results.
2025-08-12 09:17:43.932 +07:00 [DBG] Connection id "0HNEP89VK0ATF" stopped.
2025-08-12 09:17:43.934 +07:00 [DBG] Connection 0HNEP89VK0ATG established using the following protocol: "Tls13"
2025-08-12 09:17:43.934 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:43.935 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-12 09:17:43.937 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 09:17:43.939 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:17:43.941 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:17:43.941 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:17:43.944 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:17:43.945 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:17:43.946 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:17:43.947 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:17:43.947 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:17:43.948 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:43.949 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:17:43.950 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:17:43.951 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:17:43.952 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:17:43.954 +07:00 [DBG] Authorization was successful.
2025-08-12 09:17:43.955 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:17:43.955 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 107.0905ms
2025-08-12 09:17:43.957 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:17:43.959 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:17:43.959 +07:00 [DBG] Connection id "0HNEP89VK0ATE" received FIN.
2025-08-12 09:17:43.959 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:17:43.960 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:43.961 +07:00 [DBG] Connection id "0HNEP89VK0ATE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:17:43.962 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:17:43.964 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:17:43.966 +07:00 [DBG] Connection id "0HNEP89VK0ATE" disconnecting.
2025-08-12 09:17:43.967 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:17:43.968 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 169.1916ms
2025-08-12 09:17:43.970 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:17:43.974 +07:00 [DBG] Connection id "0HNEP89VK0ATE" stopped.
2025-08-12 09:17:43.975 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:17:43.977 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:17:43.978 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:17:43.980 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:17:43.982 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:17:43.983 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-12 09:17:43.984 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:17:43.987 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:17:43.988 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:17:43.989 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:17:43.990 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:17:43.993 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:17:43.995 +07:00 [DBG] Compiling query expression: 
'DbSet<CourseClass>()
    .Include(cc => cc.Subject)
    .Include(cc => cc.Semester)
    .Where(cc => cc.SemesterId == __semesterId_0)'
2025-08-12 09:17:43.997 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-12 09:17:43.998 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-12 09:17:44.006 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        WHERE c.SemesterId == @__semesterId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
        SELECT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s0.Id, s0.EndDate, s0.IsOpen, s0.Name, s0.StartDate
        FROM CourseClasses AS c
        INNER JOIN Subjects AS s ON c.SubjectId == s.Id
        INNER JOIN Semesters AS s0 ON c.SemesterId == s0.Id
        WHERE c.SemesterId == @__semesterId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CourseClass entity;
        Subject entity;
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CourseClass instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CourseClass);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CourseClass)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Subject instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Subject);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Subject)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<Name>k__BackingField = dataReader.GetString(10);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Semester instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Semester);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Semester)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Semester")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(14);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(15);
                                instance.<Name>k__BackingField = dataReader.GetString(16);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(17);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Subject>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<Semester>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 09:17:44.012 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:17:44.014 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:17:44.015 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:44.016 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:44.017 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:44.018 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:17:44.019 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:17:44.021 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:17:44.026 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:17:44.028 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:44.029 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:17:44.031 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:44.032 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:17:44.038 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:17:44.041 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:17:44.042 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:17:44.043 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:17:44.044 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:17:44.045 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:17:44.046 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 68.125ms
2025-08-12 09:17:44.049 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:17:44.050 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:17:44.051 +07:00 [DBG] Connection id "0HNEP89VK0ATG" received FIN.
2025-08-12 09:17:44.052 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:44.053 +07:00 [DBG] Connection id "0HNEP89VK0ATG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:17:44.054 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 09:17:44.056 +07:00 [DBG] Connection id "0HNEP89VK0ATG" disconnecting.
2025-08-12 09:17:44.057 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 121.7448ms
2025-08-12 09:17:44.061 +07:00 [DBG] Connection id "0HNEP89VK0ATG" stopped.
2025-08-12 09:17:52.910 +07:00 [DBG] Connection id "0HNEP89VK0ATH" accepted.
2025-08-12 09:17:52.911 +07:00 [DBG] Connection id "0HNEP89VK0ATH" started.
2025-08-12 09:17:52.917 +07:00 [DBG] Connection 0HNEP89VK0ATH established using the following protocol: "Tls13"
2025-08-12 09:17:52.919 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=4 - null null
2025-08-12 09:17:52.923 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:17:52.925 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:17:52.927 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:17:52.928 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:17:52.929 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:17:52.931 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:17:52.931 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:17:52.932 +07:00 [DBG] Authorization was successful.
2025-08-12 09:17:52.933 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:17:52.934 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:17:52.936 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:17:52.938 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:17:52.940 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:17:52.942 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:17:52.943 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:17:52.945 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:17:52.947 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:17:52.948 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:17:52.950 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-12 09:17:52.952 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:17:52.954 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:17:52.955 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:17:52.956 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:17:52.958 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:17:52.961 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:17:52.962 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:17:52.963 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:52.964 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:52.966 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:17:52.967 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:17:52.968 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:17:52.970 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:17:52.974 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:17:52.977 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:52.978 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:52.980 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:52.982 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:52.983 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:52.984 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:52.986 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:52.988 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:52.989 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:52.991 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:52.992 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:52.994 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:17:52.995 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:17:52.996 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 19ms reading results.
2025-08-12 09:17:52.998 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:52.999 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:17:53.003 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:17:53.005 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:17:53.005 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:17:53.007 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:17:53.008 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:17:53.009 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:17:53.010 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 65.285ms
2025-08-12 09:17:53.012 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:17:53.013 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:17:53.014 +07:00 [DBG] Connection id "0HNEP89VK0ATH" received FIN.
2025-08-12 09:17:53.015 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:17:53.017 +07:00 [DBG] Connection id "0HNEP89VK0ATH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:17:53.018 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:17:53.019 +07:00 [DBG] Connection id "0HNEP89VK0ATH" disconnecting.
2025-08-12 09:17:53.021 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=4 - 200 null application/json; charset=utf-8 102.6272ms
2025-08-12 09:17:53.025 +07:00 [DBG] Connection id "0HNEP89VK0ATH" stopped.
2025-08-12 09:18:07.805 +07:00 [DBG] Connection id "0HNEP89VK0ATI" accepted.
2025-08-12 09:18:07.807 +07:00 [DBG] Connection id "0HNEP89VK0ATI" started.
2025-08-12 09:18:07.811 +07:00 [DBG] Connection 0HNEP89VK0ATI established using the following protocol: "Tls13"
2025-08-12 09:18:07.813 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:18:07.815 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:18:07.816 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:18:07.817 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:18:07.818 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:18:07.819 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:18:07.820 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:18:07.821 +07:00 [DBG] Authorization was successful.
2025-08-12 09:18:07.822 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:18:07.823 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:18:07.825 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:18:07.826 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:18:07.828 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:18:07.829 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:18:07.831 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:18:07.832 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:18:07.834 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:18:07.835 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:18:07.837 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:18:07.838 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:18:07.840 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:18:07.841 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:18:07.843 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:18:07.845 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:18:07.846 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:18:07.847 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:18:07.849 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:18:07.850 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:18:07.852 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:18:07.853 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:18:07.854 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:07.856 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:07.857 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:18:07.858 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:18:07.859 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:18:07.860 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:18:07.865 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:18:07.867 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:18:07.869 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:18:07.870 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:07.871 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:18:07.873 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:07.874 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:07.876 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:18:07.877 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:18:07.878 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:18:07.880 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:18:07.884 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:18:07.886 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:18:07.887 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:18:07.889 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:07.890 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:18:07.892 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:18:07.895 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:18:07.896 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:18:07.897 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:18:07.898 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:18:07.899 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:18:07.901 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 68.7594ms
2025-08-12 09:18:07.903 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:18:07.904 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:18:07.905 +07:00 [DBG] Connection id "0HNEP89VK0ATI" received FIN.
2025-08-12 09:18:07.906 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:07.907 +07:00 [DBG] Connection id "0HNEP89VK0ATI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:18:07.909 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:18:07.910 +07:00 [DBG] Connection id "0HNEP89VK0ATI" disconnecting.
2025-08-12 09:18:07.912 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 99.1553ms
2025-08-12 09:18:07.915 +07:00 [DBG] Connection id "0HNEP89VK0ATI" stopped.
2025-08-12 09:18:38.036 +07:00 [DBG] Connection id "0HNEP89VK0ATJ" accepted.
2025-08-12 09:18:38.042 +07:00 [DBG] Connection id "0HNEP89VK0ATJ" started.
2025-08-12 09:18:38.046 +07:00 [DBG] Connection 0HNEP89VK0ATJ established using the following protocol: "Tls13"
2025-08-12 09:18:38.048 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:18:38.050 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:18:38.052 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:18:38.053 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:18:38.054 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:18:38.055 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:18:38.055 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:18:38.056 +07:00 [DBG] Authorization was successful.
2025-08-12 09:18:38.057 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:18:38.058 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:18:38.060 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:18:38.061 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:18:38.063 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:18:38.066 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:18:38.067 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:18:38.068 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:18:38.069 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:18:38.071 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:18:38.073 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:18:38.074 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:18:38.075 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:18:38.078 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:18:38.080 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:18:38.081 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:18:38.082 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:18:38.083 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:18:38.084 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:18:38.086 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:18:38.088 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:18:38.088 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:18:38.089 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:38.090 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:38.091 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:18:38.093 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:18:38.094 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:18:38.095 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:18:38.101 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:18:38.103 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:18:38.105 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:18:38.107 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:38.108 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:18:38.111 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:38.113 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:38.114 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:18:38.115 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:18:38.116 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:18:38.118 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:18:38.122 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:18:38.125 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:18:38.127 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:18:38.129 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:38.130 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:18:38.132 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:18:38.134 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:18:38.135 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:18:38.136 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:18:38.137 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:18:38.138 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:18:38.139 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 70.6941ms
2025-08-12 09:18:38.142 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:18:38.143 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:18:38.143 +07:00 [DBG] Connection id "0HNEP89VK0ATJ" received FIN.
2025-08-12 09:18:38.147 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:18:38.149 +07:00 [DBG] Connection id "0HNEP89VK0ATJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:18:38.151 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:18:38.152 +07:00 [DBG] Connection id "0HNEP89VK0ATJ" disconnecting.
2025-08-12 09:18:38.153 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 105.6912ms
2025-08-12 09:18:38.159 +07:00 [DBG] Connection id "0HNEP89VK0ATJ" stopped.
2025-08-12 09:19:08.039 +07:00 [DBG] Connection id "0HNEP89VK0ATK" accepted.
2025-08-12 09:19:08.045 +07:00 [DBG] Connection id "0HNEP89VK0ATK" started.
2025-08-12 09:19:08.049 +07:00 [DBG] Connection 0HNEP89VK0ATK established using the following protocol: "Tls13"
2025-08-12 09:19:08.050 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:19:08.053 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:19:08.054 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:19:08.055 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:19:08.056 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:19:08.057 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:19:08.058 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:19:08.058 +07:00 [DBG] Authorization was successful.
2025-08-12 09:19:08.060 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:19:08.061 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:19:08.062 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:19:08.064 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:19:08.065 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:19:08.066 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:19:08.068 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:19:08.069 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:19:08.070 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:19:08.071 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:19:08.072 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:19:08.074 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:19:08.076 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:19:08.079 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:19:08.081 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:19:08.082 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:19:08.084 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:19:08.084 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:19:08.086 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:19:08.087 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:19:08.089 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:19:08.090 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:19:08.090 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:08.092 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:08.093 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:19:08.094 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:19:08.095 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:19:08.096 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:19:08.101 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:19:08.108 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:19:08.110 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:19:08.111 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:08.112 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:19:08.114 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:08.115 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:08.117 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:19:08.118 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:19:08.119 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:19:08.120 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:19:08.124 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:19:08.125 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:19:08.127 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:19:08.129 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:08.130 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:19:08.131 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:19:08.133 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:19:08.133 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:19:08.134 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:19:08.135 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:19:08.137 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:19:08.138 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 69.3006ms
2025-08-12 09:19:08.140 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:19:08.141 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:19:08.141 +07:00 [DBG] Connection id "0HNEP89VK0ATK" received FIN.
2025-08-12 09:19:08.142 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:08.143 +07:00 [DBG] Connection id "0HNEP89VK0ATK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:19:08.144 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:19:08.145 +07:00 [DBG] Connection id "0HNEP89VK0ATK" disconnecting.
2025-08-12 09:19:08.147 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 96.4789ms
2025-08-12 09:19:08.151 +07:00 [DBG] Connection id "0HNEP89VK0ATK" stopped.
2025-08-12 09:19:37.804 +07:00 [DBG] Connection id "0HNEP89VK0ATL" accepted.
2025-08-12 09:19:37.806 +07:00 [DBG] Connection id "0HNEP89VK0ATL" started.
2025-08-12 09:19:37.809 +07:00 [DBG] Connection 0HNEP89VK0ATL established using the following protocol: "Tls13"
2025-08-12 09:19:37.811 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:19:37.813 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:19:37.814 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:19:37.816 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:19:37.817 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:19:37.819 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:19:37.820 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:19:37.821 +07:00 [DBG] Authorization was successful.
2025-08-12 09:19:37.821 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:19:37.823 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:19:37.826 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:19:37.827 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:19:37.828 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:19:37.830 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:19:37.833 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:19:37.834 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:19:37.835 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:19:37.837 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:19:37.838 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:19:37.840 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:19:37.842 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:19:37.843 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:19:37.845 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:19:37.847 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:19:37.849 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:19:37.850 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:19:37.851 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:19:37.853 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:19:37.856 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:19:37.857 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:19:37.858 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:37.860 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:37.861 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:19:37.862 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:19:37.863 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:19:37.865 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:19:37.870 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:19:37.876 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:19:37.878 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:19:37.880 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:37.881 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:19:37.883 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:37.884 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:37.885 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:19:37.886 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:19:37.888 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:19:37.889 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:19:37.894 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:19:37.897 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:19:37.898 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:19:37.900 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:37.902 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:19:37.904 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:19:37.906 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:19:37.907 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:19:37.908 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:19:37.909 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:19:37.911 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:19:37.913 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 78.8965ms
2025-08-12 09:19:37.915 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:19:37.916 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:19:37.917 +07:00 [DBG] Connection id "0HNEP89VK0ATL" received FIN.
2025-08-12 09:19:37.918 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:19:37.919 +07:00 [DBG] Connection id "0HNEP89VK0ATL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:19:37.921 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:19:37.923 +07:00 [DBG] Connection id "0HNEP89VK0ATL" disconnecting.
2025-08-12 09:19:37.925 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 113.296ms
2025-08-12 09:19:37.929 +07:00 [DBG] Connection id "0HNEP89VK0ATL" stopped.
2025-08-12 09:20:08.040 +07:00 [DBG] Connection id "0HNEP89VK0ATM" accepted.
2025-08-12 09:20:08.046 +07:00 [DBG] Connection id "0HNEP89VK0ATM" started.
2025-08-12 09:20:08.052 +07:00 [DBG] Connection 0HNEP89VK0ATM established using the following protocol: "Tls13"
2025-08-12 09:20:08.053 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:20:08.056 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:20:08.057 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:20:08.058 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:20:08.059 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:20:08.060 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:20:08.061 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:20:08.063 +07:00 [DBG] Authorization was successful.
2025-08-12 09:20:08.063 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:20:08.064 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:20:08.066 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:20:08.067 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:20:08.070 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:20:08.072 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:20:08.073 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:20:08.074 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:20:08.076 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:20:08.078 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:20:08.079 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:20:08.081 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:20:08.084 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:20:08.086 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:20:08.087 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:20:08.089 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:20:08.091 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:20:08.093 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:20:08.095 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:20:08.097 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:20:08.100 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:20:08.101 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:20:08.102 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:08.104 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:08.105 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:20:08.107 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:20:08.108 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:20:08.109 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:20:08.114 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:20:08.125 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:20:08.127 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:20:08.129 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:08.130 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:20:08.132 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:08.134 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:08.135 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:20:08.137 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:20:08.138 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:20:08.140 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:20:08.143 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:20:08.145 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:20:08.147 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 09:20:08.149 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:08.151 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:20:08.152 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:20:08.154 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:20:08.155 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:20:08.156 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:20:08.157 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:20:08.159 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:20:08.160 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 85.7037ms
2025-08-12 09:20:08.162 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:20:08.163 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:20:08.164 +07:00 [DBG] Connection id "0HNEP89VK0ATM" received FIN.
2025-08-12 09:20:08.164 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:08.165 +07:00 [DBG] Connection id "0HNEP89VK0ATM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:20:08.167 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:20:08.168 +07:00 [DBG] Connection id "0HNEP89VK0ATM" disconnecting.
2025-08-12 09:20:08.170 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 116.5975ms
2025-08-12 09:20:08.174 +07:00 [DBG] Connection id "0HNEP89VK0ATM" stopped.
2025-08-12 09:20:38.041 +07:00 [DBG] Connection id "0HNEP89VK0ATN" accepted.
2025-08-12 09:20:38.047 +07:00 [DBG] Connection id "0HNEP89VK0ATN" started.
2025-08-12 09:20:38.051 +07:00 [DBG] Connection 0HNEP89VK0ATN established using the following protocol: "Tls13"
2025-08-12 09:20:38.053 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:20:38.055 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:20:38.057 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:20:38.058 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:20:38.059 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:20:38.061 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:20:38.061 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:20:38.063 +07:00 [DBG] Authorization was successful.
2025-08-12 09:20:38.064 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:20:38.066 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:20:38.068 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:20:38.069 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:20:38.071 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:20:38.073 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:20:38.074 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:20:38.075 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:20:38.076 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:20:38.079 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:20:38.080 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:20:38.082 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:20:38.083 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:20:38.086 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:20:38.089 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:20:38.091 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:20:38.093 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:20:38.095 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:20:38.097 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:20:38.099 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:20:38.102 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:20:38.103 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:20:38.105 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:38.107 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:38.108 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:20:38.109 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:20:38.111 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:20:38.113 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:20:38.119 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:20:38.121 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:20:38.123 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:20:38.124 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:38.127 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:20:38.129 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:38.131 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:38.133 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:20:38.135 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:20:38.137 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:20:38.139 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:20:38.146 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:20:38.149 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:20:38.150 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:20:38.152 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:38.154 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:20:38.156 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:20:38.159 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:20:38.160 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:20:38.161 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:20:38.162 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:20:38.164 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:20:38.166 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 90.7037ms
2025-08-12 09:20:38.168 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:20:38.170 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:20:38.171 +07:00 [DBG] Connection id "0HNEP89VK0ATN" received FIN.
2025-08-12 09:20:38.171 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:38.173 +07:00 [DBG] Connection id "0HNEP89VK0ATN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:20:38.175 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:20:38.176 +07:00 [DBG] Connection id "0HNEP89VK0ATN" disconnecting.
2025-08-12 09:20:38.178 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 125.4641ms
2025-08-12 09:20:38.184 +07:00 [DBG] Connection id "0HNEP89VK0ATN" stopped.
2025-08-12 09:20:49.352 +07:00 [DBG] Connection id "0HNEP89VK0ATO" accepted.
2025-08-12 09:20:49.353 +07:00 [DBG] Connection id "0HNEP89VK0ATO" started.
2025-08-12 09:20:49.357 +07:00 [DBG] Connection 0HNEP89VK0ATO established using the following protocol: "Tls13"
2025-08-12 09:20:49.359 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:20:49.362 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:20:49.363 +07:00 [DBG] Connection id "0HNEP89VK0ATP" accepted.
2025-08-12 09:20:49.364 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:20:49.373 +07:00 [DBG] Connection id "0HNEP89VK0ATQ" accepted.
2025-08-12 09:20:49.372 +07:00 [DBG] Connection id "0HNEP89VK0ATP" started.
2025-08-12 09:20:49.381 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:20:49.382 +07:00 [DBG] Connection id "0HNEP89VK0ATQ" started.
2025-08-12 09:20:49.385 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:20:49.387 +07:00 [DBG] Connection 0HNEP89VK0ATP established using the following protocol: "Tls13"
2025-08-12 09:20:49.388 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:20:49.389 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-12 09:20:49.390 +07:00 [DBG] Connection 0HNEP89VK0ATQ established using the following protocol: "Tls13"
2025-08-12 09:20:49.390 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:20:49.393 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:20:49.394 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-12 09:20:49.395 +07:00 [DBG] Authorization was successful.
2025-08-12 09:20:49.396 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 09:20:49.399 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-12 09:20:49.400 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:20:49.401 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:20:49.403 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-12 09:20:49.403 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:20:49.405 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:20:49.406 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:20:49.408 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:20:49.409 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:20:49.410 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:20:49.411 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:20:49.412 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:20:49.415 +07:00 [DBG] Authorization was successful.
2025-08-12 09:20:49.414 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:20:49.413 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:20:49.416 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:20:49.418 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:20:49.419 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:20:49.421 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 09:20:49.422 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:20:49.423 +07:00 [DBG] Authorization was successful.
2025-08-12 09:20:49.425 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:20:49.427 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:20:49.428 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:20:49.430 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:20:49.432 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:20:49.433 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 09:20:49.435 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:20:49.436 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:20:49.438 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:20:49.441 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:20:49.442 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:20:49.444 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:20:49.446 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:20:49.448 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:20:49.450 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:20:49.452 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:20:49.455 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:20:49.458 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:20:49.460 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:20:49.462 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:20:49.464 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:20:49.467 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:20:49.469 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:20:49.471 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:20:49.474 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:20:49.476 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:20:49.479 +07:00 [DBG] Created DbConnection. (4ms).
2025-08-12 09:20:49.480 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:20:49.481 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:20:49.482 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.484 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:20:49.485 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:20:49.486 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.489 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:20:49.490 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:20:49.491 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:20:49.492 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 09:20:49.493 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:20:49.494 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:20:49.496 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.499 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:20:49.499 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-12 09:20:49.501 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.502 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 09:20:49.503 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:20:49.505 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:20:49.506 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.511 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-12 09:20:49.511 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:20:49.513 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.515 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-08-12 09:20:49.517 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:49.519 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:20:49.521 +07:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7
2025-08-12 09:20:49.523 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:49.525 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:20:49.532 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:49.533 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-12 09:20:49.535 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.537 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:20:49.539 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 21ms reading results.
2025-08-12 09:20:49.540 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7
2025-08-12 09:20:49.546 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.547 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:20:49.548 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.550 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 09:20:49.553 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.554 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 09:20:49.555 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:20:49.557 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-12 09:20:49.559 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.562 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:20:49.563 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.564 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-12 09:20:49.565 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:20:49.568 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-12 09:20:49.570 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:20:49.571 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:20:49.574 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.575 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:20:49.576 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:20:49.578 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.579 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:20:49.580 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:20:49.582 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:20:49.582 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:20:49.583 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 131.0719ms
2025-08-12 09:20:49.584 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:20:49.585 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:20:49.587 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:20:49.588 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-08-12 09:20:49.589 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:20:49.590 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:20:49.591 +07:00 [DBG] Connection id "0HNEP89VK0ATP" received FIN.
2025-08-12 09:20:49.592 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:20:49.594 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 122.9486ms
2025-08-12 09:20:49.597 +07:00 [DBG] Connection id "0HNEP89VK0ATR" accepted.
2025-08-12 09:20:49.595 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.607 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:20:49.608 +07:00 [DBG] Connection id "0HNEP89VK0ATR" started.
2025-08-12 09:20:49.596 +07:00 [DBG] Connection id "0HNEP89VK0ATP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:20:49.609 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:20:49.616 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:20:49.622 +07:00 [DBG] Connection 0HNEP89VK0ATR established using the following protocol: "Tls13"
2025-08-12 09:20:49.615 +07:00 [DBG] Disposed connection to database '' on server '' (20ms).
2025-08-12 09:20:49.619 +07:00 [DBG] Connection id "0HNEP89VK0ATP" disconnecting.
2025-08-12 09:20:49.617 +07:00 [DBG] Connection id "0HNEP89VK0ATQ" received FIN.
2025-08-12 09:20:49.629 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.629 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.630 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-12 09:20:49.631 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 242.1333ms
2025-08-12 09:20:49.635 +07:00 [DBG] Connection id "0HNEP89VK0ATQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:20:49.636 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 7ms reading results.
2025-08-12 09:20:49.638 +07:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-08-12 09:20:49.640 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:20:49.644 +07:00 [DBG] Connection id "0HNEP89VK0ATP" stopped.
2025-08-12 09:20:49.646 +07:00 [DBG] Connection id "0HNEP89VK0ATQ" disconnecting.
2025-08-12 09:20:49.648 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.650 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 256.2999ms
2025-08-12 09:20:49.651 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:20:49.655 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-12 09:20:49.658 +07:00 [DBG] Connection id "0HNEP89VK0ATQ" stopped.
2025-08-12 09:20:49.659 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:20:49.661 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:20:49.664 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:20:49.666 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:20:49.667 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:20:49.667 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:20:49.668 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:20:49.669 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:20:49.670 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:20:49.670 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:20:49.671 +07:00 [DBG] Authorization was successful.
2025-08-12 09:20:49.672 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:20:49.673 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:20:49.674 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 246.6607ms
2025-08-12 09:20:49.675 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:20:49.677 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:20:49.678 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:20:49.680 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:20:49.680 +07:00 [DBG] Connection id "0HNEP89VK0ATO" received FIN.
2025-08-12 09:20:49.681 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:20:49.683 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.684 +07:00 [DBG] Connection id "0HNEP89VK0ATO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:20:49.685 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:20:49.686 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:20:49.687 +07:00 [DBG] Connection id "0HNEP89VK0ATO" disconnecting.
2025-08-12 09:20:49.689 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:20:49.691 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 331.877ms
2025-08-12 09:20:49.693 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:20:49.695 +07:00 [DBG] Connection id "0HNEP89VK0ATO" stopped.
2025-08-12 09:20:49.698 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:20:49.701 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:20:49.702 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:20:49.703 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-12 09:20:49.705 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:20:49.706 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:20:49.707 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:20:49.708 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:20:49.710 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:20:49.712 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:20:49.714 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:20:49.714 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:20:49.715 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.716 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.718 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:20:49.719 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:20:49.720 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:20:49.721 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:20:49.727 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:20:49.729 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.730 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:20:49.732 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.733 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:20:49.735 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:20:49.737 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:20:49.738 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:20:49.739 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:20:49.740 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:20:49.741 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:20:49.743 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 44.8268ms
2025-08-12 09:20:49.744 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:20:49.745 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:20:49.746 +07:00 [DBG] Connection id "0HNEP89VK0ATR" received FIN.
2025-08-12 09:20:49.747 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:49.748 +07:00 [DBG] Connection id "0HNEP89VK0ATR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:20:49.749 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:20:49.750 +07:00 [DBG] Connection id "0HNEP89VK0ATR" disconnecting.
2025-08-12 09:20:49.752 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 121.7305ms
2025-08-12 09:20:49.756 +07:00 [DBG] Connection id "0HNEP89VK0ATR" stopped.
2025-08-12 09:20:51.859 +07:00 [DBG] Connection id "0HNEP89VK0ATS" accepted.
2025-08-12 09:20:51.860 +07:00 [DBG] Connection id "0HNEP89VK0ATS" started.
2025-08-12 09:20:51.864 +07:00 [DBG] Connection 0HNEP89VK0ATS established using the following protocol: "Tls13"
2025-08-12 09:20:51.865 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=4 - null null
2025-08-12 09:20:51.868 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:20:51.869 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:20:51.871 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:20:51.872 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:20:51.873 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:20:51.874 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:20:51.875 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:20:51.876 +07:00 [DBG] Authorization was successful.
2025-08-12 09:20:51.877 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:20:51.878 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:20:51.880 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:20:51.882 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:20:51.883 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:20:51.885 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:20:51.886 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:20:51.888 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:20:51.889 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:20:51.891 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:20:51.892 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-12 09:20:51.894 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:20:51.895 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:20:51.897 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:20:51.899 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:20:51.900 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:20:51.903 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:20:51.903 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:20:51.905 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:51.906 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:51.908 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:20:51.909 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:20:51.910 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:20:51.911 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:20:51.915 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:20:51.917 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:51.919 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:51.921 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:51.922 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:51.923 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:51.924 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:51.925 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:51.927 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:51.928 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:51.930 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:51.931 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:51.933 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:51.934 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:20:51.936 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 18ms reading results.
2025-08-12 09:20:51.937 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:51.938 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:20:51.940 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:20:51.942 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:20:51.943 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:20:51.944 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:20:51.944 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:20:51.946 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:20:51.948 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 60.0119ms
2025-08-12 09:20:51.949 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:20:51.951 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:20:51.951 +07:00 [DBG] Connection id "0HNEP89VK0ATS" received FIN.
2025-08-12 09:20:51.952 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:51.953 +07:00 [DBG] Connection id "0HNEP89VK0ATS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:20:51.955 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:20:51.956 +07:00 [DBG] Connection id "0HNEP89VK0ATS" disconnecting.
2025-08-12 09:20:51.957 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=4 - 200 null application/json; charset=utf-8 91.9219ms
2025-08-12 09:20:51.963 +07:00 [DBG] Connection id "0HNEP89VK0ATS" stopped.
2025-08-12 09:20:58.058 +07:00 [DBG] Connection id "0HNEP89VK0ATT" accepted.
2025-08-12 09:20:58.059 +07:00 [DBG] Connection id "0HNEP89VK0ATT" started.
2025-08-12 09:20:58.063 +07:00 [DBG] Connection 0HNEP89VK0ATT established using the following protocol: "Tls13"
2025-08-12 09:20:58.065 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=2 - null null
2025-08-12 09:20:58.067 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:20:58.069 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:20:58.070 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:20:58.072 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:20:58.073 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:20:58.074 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:20:58.075 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:20:58.076 +07:00 [DBG] Authorization was successful.
2025-08-12 09:20:58.076 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:20:58.077 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:20:58.080 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:20:58.081 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:20:58.082 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:20:58.084 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:20:58.087 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:20:58.088 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:20:58.089 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:20:58.090 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:20:58.091 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-12 09:20:58.094 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:20:58.095 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:20:58.096 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:20:58.098 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:20:58.100 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:20:58.102 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:20:58.103 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:20:58.105 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:58.106 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:58.107 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:20:58.108 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:20:58.109 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:20:58.111 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:20:58.114 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:20:58.117 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.118 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.120 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.122 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.123 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.124 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.125 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.126 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.128 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.129 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.131 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.132 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.133 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.135 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.136 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.137 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.139 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.140 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:20:58.141 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:20:58.143 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 25ms reading results.
2025-08-12 09:20:58.144 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:58.146 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:20:58.147 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:20:58.150 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:20:58.151 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:20:58.152 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:20:58.153 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:20:58.154 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:20:58.156 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 67.9563ms
2025-08-12 09:20:58.158 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:20:58.159 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:20:58.159 +07:00 [DBG] Connection id "0HNEP89VK0ATT" received FIN.
2025-08-12 09:20:58.160 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:20:58.161 +07:00 [DBG] Connection id "0HNEP89VK0ATT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:20:58.162 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:20:58.163 +07:00 [DBG] Connection id "0HNEP89VK0ATT" disconnecting.
2025-08-12 09:20:58.165 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=2 - 200 null application/json; charset=utf-8 99.7559ms
2025-08-12 09:20:58.169 +07:00 [DBG] Connection id "0HNEP89VK0ATT" stopped.
2025-08-12 09:21:01.252 +07:00 [DBG] Connection id "0HNEP89VK0ATU" accepted.
2025-08-12 09:21:01.254 +07:00 [DBG] Connection id "0HNEP89VK0ATU" started.
2025-08-12 09:21:01.258 +07:00 [DBG] Connection 0HNEP89VK0ATU established using the following protocol: "Tls13"
2025-08-12 09:21:01.260 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=4 - null null
2025-08-12 09:21:01.264 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:21:01.265 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:21:01.267 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:21:01.268 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:21:01.269 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:21:01.270 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:21:01.271 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:21:01.272 +07:00 [DBG] Authorization was successful.
2025-08-12 09:21:01.273 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:21:01.274 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:21:01.276 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:21:01.278 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:21:01.279 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:21:01.281 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:21:01.283 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:21:01.284 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:21:01.285 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:21:01.287 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:21:01.288 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-12 09:21:01.290 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:21:01.291 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:21:01.293 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:21:01.294 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:21:01.296 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:21:01.298 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:21:01.298 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:21:01.299 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:01.301 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:01.302 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:21:01.303 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:21:01.304 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:21:01.305 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:21:01.309 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:21:01.312 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:01.313 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:01.314 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:01.316 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:01.318 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:01.319 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:01.320 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:01.321 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:01.323 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:01.324 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:01.326 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:01.327 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:01.328 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:21:01.330 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 17ms reading results.
2025-08-12 09:21:01.331 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:01.333 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:21:01.334 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:21:01.336 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:21:01.338 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:21:01.338 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:21:01.339 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:21:01.340 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:21:01.342 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 57.6188ms
2025-08-12 09:21:01.343 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:21:01.345 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:21:01.345 +07:00 [DBG] Connection id "0HNEP89VK0ATU" received FIN.
2025-08-12 09:21:01.346 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:01.347 +07:00 [DBG] Connection id "0HNEP89VK0ATU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:21:01.348 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:21:01.349 +07:00 [DBG] Connection id "0HNEP89VK0ATU" disconnecting.
2025-08-12 09:21:01.351 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=4 - 200 null application/json; charset=utf-8 90.6106ms
2025-08-12 09:21:01.355 +07:00 [DBG] Connection id "0HNEP89VK0ATU" stopped.
2025-08-12 09:21:09.307 +07:00 [DBG] Connection id "0HNEP89VK0ATV" accepted.
2025-08-12 09:21:09.308 +07:00 [DBG] Connection id "0HNEP89VK0ATV" started.
2025-08-12 09:21:09.313 +07:00 [DBG] Connection 0HNEP89VK0ATV established using the following protocol: "Tls13"
2025-08-12 09:21:09.314 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=2 - null null
2025-08-12 09:21:09.317 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:21:09.318 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:21:09.319 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:21:09.321 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:21:09.322 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:21:09.323 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:21:09.324 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:21:09.325 +07:00 [DBG] Authorization was successful.
2025-08-12 09:21:09.326 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:21:09.327 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:21:09.328 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:21:09.330 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:21:09.331 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:21:09.333 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:21:09.334 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:21:09.336 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:21:09.337 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:21:09.339 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:21:09.340 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-12 09:21:09.342 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:21:09.344 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:21:09.345 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:21:09.346 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:21:09.348 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:21:09.351 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:21:09.352 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:21:09.352 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:09.354 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:09.355 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:21:09.356 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:21:09.358 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:21:09.359 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:21:09.362 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:21:09.366 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.367 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.368 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.369 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.371 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.372 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.373 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.375 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.376 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.377 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.379 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.381 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.383 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.384 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.386 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.387 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.388 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.389 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:09.390 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:21:09.393 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 26ms reading results.
2025-08-12 09:21:09.394 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:09.396 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:21:09.397 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:21:09.401 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:21:09.402 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:21:09.403 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:21:09.404 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:21:09.406 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:21:09.408 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 71.9309ms
2025-08-12 09:21:09.410 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:21:09.411 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:21:09.412 +07:00 [DBG] Connection id "0HNEP89VK0ATV" received FIN.
2025-08-12 09:21:09.413 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:09.415 +07:00 [DBG] Connection id "0HNEP89VK0ATV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:21:09.416 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:21:09.417 +07:00 [DBG] Connection id "0HNEP89VK0ATV" disconnecting.
2025-08-12 09:21:09.419 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=2 - 200 null application/json; charset=utf-8 104.6322ms
2025-08-12 09:21:09.424 +07:00 [DBG] Connection id "0HNEP89VK0ATV" stopped.
2025-08-12 09:21:10.523 +07:00 [DBG] Connection id "0HNEP89VK0AU0" accepted.
2025-08-12 09:21:10.524 +07:00 [DBG] Connection id "0HNEP89VK0AU0" started.
2025-08-12 09:21:10.528 +07:00 [DBG] Connection 0HNEP89VK0AU0 established using the following protocol: "Tls13"
2025-08-12 09:21:10.529 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=1 - null null
2025-08-12 09:21:10.532 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:21:10.533 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:21:10.534 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:21:10.536 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:21:10.537 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:21:10.538 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:21:10.539 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:21:10.540 +07:00 [DBG] Authorization was successful.
2025-08-12 09:21:10.541 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:21:10.542 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:21:10.544 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:21:10.546 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:21:10.547 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:21:10.549 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:21:10.550 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:21:10.552 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:21:10.554 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:21:10.555 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:21:10.556 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-12 09:21:10.558 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:21:10.559 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:21:10.560 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:21:10.562 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:21:10.563 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:21:10.566 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:21:10.567 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:21:10.568 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:10.569 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:10.571 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:21:10.572 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:21:10.574 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:21:10.575 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:21:10.579 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:21:10.581 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.583 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.584 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.585 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.586 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.588 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.589 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.590 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.591 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.592 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.594 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.595 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.596 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.597 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.598 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.599 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.600 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.602 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.603 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.604 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.605 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.606 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.608 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.609 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.610 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.611 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.613 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.614 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.615 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.616 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.618 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.619 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.620 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:10.621 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:21:10.623 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 41ms reading results.
2025-08-12 09:21:10.624 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:10.625 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:21:10.627 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:21:10.629 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:21:10.630 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:21:10.631 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:21:10.631 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:21:10.632 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:21:10.633 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 81.3431ms
2025-08-12 09:21:10.635 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:21:10.636 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:21:10.637 +07:00 [DBG] Connection id "0HNEP89VK0AU0" received FIN.
2025-08-12 09:21:10.638 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:10.639 +07:00 [DBG] Connection id "0HNEP89VK0AU0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:21:10.640 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:21:10.641 +07:00 [DBG] Connection id "0HNEP89VK0AU0" disconnecting.
2025-08-12 09:21:10.643 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=1 - 200 null application/json; charset=utf-8 113.6351ms
2025-08-12 09:21:10.647 +07:00 [DBG] Connection id "0HNEP89VK0AU0" stopped.
2025-08-12 09:21:12.378 +07:00 [DBG] Connection id "0HNEP89VK0AU1" accepted.
2025-08-12 09:21:12.380 +07:00 [DBG] Connection id "0HNEP89VK0AU1" started.
2025-08-12 09:21:12.384 +07:00 [DBG] Connection 0HNEP89VK0AU1 established using the following protocol: "Tls13"
2025-08-12 09:21:12.385 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=2 - null null
2025-08-12 09:21:12.388 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:21:12.389 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:21:12.391 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:21:12.393 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:21:12.394 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:21:12.395 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:21:12.395 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:21:12.396 +07:00 [DBG] Authorization was successful.
2025-08-12 09:21:12.397 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:21:12.398 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:21:12.400 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:21:12.402 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:21:12.403 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:21:12.404 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:21:12.407 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:21:12.408 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:21:12.409 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:21:12.411 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:21:12.412 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-12 09:21:12.414 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:21:12.415 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:21:12.416 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:21:12.417 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:21:12.418 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:21:12.421 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:21:12.422 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:21:12.423 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:12.425 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:12.426 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:21:12.427 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:21:12.429 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:21:12.431 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:21:12.435 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:21:12.439 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.440 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.442 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.444 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.445 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.446 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.448 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.449 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.451 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.452 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.453 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.455 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.456 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.457 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.458 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.460 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.461 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.463 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:21:12.464 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:21:12.465 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 26ms reading results.
2025-08-12 09:21:12.466 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:12.467 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:21:12.469 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:21:12.471 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:21:12.472 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:21:12.473 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:21:12.474 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:21:12.475 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:21:12.476 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 68.5031ms
2025-08-12 09:21:12.478 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:21:12.479 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:21:12.480 +07:00 [DBG] Connection id "0HNEP89VK0AU1" received FIN.
2025-08-12 09:21:12.480 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:12.481 +07:00 [DBG] Connection id "0HNEP89VK0AU1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:21:12.483 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:21:12.484 +07:00 [DBG] Connection id "0HNEP89VK0AU1" disconnecting.
2025-08-12 09:21:12.485 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=2 - 200 null application/json; charset=utf-8 100.1077ms
2025-08-12 09:21:12.490 +07:00 [DBG] Connection id "0HNEP89VK0AU1" stopped.
2025-08-12 09:21:20.029 +07:00 [DBG] Connection id "0HNEP89VK0AU2" accepted.
2025-08-12 09:21:20.030 +07:00 [DBG] Connection id "0HNEP89VK0AU2" started.
2025-08-12 09:21:20.035 +07:00 [DBG] Connection 0HNEP89VK0AU2 established using the following protocol: "Tls13"
2025-08-12 09:21:20.036 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:21:20.040 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:21:20.041 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:21:20.043 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:21:20.044 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:21:20.045 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:21:20.046 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:21:20.047 +07:00 [DBG] Authorization was successful.
2025-08-12 09:21:20.048 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:21:20.049 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:21:20.052 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:21:20.054 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:21:20.055 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:21:20.057 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:21:20.059 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:21:20.061 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:21:20.063 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:21:20.064 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:21:20.065 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:21:20.067 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:21:20.069 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:21:20.071 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:21:20.073 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:21:20.075 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:21:20.077 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:21:20.078 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:21:20.079 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:21:20.082 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:21:20.084 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:21:20.085 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:21:20.085 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:20.087 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:20.089 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:21:20.090 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:21:20.091 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:21:20.092 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:21:20.096 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:21:20.099 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:21:20.101 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 09:21:20.103 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:20.104 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:21:20.106 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:20.107 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:20.109 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:21:20.110 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:21:20.111 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:21:20.113 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:21:20.116 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:21:20.118 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:21:20.119 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:21:20.121 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:20.123 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:21:20.125 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:21:20.127 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:21:20.127 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:21:20.129 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:21:20.130 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:21:20.131 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:21:20.133 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 71.7675ms
2025-08-12 09:21:20.134 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:21:20.136 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:21:20.137 +07:00 [DBG] Connection id "0HNEP89VK0AU2" received FIN.
2025-08-12 09:21:20.137 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:20.138 +07:00 [DBG] Connection id "0HNEP89VK0AU2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:21:20.139 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:21:20.141 +07:00 [DBG] Connection id "0HNEP89VK0AU2" disconnecting.
2025-08-12 09:21:20.142 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 106.4893ms
2025-08-12 09:21:20.147 +07:00 [DBG] Connection id "0HNEP89VK0AU2" stopped.
2025-08-12 09:21:50.038 +07:00 [DBG] Connection id "0HNEP89VK0AU3" accepted.
2025-08-12 09:21:50.044 +07:00 [DBG] Connection id "0HNEP89VK0AU3" started.
2025-08-12 09:21:50.048 +07:00 [DBG] Connection 0HNEP89VK0AU3 established using the following protocol: "Tls13"
2025-08-12 09:21:50.049 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:21:50.051 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:21:50.052 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:21:50.054 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:21:50.055 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:21:50.055 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:21:50.056 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:21:50.057 +07:00 [DBG] Authorization was successful.
2025-08-12 09:21:50.058 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:21:50.058 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:21:50.060 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:21:50.062 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:21:50.063 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:21:50.065 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:21:50.067 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:21:50.068 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:21:50.069 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:21:50.071 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:21:50.072 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:21:50.074 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:21:50.076 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:21:50.077 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:21:50.079 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:21:50.080 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:21:50.083 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:21:50.084 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:21:50.085 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:21:50.086 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:21:50.088 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:21:50.089 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:21:50.090 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:50.091 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:50.092 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:21:50.093 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:21:50.094 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:21:50.095 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:21:50.100 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:21:50.102 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:21:50.103 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:21:50.104 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:50.105 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:21:50.107 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:50.109 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:50.110 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:21:50.111 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:21:50.112 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:21:50.113 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:21:50.118 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:21:50.119 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:21:50.120 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:21:50.122 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:50.123 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:21:50.124 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:21:50.126 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:21:50.127 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:21:50.127 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:21:50.128 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:21:50.129 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:21:50.131 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 62.4989ms
2025-08-12 09:21:50.132 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:21:50.133 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:21:50.134 +07:00 [DBG] Connection id "0HNEP89VK0AU3" received FIN.
2025-08-12 09:21:50.134 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:21:50.136 +07:00 [DBG] Connection id "0HNEP89VK0AU3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:21:50.137 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:21:50.138 +07:00 [DBG] Connection id "0HNEP89VK0AU3" disconnecting.
2025-08-12 09:21:50.139 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 90.1823ms
2025-08-12 09:21:50.143 +07:00 [DBG] Connection id "0HNEP89VK0AU3" stopped.
2025-08-12 09:22:20.054 +07:00 [DBG] Connection id "0HNEP89VK0AU4" accepted.
2025-08-12 09:22:20.056 +07:00 [DBG] Connection id "0HNEP89VK0AU4" started.
2025-08-12 09:22:20.062 +07:00 [DBG] Connection 0HNEP89VK0AU4 established using the following protocol: "Tls13"
2025-08-12 09:22:20.063 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:22:20.066 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:22:20.068 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:22:20.071 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:22:20.072 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:22:20.073 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:22:20.074 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:22:20.075 +07:00 [DBG] Authorization was successful.
2025-08-12 09:22:20.076 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:22:20.078 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:22:20.080 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:22:20.081 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:22:20.082 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:22:20.085 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:22:20.087 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:22:20.092 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:22:20.094 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:22:20.096 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:22:20.098 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:22:20.101 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:22:20.104 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:22:20.109 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:22:20.113 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:22:20.115 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:22:20.117 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:22:20.119 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:22:20.121 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:22:20.123 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:22:20.126 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:22:20.127 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:22:20.128 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:20.129 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:20.130 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:22:20.131 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:22:20.133 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:22:20.135 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:22:20.140 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:22:20.146 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:22:20.147 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:22:20.149 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:20.150 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:22:20.151 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:20.153 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:20.154 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:22:20.155 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:22:20.156 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:22:20.157 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:22:20.160 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:22:20.162 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:22:20.163 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:22:20.164 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:20.166 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:22:20.169 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:22:20.170 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:22:20.171 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:22:20.172 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:22:20.172 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:22:20.174 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:22:20.176 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 83.7163ms
2025-08-12 09:22:20.178 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:22:20.179 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:22:20.179 +07:00 [DBG] Connection id "0HNEP89VK0AU4" received FIN.
2025-08-12 09:22:20.180 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:20.182 +07:00 [DBG] Connection id "0HNEP89VK0AU4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:22:20.183 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:22:20.185 +07:00 [DBG] Connection id "0HNEP89VK0AU4" disconnecting.
2025-08-12 09:22:20.186 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 122.9655ms
2025-08-12 09:22:20.191 +07:00 [DBG] Connection id "0HNEP89VK0AU4" stopped.
2025-08-12 09:22:50.030 +07:00 [DBG] Connection id "0HNEP89VK0AU5" accepted.
2025-08-12 09:22:50.036 +07:00 [DBG] Connection id "0HNEP89VK0AU5" started.
2025-08-12 09:22:50.040 +07:00 [DBG] Connection 0HNEP89VK0AU5 established using the following protocol: "Tls13"
2025-08-12 09:22:50.042 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:22:50.045 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:22:50.046 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:22:50.048 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:22:50.049 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:22:50.050 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:22:50.051 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:22:50.052 +07:00 [DBG] Authorization was successful.
2025-08-12 09:22:50.053 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:22:50.054 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:22:50.057 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:22:50.059 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:22:50.060 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:22:50.062 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:22:50.064 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:22:50.066 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:22:50.067 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:22:50.069 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:22:50.070 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:22:50.072 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:22:50.074 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:22:50.075 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:22:50.077 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:22:50.079 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:22:50.081 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:22:50.083 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:22:50.085 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:22:50.087 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:22:50.090 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:22:50.092 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:22:50.094 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:50.095 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:50.097 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:22:50.098 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:22:50.100 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:22:50.101 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:22:50.107 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:22:50.110 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:22:50.111 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:22:50.114 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:50.115 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:22:50.117 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:50.119 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:50.121 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:22:50.122 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:22:50.123 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:22:50.125 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:22:50.137 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:22:50.139 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:22:50.140 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:22:50.141 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:50.143 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:22:50.144 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:22:50.145 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:22:50.146 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:22:50.148 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:22:50.148 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:22:50.149 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:22:50.151 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 84.926ms
2025-08-12 09:22:50.152 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:22:50.154 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:22:50.154 +07:00 [DBG] Connection id "0HNEP89VK0AU5" received FIN.
2025-08-12 09:22:50.155 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:22:50.156 +07:00 [DBG] Connection id "0HNEP89VK0AU5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:22:50.157 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 09:22:50.160 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 118.2924ms
2025-08-12 09:22:50.158 +07:00 [DBG] Connection id "0HNEP89VK0AU5" disconnecting.
2025-08-12 09:22:50.164 +07:00 [DBG] Connection id "0HNEP89VK0AU5" stopped.
2025-08-12 09:23:06.059 +07:00 [DBG] Connection id "0HNEP89VK0ASH" received FIN.
2025-08-12 09:23:06.061 +07:00 [DBG] Connection id "0HNEP89VK0ASH" is closed. The last processed stream ID was 21.
2025-08-12 09:23:06.061 +07:00 [DBG] Connection id "0HNEP89VK0ASH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:23:06.065 +07:00 [DBG] The connection queue processing loop for 0HNEP89VK0ASH completed.
2025-08-12 09:23:06.066 +07:00 [DBG] Connection id "0HNEP89VK0ASH" stopped.
2025-08-12 09:23:20.035 +07:00 [DBG] Connection id "0HNEP89VK0AU6" accepted.
2025-08-12 09:23:20.036 +07:00 [DBG] Connection id "0HNEP89VK0AU6" started.
2025-08-12 09:23:20.041 +07:00 [DBG] Connection 0HNEP89VK0AU6 established using the following protocol: "Tls13"
2025-08-12 09:23:20.043 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:23:20.046 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:23:20.047 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:23:20.049 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:23:20.051 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:23:20.052 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:23:20.053 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:23:20.055 +07:00 [DBG] Authorization was successful.
2025-08-12 09:23:20.056 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:23:20.057 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:23:20.059 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:23:20.060 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:23:20.062 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:23:20.064 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:23:20.066 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:23:20.067 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:23:20.069 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:23:20.070 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:23:20.072 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:23:20.074 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:23:20.076 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:23:20.078 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:23:20.080 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:23:20.082 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:23:20.083 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:23:20.084 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:23:20.086 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:23:20.088 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:23:20.090 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:23:20.091 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:23:20.093 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:20.095 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:20.096 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:23:20.097 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:23:20.098 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:23:20.098 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:23:20.103 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:23:20.105 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:23:20.107 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:23:20.109 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:20.110 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:23:20.111 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:20.113 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:20.114 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:23:20.115 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:23:20.116 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:23:20.117 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:23:20.122 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:23:20.124 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:23:20.125 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:23:20.128 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:20.129 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:23:20.131 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:23:20.132 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:23:20.133 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:23:20.135 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:23:20.136 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:23:20.137 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:23:20.139 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 71.9847ms
2025-08-12 09:23:20.141 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:23:20.142 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:23:20.143 +07:00 [DBG] Connection id "0HNEP89VK0AU6" received FIN.
2025-08-12 09:23:20.144 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:20.144 +07:00 [DBG] Connection id "0HNEP89VK0AU6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:23:20.145 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 09:23:20.147 +07:00 [DBG] Connection id "0HNEP89VK0AU6" disconnecting.
2025-08-12 09:23:20.148 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 104.99ms
2025-08-12 09:23:20.153 +07:00 [DBG] Connection id "0HNEP89VK0AU6" stopped.
2025-08-12 09:23:50.043 +07:00 [DBG] Connection id "0HNEP89VK0AU7" accepted.
2025-08-12 09:23:50.049 +07:00 [DBG] Connection id "0HNEP89VK0AU7" started.
2025-08-12 09:23:50.054 +07:00 [DBG] Connection 0HNEP89VK0AU7 established using the following protocol: "Tls13"
2025-08-12 09:23:50.059 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:23:50.061 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:23:50.062 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:23:50.063 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:23:50.064 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:23:50.065 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:23:50.065 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:23:50.066 +07:00 [DBG] Authorization was successful.
2025-08-12 09:23:50.067 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:23:50.068 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:23:50.069 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:23:50.071 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:23:50.072 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:23:50.073 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:23:50.075 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:23:50.076 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:23:50.078 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:23:50.079 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:23:50.080 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:23:50.082 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:23:50.083 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:23:50.085 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:23:50.087 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:23:50.088 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:23:50.089 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:23:50.091 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:23:50.092 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:23:50.093 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:23:50.095 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:23:50.095 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:23:50.096 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:50.097 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:50.098 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:23:50.099 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:23:50.100 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:23:50.101 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:23:50.106 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:23:50.108 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:23:50.109 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:23:50.110 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:50.111 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (0ms).
2025-08-12 09:23:50.113 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:50.114 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:50.115 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:23:50.116 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:23:50.118 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:23:50.119 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:23:50.123 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:23:50.126 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:23:50.127 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:23:50.128 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:50.129 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:23:50.131 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:23:50.133 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:23:50.134 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:23:50.134 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:23:50.135 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:23:50.137 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:23:50.138 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 61.9696ms
2025-08-12 09:23:50.139 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:23:50.140 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:23:50.141 +07:00 [DBG] Connection id "0HNEP89VK0AU7" received FIN.
2025-08-12 09:23:50.141 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:23:50.142 +07:00 [DBG] Connection id "0HNEP89VK0AU7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:23:50.144 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:23:50.145 +07:00 [DBG] Connection id "0HNEP89VK0AU7" disconnecting.
2025-08-12 09:23:50.146 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 87.3961ms
2025-08-12 09:23:50.150 +07:00 [DBG] Connection id "0HNEP89VK0AU7" stopped.
2025-08-12 09:24:33.854 +07:00 [DBG] Connection id "0HNEP89VK0AU8" accepted.
2025-08-12 09:24:33.859 +07:00 [DBG] Connection id "0HNEP89VK0AU8" started.
2025-08-12 09:24:33.865 +07:00 [DBG] Connection 0HNEP89VK0AU8 established using the following protocol: "Tls13"
2025-08-12 09:24:33.866 +07:00 [DBG] Connection id "0HNEP89VK0AU9" accepted.
2025-08-12 09:24:33.906 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:24:33.908 +07:00 [DBG] Connection id "0HNEP89VK0AUA" accepted.
2025-08-12 09:24:33.907 +07:00 [DBG] Connection id "0HNEP89VK0AU9" started.
2025-08-12 09:24:33.914 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:24:33.914 +07:00 [DBG] Connection id "0HNEP89VK0AUA" started.
2025-08-12 09:24:33.918 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:24:33.918 +07:00 [DBG] Connection 0HNEP89VK0AU9 established using the following protocol: "Tls13"
2025-08-12 09:24:33.920 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:24:33.921 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-12 09:24:33.921 +07:00 [DBG] Connection 0HNEP89VK0AUA established using the following protocol: "Tls13"
2025-08-12 09:24:33.922 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:24:33.925 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:24:33.926 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-12 09:24:33.927 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:24:33.928 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 09:24:33.931 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-12 09:24:33.932 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:24:33.933 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:24:33.934 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-12 09:24:33.935 +07:00 [DBG] Authorization was successful.
2025-08-12 09:24:33.936 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:24:33.937 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:24:33.938 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:24:33.939 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:24:33.939 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:24:33.940 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:24:33.941 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:24:33.942 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:24:33.943 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:24:33.944 +07:00 [DBG] Authorization was successful.
2025-08-12 09:24:33.945 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:24:33.946 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:24:33.947 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:24:33.950 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 09:24:33.949 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:24:33.948 +07:00 [DBG] Authorization was successful.
2025-08-12 09:24:33.952 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:24:33.953 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:24:33.954 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:24:33.956 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:24:33.957 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:24:33.958 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 09:24:33.960 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:24:33.961 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:24:33.963 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:24:33.965 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:24:33.967 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:24:33.968 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:24:33.970 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:24:33.972 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:24:33.974 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:24:33.976 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:24:33.977 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:24:33.979 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:24:33.980 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:24:33.982 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:24:33.983 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:24:33.985 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:24:33.987 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:24:33.988 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:24:33.991 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:24:33.992 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:24:33.994 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:24:33.994 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 09:24:33.996 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:24:33.997 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:24:33.998 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.000 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:24:34.002 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:24:34.004 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.005 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:24:34.005 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 09:24:34.007 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:24:34.009 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:24:34.010 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.011 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:24:34.013 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:24:34.015 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.016 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-12 09:24:34.018 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:24:34.019 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:24:34.021 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:24:34.023 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:24:34.024 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:24:34.029 +07:00 [DBG] Created DbConnection. (5ms).
2025-08-12 09:24:34.034 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.032 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:24:34.032 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-08-12 09:24:34.037 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.040 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:34.042 +07:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7
2025-08-12 09:24:34.044 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:24:34.045 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:34.052 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-12 09:24:34.054 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:34.057 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-08-12 09:24:34.059 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.060 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7
2025-08-12 09:24:34.060 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:24:34.062 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 21ms reading results.
2025-08-12 09:24:34.064 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.071 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:24:34.071 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.073 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 8ms reading results.
2025-08-12 09:24:34.074 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.076 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 09:24:34.078 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.079 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-12 09:24:34.081 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:24:34.082 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 09:24:34.084 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.086 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:24:34.088 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:24:34.089 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-12 09:24:34.090 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:24:34.093 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:24:34.095 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.095 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:24:34.097 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:24:34.098 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.099 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:24:34.100 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:24:34.102 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:24:34.104 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:24:34.105 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:24:34.107 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:24:34.108 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 132.7738ms
2025-08-12 09:24:34.110 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:24:34.112 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-12 09:24:34.114 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:24:34.117 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 128.5126ms
2025-08-12 09:24:34.119 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:24:34.126 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:24:34.121 +07:00 [DBG] Connection id "0HNEP89VK0AU9" received FIN.
2025-08-12 09:24:34.120 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:24:34.133 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:24:34.135 +07:00 [DBG] Connection id "0HNEP89VK0AUA" received FIN.
2025-08-12 09:24:34.139 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.139 +07:00 [DBG] Connection id "0HNEP89VK0AUB" accepted.
2025-08-12 09:24:34.135 +07:00 [DBG] Connection id "0HNEP89VK0AU9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:24:34.152 +07:00 [DBG] Disposed connection to database '' on server '' (12ms).
2025-08-12 09:24:34.137 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.139 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:24:34.147 +07:00 [DBG] Connection id "0HNEP89VK0AUA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:24:34.153 +07:00 [DBG] Connection id "0HNEP89VK0AUB" started.
2025-08-12 09:24:34.154 +07:00 [DBG] Connection id "0HNEP89VK0AU9" disconnecting.
2025-08-12 09:24:34.155 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 229.0814ms
2025-08-12 09:24:34.158 +07:00 [DBG] Disposed connection to database '' on server '' (21ms).
2025-08-12 09:24:34.161 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.163 +07:00 [DBG] Connection id "0HNEP89VK0AUA" disconnecting.
2025-08-12 09:24:34.168 +07:00 [DBG] Connection 0HNEP89VK0AUB established using the following protocol: "Tls13"
2025-08-12 09:24:34.172 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 250.3528ms
2025-08-12 09:24:34.173 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 11ms reading results.
2025-08-12 09:24:34.174 +07:00 [DBG] Connection id "0HNEP89VK0AUA" stopped.
2025-08-12 09:24:34.175 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-12 09:24:34.178 +07:00 [DBG] Connection id "0HNEP89VK0AU9" stopped.
2025-08-12 09:24:34.180 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.183 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:24:34.185 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-12 09:24:34.186 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:24:34.188 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:24:34.189 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:24:34.191 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:24:34.193 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:24:34.194 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:24:34.195 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:24:34.195 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:24:34.196 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:24:34.197 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:24:34.198 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:24:34.198 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:24:34.200 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 239.1147ms
2025-08-12 09:24:34.202 +07:00 [DBG] Authorization was successful.
2025-08-12 09:24:34.204 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:24:34.204 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:24:34.205 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:24:34.206 +07:00 [DBG] Connection id "0HNEP89VK0AU8" received FIN.
2025-08-12 09:24:34.207 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:24:34.208 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.210 +07:00 [DBG] Connection id "0HNEP89VK0AU8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:24:34.212 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:24:34.213 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 09:24:34.215 +07:00 [DBG] Connection id "0HNEP89VK0AU8" disconnecting.
2025-08-12 09:24:34.217 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:24:34.218 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 348.3169ms
2025-08-12 09:24:34.222 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:24:34.226 +07:00 [DBG] Connection id "0HNEP89VK0AU8" stopped.
2025-08-12 09:24:34.227 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:24:34.230 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:24:34.231 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:24:34.233 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:24:34.234 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:24:34.235 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-12 09:24:34.236 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:24:34.238 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:24:34.239 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:24:34.240 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:24:34.242 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:24:34.244 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:24:34.246 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:24:34.246 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:24:34.247 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.249 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.250 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:24:34.251 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:24:34.252 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:24:34.253 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:24:34.259 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:24:34.260 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.261 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 0ms reading results.
2025-08-12 09:24:34.262 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.265 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:24:34.266 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:24:34.268 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:24:34.268 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:24:34.269 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:24:34.270 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:24:34.272 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:24:34.273 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 42.0782ms
2025-08-12 09:24:34.275 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:24:34.276 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:24:34.276 +07:00 [DBG] Connection id "0HNEP89VK0AUB" received FIN.
2025-08-12 09:24:34.277 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:34.279 +07:00 [DBG] Connection id "0HNEP89VK0AUB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:24:34.280 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:24:34.281 +07:00 [DBG] Connection id "0HNEP89VK0AUB" disconnecting.
2025-08-12 09:24:34.282 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 107.056ms
2025-08-12 09:24:34.287 +07:00 [DBG] Connection id "0HNEP89VK0AUB" stopped.
2025-08-12 09:24:38.506 +07:00 [DBG] Connection id "0HNEP89VK0AUC" accepted.
2025-08-12 09:24:38.507 +07:00 [DBG] Connection id "0HNEP89VK0AUC" started.
2025-08-12 09:24:38.511 +07:00 [DBG] Connection 0HNEP89VK0AUC established using the following protocol: "Tls13"
2025-08-12 09:24:38.512 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=4 - null null
2025-08-12 09:24:38.515 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:24:38.516 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:24:38.517 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:24:38.519 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:24:38.519 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:24:38.521 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:24:38.522 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:24:38.523 +07:00 [DBG] Authorization was successful.
2025-08-12 09:24:38.524 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:24:38.525 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:24:38.527 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:24:38.529 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:24:38.530 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:24:38.532 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:24:38.533 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:24:38.536 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:24:38.537 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:24:38.539 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:24:38.540 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-12 09:24:38.541 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:24:38.543 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:24:38.544 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:24:38.546 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:24:38.547 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:24:38.550 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:24:38.551 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:24:38.552 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:38.553 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:38.554 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:24:38.555 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:24:38.557 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:24:38.559 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:24:38.563 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:24:38.565 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:38.566 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:38.567 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:38.568 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:38.571 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:38.572 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:38.573 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:38.574 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:38.575 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:38.577 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:38.578 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:38.579 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:38.580 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:24:38.581 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 15ms reading results.
2025-08-12 09:24:38.582 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:38.584 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:24:38.586 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:24:38.588 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:24:38.588 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:24:38.589 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:24:38.590 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:24:38.591 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:24:38.593 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 56.8189ms
2025-08-12 09:24:38.594 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:24:38.595 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:24:38.596 +07:00 [DBG] Connection id "0HNEP89VK0AUC" received FIN.
2025-08-12 09:24:38.597 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:38.599 +07:00 [DBG] Connection id "0HNEP89VK0AUC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:24:38.600 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:24:38.601 +07:00 [DBG] Connection id "0HNEP89VK0AUC" disconnecting.
2025-08-12 09:24:38.603 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=4 - 200 null application/json; charset=utf-8 90.6118ms
2025-08-12 09:24:38.608 +07:00 [DBG] Connection id "0HNEP89VK0AUC" stopped.
2025-08-12 09:24:40.826 +07:00 [DBG] Connection id "0HNEP89VK0AUD" accepted.
2025-08-12 09:24:40.827 +07:00 [DBG] Connection id "0HNEP89VK0AUD" started.
2025-08-12 09:24:40.831 +07:00 [DBG] Connection 0HNEP89VK0AUD established using the following protocol: "Tls13"
2025-08-12 09:24:40.832 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=2 - null null
2025-08-12 09:24:40.835 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:24:40.836 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:24:40.837 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:24:40.840 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:24:40.841 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:24:40.842 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:24:40.843 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:24:40.844 +07:00 [DBG] Authorization was successful.
2025-08-12 09:24:40.844 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:24:40.846 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:24:40.847 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:24:40.849 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:24:40.851 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:24:40.852 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:24:40.854 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:24:40.855 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:24:40.857 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:24:40.858 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:24:40.860 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-12 09:24:40.861 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:24:40.863 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:24:40.864 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:24:40.866 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:24:40.867 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:24:40.870 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:24:40.870 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:24:40.872 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:40.873 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:40.875 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:24:40.876 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:24:40.877 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:24:40.878 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:24:40.881 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:24:40.885 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.886 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.887 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.888 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.890 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.891 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.892 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.894 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.896 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.897 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.898 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.899 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.900 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.901 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.903 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.904 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.906 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.907 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:40.908 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:24:40.908 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 23ms reading results.
2025-08-12 09:24:40.911 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:40.912 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:24:40.913 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:24:40.915 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:24:40.916 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:24:40.916 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:24:40.917 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:24:40.918 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:24:40.919 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 63.6914ms
2025-08-12 09:24:40.921 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:24:40.922 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:24:40.923 +07:00 [DBG] Connection id "0HNEP89VK0AUD" received FIN.
2025-08-12 09:24:40.924 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:40.925 +07:00 [DBG] Connection id "0HNEP89VK0AUD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:24:40.927 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:24:40.928 +07:00 [DBG] Connection id "0HNEP89VK0AUD" disconnecting.
2025-08-12 09:24:40.930 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=2 - 200 null application/json; charset=utf-8 97.0691ms
2025-08-12 09:24:40.933 +07:00 [DBG] Connection id "0HNEP89VK0AUD" stopped.
2025-08-12 09:24:42.273 +07:00 [DBG] Connection id "0HNEP89VK0AUE" accepted.
2025-08-12 09:24:42.275 +07:00 [DBG] Connection id "0HNEP89VK0AUE" started.
2025-08-12 09:24:42.278 +07:00 [DBG] Connection 0HNEP89VK0AUE established using the following protocol: "Tls13"
2025-08-12 09:24:42.280 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=1 - null null
2025-08-12 09:24:42.283 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:24:42.284 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:24:42.286 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:24:42.288 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:24:42.289 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:24:42.290 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:24:42.290 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:24:42.292 +07:00 [DBG] Authorization was successful.
2025-08-12 09:24:42.293 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:24:42.294 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:24:42.296 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:24:42.297 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:24:42.299 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:24:42.301 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:24:42.303 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:24:42.304 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:24:42.306 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:24:42.307 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:24:42.309 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-12 09:24:42.310 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:24:42.311 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:24:42.313 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:24:42.315 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:24:42.316 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:24:42.318 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:24:42.319 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:24:42.320 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:42.322 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:42.323 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:24:42.324 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:24:42.325 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:24:42.327 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:24:42.330 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:24:42.333 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.335 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.336 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.337 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.338 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.340 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.342 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.343 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.344 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.346 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.347 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.349 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.350 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.352 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.353 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.354 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.357 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.358 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.359 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.360 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.362 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.364 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.365 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.366 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.367 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.370 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.371 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.372 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.373 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.375 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.377 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.378 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.380 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:24:42.381 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:24:42.383 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 49ms reading results.
2025-08-12 09:24:42.384 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:42.386 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:24:42.387 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:24:42.390 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:24:42.391 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:24:42.392 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:24:42.392 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:24:42.394 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:24:42.395 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 90.86ms
2025-08-12 09:24:42.397 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:24:42.398 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:24:42.399 +07:00 [DBG] Connection id "0HNEP89VK0AUE" received FIN.
2025-08-12 09:24:42.400 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:24:42.401 +07:00 [DBG] Connection id "0HNEP89VK0AUE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:24:42.403 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:24:42.404 +07:00 [DBG] Connection id "0HNEP89VK0AUE" disconnecting.
2025-08-12 09:24:42.405 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=1 - 200 null application/json; charset=utf-8 125.5231ms
2025-08-12 09:24:42.410 +07:00 [DBG] Connection id "0HNEP89VK0AUE" stopped.
2025-08-12 09:25:04.040 +07:00 [DBG] Connection id "0HNEP89VK0AUF" accepted.
2025-08-12 09:25:04.046 +07:00 [DBG] Connection id "0HNEP89VK0AUF" started.
2025-08-12 09:25:04.054 +07:00 [DBG] Connection 0HNEP89VK0AUF established using the following protocol: "Tls13"
2025-08-12 09:25:04.056 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:25:04.058 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:25:04.060 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:25:04.061 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:25:04.063 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:25:04.064 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:25:04.065 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:25:04.066 +07:00 [DBG] Authorization was successful.
2025-08-12 09:25:04.068 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:25:04.069 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:25:04.071 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:25:04.073 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:25:04.075 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:25:04.077 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:25:04.078 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:25:04.080 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:25:04.082 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:25:04.083 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:25:04.085 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:25:04.087 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:25:04.089 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:25:04.091 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:25:04.093 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:25:04.095 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:25:04.097 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:25:04.098 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:25:04.100 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:25:04.102 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:25:04.104 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:25:04.105 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:25:04.107 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:04.108 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:04.110 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:25:04.111 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:25:04.113 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:25:04.114 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:25:04.119 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:25:04.121 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:25:04.122 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:25:04.123 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:04.124 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:25:04.125 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:04.127 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:04.128 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:25:04.129 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:25:04.130 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:25:04.131 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:25:04.136 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:25:04.138 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:25:04.139 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:25:04.141 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:04.143 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:25:04.144 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:25:04.146 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:25:04.148 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:25:04.149 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:25:04.150 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:25:04.151 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:25:04.153 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 72.9729ms
2025-08-12 09:25:04.155 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:25:04.156 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:25:04.157 +07:00 [DBG] Connection id "0HNEP89VK0AUF" received FIN.
2025-08-12 09:25:04.161 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:04.164 +07:00 [DBG] Connection id "0HNEP89VK0AUF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:25:04.165 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:25:04.166 +07:00 [DBG] Connection id "0HNEP89VK0AUF" disconnecting.
2025-08-12 09:25:04.168 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 112.1304ms
2025-08-12 09:25:04.171 +07:00 [DBG] Connection id "0HNEP89VK0AUF" stopped.
2025-08-12 09:25:34.039 +07:00 [DBG] Connection id "0HNEP89VK0AUG" accepted.
2025-08-12 09:25:34.045 +07:00 [DBG] Connection id "0HNEP89VK0AUG" started.
2025-08-12 09:25:34.050 +07:00 [DBG] Connection 0HNEP89VK0AUG established using the following protocol: "Tls13"
2025-08-12 09:25:34.052 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:25:34.054 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:25:34.055 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:25:34.057 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:25:34.058 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:25:34.060 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:25:34.061 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:25:34.062 +07:00 [DBG] Authorization was successful.
2025-08-12 09:25:34.063 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:25:34.064 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:25:34.068 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:25:34.070 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:25:34.071 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:25:34.074 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:25:34.075 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:25:34.077 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:25:34.078 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:25:34.081 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:25:34.083 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:25:34.085 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:25:34.087 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:25:34.089 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:25:34.091 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:25:34.093 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:25:34.095 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:25:34.097 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:25:34.099 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:25:34.101 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:25:34.103 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:25:34.104 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:25:34.105 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:34.107 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:34.109 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:25:34.110 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:25:34.111 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:25:34.112 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:25:34.118 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:25:34.120 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:25:34.122 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 09:25:34.124 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:34.125 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:25:34.127 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:34.129 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:34.131 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:25:34.132 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:25:34.133 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:25:34.134 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:25:34.140 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:25:34.142 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:25:34.144 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:25:34.146 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:34.147 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:25:34.150 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:25:34.152 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:25:34.153 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:25:34.154 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:25:34.155 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:25:34.158 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:25:34.159 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 81.8882ms
2025-08-12 09:25:34.160 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:25:34.161 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:25:34.162 +07:00 [DBG] Connection id "0HNEP89VK0AUG" received FIN.
2025-08-12 09:25:34.163 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:25:34.165 +07:00 [DBG] Connection id "0HNEP89VK0AUG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:25:34.166 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:25:34.167 +07:00 [DBG] Connection id "0HNEP89VK0AUG" disconnecting.
2025-08-12 09:25:34.169 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 117.0124ms
2025-08-12 09:25:34.174 +07:00 [DBG] Connection id "0HNEP89VK0AUG" stopped.
2025-08-12 09:26:04.041 +07:00 [DBG] Connection id "0HNEP89VK0AUH" accepted.
2025-08-12 09:26:04.050 +07:00 [DBG] Connection id "0HNEP89VK0AUH" started.
2025-08-12 09:26:04.055 +07:00 [DBG] Connection 0HNEP89VK0AUH established using the following protocol: "Tls13"
2025-08-12 09:26:04.057 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:26:04.060 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:26:04.061 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:26:04.063 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:26:04.065 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:26:04.066 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:26:04.067 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:26:04.068 +07:00 [DBG] Authorization was successful.
2025-08-12 09:26:04.069 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:26:04.070 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:26:04.072 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:26:04.074 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:26:04.076 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:26:04.078 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:26:04.080 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:26:04.082 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:26:04.084 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:26:04.086 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:26:04.087 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:26:04.092 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:26:04.094 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:26:04.096 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:26:04.098 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:26:04.100 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:26:04.102 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:26:04.103 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:26:04.104 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:26:04.107 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:26:04.109 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:26:04.110 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:26:04.112 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:04.113 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:04.115 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:04.116 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:26:04.118 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:26:04.119 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:26:04.126 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:26:04.129 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:04.131 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 09:26:04.133 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:04.135 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:26:04.139 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:04.142 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:04.144 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:04.146 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:26:04.147 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:26:04.149 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:26:04.155 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:26:04.157 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:04.159 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:26:04.160 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:04.161 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:26:04.163 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:26:04.165 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:26:04.165 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:26:04.166 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:26:04.167 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:26:04.168 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:26:04.170 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 87.3944ms
2025-08-12 09:26:04.172 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:26:04.173 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:26:04.174 +07:00 [DBG] Connection id "0HNEP89VK0AUH" received FIN.
2025-08-12 09:26:04.180 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:04.184 +07:00 [DBG] Connection id "0HNEP89VK0AUH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:26:04.185 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 09:26:04.187 +07:00 [DBG] Connection id "0HNEP89VK0AUH" disconnecting.
2025-08-12 09:26:04.188 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 131.2534ms
2025-08-12 09:26:04.194 +07:00 [DBG] Connection id "0HNEP89VK0AUH" stopped.
2025-08-12 09:26:21.271 +07:00 [DBG] Connection id "0HNEP89VK0AUI" accepted.
2025-08-12 09:26:21.272 +07:00 [DBG] Connection id "0HNEP89VK0AUI" started.
2025-08-12 09:26:21.277 +07:00 [DBG] Connection 0HNEP89VK0AUI established using the following protocol: "Tls13"
2025-08-12 09:26:21.279 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:26:21.281 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:26:21.282 +07:00 [DBG] Connection id "0HNEP89VK0AUJ" accepted.
2025-08-12 09:26:21.283 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:26:21.289 +07:00 [DBG] Connection id "0HNEP89VK0AUK" accepted.
2025-08-12 09:26:21.288 +07:00 [DBG] Connection id "0HNEP89VK0AUJ" started.
2025-08-12 09:26:21.295 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:26:21.297 +07:00 [DBG] Connection id "0HNEP89VK0AUK" started.
2025-08-12 09:26:21.299 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:26:21.301 +07:00 [DBG] Connection 0HNEP89VK0AUJ established using the following protocol: "Tls13"
2025-08-12 09:26:21.301 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:26:21.303 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-12 09:26:21.303 +07:00 [DBG] Connection 0HNEP89VK0AUK established using the following protocol: "Tls13"
2025-08-12 09:26:21.304 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:26:21.307 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:26:21.308 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-12 09:26:21.308 +07:00 [DBG] Authorization was successful.
2025-08-12 09:26:21.310 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 09:26:21.313 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-12 09:26:21.314 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:26:21.315 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:26:21.317 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-12 09:26:21.318 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:26:21.319 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:26:21.321 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:26:21.322 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:26:21.323 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:26:21.325 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:26:21.327 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:26:21.328 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:26:21.329 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:26:21.330 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:26:21.331 +07:00 [DBG] Authorization was successful.
2025-08-12 09:26:21.332 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:26:21.334 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:26:21.335 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:26:21.337 +07:00 [DBG] Authorization was successful.
2025-08-12 09:26:21.338 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:26:21.340 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 09:26:21.341 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:26:21.342 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:26:21.344 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:26:21.347 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 09:26:21.348 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:26:21.349 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:26:21.351 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:26:21.353 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:26:21.355 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:26:21.357 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:26:21.358 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:26:21.360 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:26:21.361 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:26:21.362 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:26:21.364 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:26:21.365 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:26:21.368 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:26:21.370 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:26:21.371 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:26:21.373 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:26:21.375 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:26:21.376 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:26:21.378 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:26:21.379 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:26:21.381 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:26:21.382 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:26:21.384 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:26:21.386 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:26:21.387 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:26:21.388 +07:00 [DBG] Created DbConnection. (4ms).
2025-08-12 09:26:21.391 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:26:21.392 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:26:21.393 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.394 +07:00 [DBG] Created DbConnection. (3ms).
2025-08-12 09:26:21.396 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:26:21.397 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.398 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.400 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:26:21.401 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:21.402 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.404 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:26:21.405 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:26:21.406 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:21.407 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 09:26:21.409 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-12 09:26:21.410 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:26:21.411 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.412 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:26:21.413 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 09:26:21.415 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.420 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:26:21.420 +07:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7
2025-08-12 09:26:21.421 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:21.424 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:21.428 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-08-12 09:26:21.429 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:21.431 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-12 09:26:21.432 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:21.434 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:26:21.434 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7
2025-08-12 09:26:21.436 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.443 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:26:21.444 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.445 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 21ms reading results.
2025-08-12 09:26:21.448 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.449 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 09:26:21.451 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.453 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 09:26:21.455 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.457 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-12 09:26:21.458 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.463 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 09:26:21.462 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:26:21.460 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 09:26:21.466 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.467 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:26:21.471 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:26:21.470 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.469 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:26:21.474 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:26:21.475 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:21.479 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:26:21.480 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:26:21.481 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:26:21.482 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:26:21.483 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:26:21.486 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-12 09:26:21.487 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:26:21.488 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 118.523ms
2025-08-12 09:26:21.489 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:26:21.490 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:26:21.492 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:26:21.496 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:26:21.497 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:26:21.498 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:26:21.499 +07:00 [DBG] Connection id "0HNEP89VK0AUJ" received FIN.
2025-08-12 09:26:21.501 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.506 +07:00 [DBG] Connection id "0HNEP89VK0AUJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:26:21.500 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 123.9025ms
2025-08-12 09:26:21.504 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.506 +07:00 [DBG] Connection id "0HNEP89VK0AUL" accepted.
2025-08-12 09:26:21.513 +07:00 [DBG] Disposed connection to database '' on server '' (11ms).
2025-08-12 09:26:21.514 +07:00 [DBG] Connection id "0HNEP89VK0AUJ" disconnecting.
2025-08-12 09:26:21.515 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:26:21.516 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 12ms reading results.
2025-08-12 09:26:21.517 +07:00 [DBG] Connection id "0HNEP89VK0AUL" started.
2025-08-12 09:26:21.519 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 215.9368ms
2025-08-12 09:26:21.521 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:26:21.523 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.522 +07:00 [DBG] Connection id "0HNEP89VK0AUK" received FIN.
2025-08-12 09:26:21.527 +07:00 [DBG] Connection 0HNEP89VK0AUL established using the following protocol: "Tls13"
2025-08-12 09:26:21.527 +07:00 [DBG] Connection id "0HNEP89VK0AUJ" stopped.
2025-08-12 09:26:21.528 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.529 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (6ms).
2025-08-12 09:26:21.530 +07:00 [DBG] Connection id "0HNEP89VK0AUK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:26:21.531 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-12 09:26:21.534 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-08-12 09:26:21.535 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:26:21.536 +07:00 [DBG] Connection id "0HNEP89VK0AUK" disconnecting.
2025-08-12 09:26:21.538 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:26:21.541 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 233.2276ms
2025-08-12 09:26:21.543 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:26:21.545 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:26:21.549 +07:00 [DBG] Connection id "0HNEP89VK0AUK" stopped.
2025-08-12 09:26:21.550 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:26:21.551 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:26:21.553 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:26:21.555 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:21.556 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:26:21.557 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:26:21.558 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:26:21.559 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:26:21.561 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 219.0684ms
2025-08-12 09:26:21.562 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:26:21.564 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:26:21.565 +07:00 [DBG] Authorization was successful.
2025-08-12 09:26:21.566 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:26:21.566 +07:00 [DBG] Connection id "0HNEP89VK0AUI" received FIN.
2025-08-12 09:26:21.567 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:21.569 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.569 +07:00 [DBG] Connection id "0HNEP89VK0AUI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:26:21.570 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:26:21.572 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:26:21.573 +07:00 [DBG] Connection id "0HNEP89VK0AUI" disconnecting.
2025-08-12 09:26:21.575 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:26:21.576 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 297.9903ms
2025-08-12 09:26:21.579 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:26:21.584 +07:00 [DBG] Connection id "0HNEP89VK0AUI" stopped.
2025-08-12 09:26:21.586 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:26:21.590 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:26:21.591 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:26:21.593 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:26:21.594 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:26:21.595 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:26:21.597 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-12 09:26:21.598 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:21.599 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:21.601 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:21.602 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:26:21.604 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:21.605 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:26:21.607 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:26:21.608 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:26:21.609 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.611 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.612 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:21.613 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:26:21.614 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:26:21.615 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:26:21.621 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:26:21.623 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.624 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:26:21.626 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.627 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:26:21.629 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:26:21.631 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:26:21.632 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:26:21.633 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:26:21.634 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:26:21.635 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:26:21.636 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 43.4413ms
2025-08-12 09:26:21.638 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:21.639 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:26:21.640 +07:00 [DBG] Connection id "0HNEP89VK0AUL" received FIN.
2025-08-12 09:26:21.641 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:21.642 +07:00 [DBG] Connection id "0HNEP89VK0AUL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:26:21.644 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:26:21.646 +07:00 [DBG] Connection id "0HNEP89VK0AUL" disconnecting.
2025-08-12 09:26:21.647 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 116.4208ms
2025-08-12 09:26:21.652 +07:00 [DBG] Connection id "0HNEP89VK0AUL" stopped.
2025-08-12 09:26:33.226 +07:00 [DBG] Connection id "0HNEP89VK0AUM" accepted.
2025-08-12 09:26:33.227 +07:00 [DBG] Connection id "0HNEP89VK0AUM" started.
2025-08-12 09:26:33.232 +07:00 [DBG] Connection 0HNEP89VK0AUM established using the following protocol: "Tls13"
2025-08-12 09:26:33.233 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:26:33.237 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:26:33.237 +07:00 [DBG] Connection id "0HNEP89VK0AUN" accepted.
2025-08-12 09:26:33.238 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:26:33.239 +07:00 [DBG] Connection id "0HNEP89VK0AUN" started.
2025-08-12 09:26:33.240 +07:00 [DBG] Connection id "0HNEP89VK0AUO" accepted.
2025-08-12 09:26:33.241 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:26:33.244 +07:00 [DBG] Connection id "0HNEP89VK0AUO" started.
2025-08-12 09:26:33.246 +07:00 [DBG] Connection 0HNEP89VK0AUN established using the following protocol: "Tls13"
2025-08-12 09:26:33.246 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:26:33.248 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-12 09:26:33.250 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:26:33.250 +07:00 [DBG] Connection 0HNEP89VK0AUO established using the following protocol: "Tls13"
2025-08-12 09:26:33.253 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:26:33.254 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:26:33.255 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-12 09:26:33.256 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 09:26:33.257 +07:00 [DBG] Authorization was successful.
2025-08-12 09:26:33.260 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-12 09:26:33.261 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:26:33.262 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:26:33.263 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-12 09:26:33.264 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:26:33.265 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:26:33.267 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:26:33.268 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:26:33.271 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:26:33.272 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:26:33.273 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:26:33.274 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:26:33.275 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:26:33.276 +07:00 [DBG] Authorization was successful.
2025-08-12 09:26:33.278 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:26:33.279 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:26:33.280 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:26:33.281 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:26:33.282 +07:00 [DBG] Authorization was successful.
2025-08-12 09:26:33.284 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 09:26:33.285 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:26:33.286 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:26:33.288 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:26:33.289 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:26:33.290 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 09:26:33.293 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:26:33.294 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:26:33.295 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:26:33.297 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:26:33.299 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:26:33.300 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:26:33.302 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:26:33.303 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:26:33.305 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:26:33.306 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:26:33.308 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:26:33.309 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:26:33.311 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:26:33.313 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:26:33.314 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:26:33.315 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:26:33.317 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:26:33.319 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:26:33.320 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:26:33.325 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:26:33.323 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:26:33.322 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:26:33.326 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:26:33.328 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:26:33.329 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:26:33.330 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.332 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:26:33.334 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:26:33.336 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.336 +07:00 [DBG] Created DbConnection. (4ms).
2025-08-12 09:26:33.338 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:26:33.340 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:33.341 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.343 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:26:33.344 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:26:33.347 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.349 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:26:33.351 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-12 09:26:33.353 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:33.356 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:26:33.357 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:26:33.358 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:26:33.362 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:26:33.359 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 09:26:33.363 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-08-12 09:26:33.365 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:33.366 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.368 +07:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7
2025-08-12 09:26:33.369 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:33.373 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7
2025-08-12 09:26:33.370 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.375 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:33.377 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.379 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:33.380 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.382 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-12 09:26:33.383 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:26:33.384 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 18ms reading results.
2025-08-12 09:26:33.385 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.386 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 09:26:33.388 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.390 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (5ms).
2025-08-12 09:26:33.391 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:26:33.392 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 09:26:33.394 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:26:33.399 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:26:33.399 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:26:33.401 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:26:33.403 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.405 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:26:33.406 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:26:33.407 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-12 09:26:33.408 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:26:33.409 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:26:33.410 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.411 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:26:33.412 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:26:33.413 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:26:33.413 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:26:33.414 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:26:33.417 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.418 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:26:33.419 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 100.4314ms
2025-08-12 09:26:33.421 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.422 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 111.9006ms
2025-08-12 09:26:33.424 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:26:33.426 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:33.427 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:26:33.428 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:26:33.428 +07:00 [DBG] Connection id "0HNEP89VK0AUO" received FIN.
2025-08-12 09:26:33.430 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:26:33.431 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:26:33.431 +07:00 [DBG] Connection id "0HNEP89VK0AUN" received FIN.
2025-08-12 09:26:33.432 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.433 +07:00 [DBG] Connection id "0HNEP89VK0AUO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:26:33.436 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.438 +07:00 [DBG] Connection id "0HNEP89VK0AUP" accepted.
2025-08-12 09:26:33.434 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-08-12 09:26:33.444 +07:00 [DBG] Disposed connection to database '' on server '' (11ms).
2025-08-12 09:26:33.445 +07:00 [DBG] Connection id "0HNEP89VK0AUO" disconnecting.
2025-08-12 09:26:33.448 +07:00 [DBG] Connection id "0HNEP89VK0AUP" started.
2025-08-12 09:26:33.447 +07:00 [DBG] Disposed connection to database '' on server '' (10ms).
2025-08-12 09:26:33.438 +07:00 [DBG] Connection id "0HNEP89VK0AUN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:26:33.451 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 196.1212ms
2025-08-12 09:26:33.455 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 206.5152ms
2025-08-12 09:26:33.449 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:26:33.456 +07:00 [DBG] Connection 0HNEP89VK0AUP established using the following protocol: "Tls13"
2025-08-12 09:26:33.460 +07:00 [DBG] Connection id "0HNEP89VK0AUO" stopped.
2025-08-12 09:26:33.456 +07:00 [DBG] Connection id "0HNEP89VK0AUN" disconnecting.
2025-08-12 09:26:33.466 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:26:33.467 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-12 09:26:33.469 +07:00 [DBG] Connection id "0HNEP89VK0AUN" stopped.
2025-08-12 09:26:33.471 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.474 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:26:33.476 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 09:26:33.477 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:26:33.479 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.481 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:26:33.482 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:26:33.483 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:33.485 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:26:33.487 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:26:33.489 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:26:33.489 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:26:33.490 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:26:33.491 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:26:33.492 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:26:33.493 +07:00 [DBG] Authorization was successful.
2025-08-12 09:26:33.494 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:26:33.495 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:33.496 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:26:33.497 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:26:33.499 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 210.348ms
2025-08-12 09:26:33.502 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:26:33.503 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:26:33.504 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:26:33.505 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:26:33.506 +07:00 [DBG] Connection id "0HNEP89VK0AUM" received FIN.
2025-08-12 09:26:33.508 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:26:33.509 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.510 +07:00 [DBG] Connection id "0HNEP89VK0AUM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:26:33.511 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:26:33.514 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 09:26:33.515 +07:00 [DBG] Connection id "0HNEP89VK0AUM" disconnecting.
2025-08-12 09:26:33.516 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:26:33.518 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 284.6557ms
2025-08-12 09:26:33.521 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:26:33.525 +07:00 [DBG] Connection id "0HNEP89VK0AUM" stopped.
2025-08-12 09:26:33.526 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:26:33.529 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:26:33.530 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-12 09:26:33.532 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:33.533 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:33.535 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:33.537 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:26:33.538 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:33.540 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:26:33.543 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:26:33.544 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:26:33.545 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.546 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.548 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:33.549 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:26:33.551 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:26:33.552 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:26:33.555 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:26:33.558 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.560 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:26:33.561 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.563 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:26:33.565 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:26:33.567 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:26:33.568 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:26:33.569 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:26:33.571 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:26:33.572 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:26:33.574 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 52.6973ms
2025-08-12 09:26:33.577 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:33.578 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:26:33.578 +07:00 [DBG] Connection id "0HNEP89VK0AUP" received FIN.
2025-08-12 09:26:33.579 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:33.580 +07:00 [DBG] Connection id "0HNEP89VK0AUP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:26:33.582 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:26:33.583 +07:00 [DBG] Connection id "0HNEP89VK0AUP" disconnecting.
2025-08-12 09:26:33.585 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 117.4812ms
2025-08-12 09:26:33.589 +07:00 [DBG] Connection id "0HNEP89VK0AUP" stopped.
2025-08-12 09:26:37.261 +07:00 [DBG] Connection id "0HNEP89VK0AUQ" accepted.
2025-08-12 09:26:37.262 +07:00 [DBG] Connection id "0HNEP89VK0AUQ" started.
2025-08-12 09:26:37.266 +07:00 [DBG] Connection 0HNEP89VK0AUQ established using the following protocol: "Tls13"
2025-08-12 09:26:37.268 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=4 - null null
2025-08-12 09:26:37.275 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:26:37.276 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:26:37.278 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:26:37.279 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:37.281 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:26:37.282 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:26:37.282 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:26:37.284 +07:00 [DBG] Authorization was successful.
2025-08-12 09:26:37.285 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:37.285 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:26:37.287 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:26:37.288 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:26:37.290 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:26:37.292 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:26:37.294 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:26:37.295 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:26:37.297 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:26:37.299 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:26:37.300 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-12 09:26:37.301 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:37.302 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:37.303 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:26:37.305 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:37.307 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:26:37.309 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:26:37.310 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:26:37.312 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:37.313 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:37.315 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:37.316 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:26:37.317 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:26:37.318 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:26:37.322 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:26:37.324 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:37.327 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:37.328 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:37.330 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:37.331 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:37.333 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:37.335 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:37.336 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:37.338 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:37.340 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:37.342 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:37.343 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:37.344 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:37.346 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 21ms reading results.
2025-08-12 09:26:37.348 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:37.349 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:26:37.350 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:26:37.352 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:26:37.354 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:26:37.355 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:26:37.356 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:26:37.357 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:26:37.358 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 62.5578ms
2025-08-12 09:26:37.360 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:37.362 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:26:37.362 +07:00 [DBG] Connection id "0HNEP89VK0AUQ" received FIN.
2025-08-12 09:26:37.363 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:37.364 +07:00 [DBG] Connection id "0HNEP89VK0AUQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:26:37.365 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:26:37.367 +07:00 [DBG] Connection id "0HNEP89VK0AUQ" disconnecting.
2025-08-12 09:26:37.368 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=4 - 200 null application/json; charset=utf-8 100.6989ms
2025-08-12 09:26:37.372 +07:00 [DBG] Connection id "0HNEP89VK0AUQ" stopped.
2025-08-12 09:26:38.949 +07:00 [DBG] Connection id "0HNEP89VK0AUR" accepted.
2025-08-12 09:26:38.951 +07:00 [DBG] Connection id "0HNEP89VK0AUR" started.
2025-08-12 09:26:38.955 +07:00 [DBG] Connection 0HNEP89VK0AUR established using the following protocol: "Tls13"
2025-08-12 09:26:38.956 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=2 - null null
2025-08-12 09:26:38.960 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:26:38.961 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:26:38.963 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:26:38.970 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:38.971 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:26:38.973 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:26:38.974 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:26:38.975 +07:00 [DBG] Authorization was successful.
2025-08-12 09:26:38.976 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:38.977 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:26:38.979 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:26:38.981 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:26:38.982 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:26:38.984 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:26:38.986 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:26:38.988 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:26:38.989 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:26:38.991 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:26:38.993 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-12 09:26:38.995 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:38.996 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:38.998 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:26:38.999 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:39.001 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:26:39.003 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:26:39.005 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:26:39.007 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:39.009 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:39.010 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:39.011 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:26:39.012 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:26:39.014 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:26:39.018 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:26:39.021 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.023 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.024 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.025 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.027 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.029 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.031 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.032 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.034 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.036 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.037 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.039 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.040 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.042 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.044 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.045 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.046 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.047 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:39.049 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:39.051 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 29ms reading results.
2025-08-12 09:26:39.053 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:39.054 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:26:39.056 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:26:39.059 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:26:39.060 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:26:39.061 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:26:39.062 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:26:39.064 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:26:39.065 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 76.9782ms
2025-08-12 09:26:39.066 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:39.067 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:26:39.068 +07:00 [DBG] Connection id "0HNEP89VK0AUR" received FIN.
2025-08-12 09:26:39.069 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:39.070 +07:00 [DBG] Connection id "0HNEP89VK0AUR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:26:39.071 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:26:39.073 +07:00 [DBG] Connection id "0HNEP89VK0AUR" disconnecting.
2025-08-12 09:26:39.074 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=2 - 200 null application/json; charset=utf-8 117.8214ms
2025-08-12 09:26:39.080 +07:00 [DBG] Connection id "0HNEP89VK0AUR" stopped.
2025-08-12 09:26:40.334 +07:00 [DBG] Connection id "0HNEP89VK0AUS" accepted.
2025-08-12 09:26:40.335 +07:00 [DBG] Connection id "0HNEP89VK0AUS" started.
2025-08-12 09:26:40.339 +07:00 [DBG] Connection 0HNEP89VK0AUS established using the following protocol: "Tls13"
2025-08-12 09:26:40.340 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=1 - null null
2025-08-12 09:26:40.343 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:26:40.345 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:26:40.347 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:26:40.349 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:40.350 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:26:40.351 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:26:40.352 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:26:40.353 +07:00 [DBG] Authorization was successful.
2025-08-12 09:26:40.354 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:40.355 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:26:40.357 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:26:40.359 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:26:40.360 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:26:40.363 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:26:40.364 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:26:40.366 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:26:40.368 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:26:40.369 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:26:40.370 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-08-12 09:26:40.372 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:40.374 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:40.375 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:26:40.377 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:26:40.379 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:26:40.381 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:26:40.382 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:26:40.384 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:40.385 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:40.387 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:26:40.388 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:26:40.390 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:26:40.391 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:26:40.395 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:26:40.398 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.399 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.400 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.402 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.403 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.404 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.406 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.407 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.408 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.410 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.411 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.413 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.414 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.416 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.417 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.418 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.420 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.421 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.422 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.424 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.425 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.427 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.428 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.429 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.431 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.432 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.434 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.435 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.436 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.438 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.439 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.441 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.442 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:26:40.443 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:26:40.445 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 47ms reading results.
2025-08-12 09:26:40.447 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:40.448 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:26:40.449 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:26:40.452 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:26:40.452 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:26:40.453 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:26:40.454 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:26:40.456 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:26:40.457 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 91.6158ms
2025-08-12 09:26:40.459 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:26:40.460 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:26:40.461 +07:00 [DBG] Connection id "0HNEP89VK0AUS" received FIN.
2025-08-12 09:26:40.462 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:26:40.463 +07:00 [DBG] Connection id "0HNEP89VK0AUS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:26:40.465 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:26:40.467 +07:00 [DBG] Connection id "0HNEP89VK0AUS" disconnecting.
2025-08-12 09:26:40.469 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available?semesterId=1 - 200 null application/json; charset=utf-8 128.3485ms
2025-08-12 09:26:40.474 +07:00 [DBG] Connection id "0HNEP89VK0AUS" stopped.
2025-08-12 09:27:03.228 +07:00 [DBG] Connection id "0HNEP89VK0AUT" accepted.
2025-08-12 09:27:03.230 +07:00 [DBG] Connection id "0HNEP89VK0AUT" started.
2025-08-12 09:27:03.234 +07:00 [DBG] Connection 0HNEP89VK0AUT established using the following protocol: "Tls13"
2025-08-12 09:27:03.237 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:27:03.240 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:27:03.241 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:27:03.242 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:27:03.244 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:27:03.245 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:27:03.246 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:27:03.247 +07:00 [DBG] Authorization was successful.
2025-08-12 09:27:03.248 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:27:03.249 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:27:03.251 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:27:03.253 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:27:03.255 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:27:03.257 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:27:03.259 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:27:03.261 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:27:03.263 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:27:03.265 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:27:03.267 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:27:03.268 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:27:03.270 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:27:03.272 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:27:03.274 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:27:03.275 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:27:03.276 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:27:03.277 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:27:03.279 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:27:03.281 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:27:03.282 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:27:03.283 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:27:03.284 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:03.286 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:03.287 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:27:03.288 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:27:03.289 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:27:03.290 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:27:03.295 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:27:03.298 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:27:03.300 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:27:03.301 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:03.302 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:27:03.304 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:03.306 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:03.307 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:27:03.308 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:27:03.309 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:27:03.311 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:27:03.315 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:27:03.318 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:27:03.319 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:27:03.321 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:03.322 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:27:03.323 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:27:03.326 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:27:03.327 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:27:03.328 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:27:03.328 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:27:03.330 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:27:03.331 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 69.9711ms
2025-08-12 09:27:03.332 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:27:03.334 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:27:03.335 +07:00 [DBG] Connection id "0HNEP89VK0AUT" received FIN.
2025-08-12 09:27:03.337 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:03.340 +07:00 [DBG] Connection id "0HNEP89VK0AUT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:27:03.342 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 09:27:03.343 +07:00 [DBG] Connection id "0HNEP89VK0AUT" disconnecting.
2025-08-12 09:27:03.345 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 107.884ms
2025-08-12 09:27:03.349 +07:00 [DBG] Connection id "0HNEP89VK0AUT" stopped.
2025-08-12 09:27:03.954 +07:00 [DBG] Connection id "0HNEP89VK0AUU" accepted.
2025-08-12 09:27:03.955 +07:00 [DBG] Connection id "0HNEP89VK0AUU" started.
2025-08-12 09:27:03.959 +07:00 [DBG] Connection 0HNEP89VK0AUU established using the following protocol: "Tls13"
2025-08-12 09:27:03.962 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/me - null null
2025-08-12 09:27:03.970 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-12 09:27:03.971 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 09:27:03.973 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:27:03.974 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:27:03.975 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:27:03.976 +07:00 [DBG] The request is a preflight request.
2025-08-12 09:27:03.977 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/me - 204 null null 15.3781ms
2025-08-12 09:27:03.980 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/me - null null
2025-08-12 09:27:03.985 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-12 09:27:03.986 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)' with route pattern 'api/student/me' is valid for the request path '/api/student/me'
2025-08-12 09:27:03.989 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-12 09:27:03.990 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:27:03.991 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:27:03.992 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:27:03.993 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:27:03.994 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:27:03.996 +07:00 [DBG] Authorization was successful.
2025-08-12 09:27:03.997 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-12 09:27:03.998 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 09:27:04.000 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:27:04.002 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:27:04.004 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:27:04.006 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:27:04.008 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:27:04.010 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:27:04.012 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:27:04.014 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:27:04.017 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:27:04.018 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:27:04.020 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:04.022 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:04.023 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:27:04.024 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:27:04.025 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:27:04.027 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-12 09:27:04.035 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-12 09:27:04.038 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.039 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.040 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.041 +07:00 [DBG] The navigation 'Student.Department' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.043 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.045 +07:00 [DBG] The navigation 'Student.Program' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.046 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.047 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:27:04.049 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 11ms reading results.
2025-08-12 09:27:04.051 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:04.053 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:27:04.054 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:27:04.056 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:27:04.058 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:27:04.058 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:27:04.059 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:27:04.060 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentDto'.
2025-08-12 09:27:04.061 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI) in 50.8516ms
2025-08-12 09:27:04.063 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-12 09:27:04.064 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:27:04.066 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:04.067 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 09:27:04.069 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/me - 200 null application/json; charset=utf-8 88.4939ms
2025-08-12 09:27:04.802 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-12 09:27:04.807 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-12 09:27:04.808 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 09:27:04.809 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:27:04.810 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:27:04.810 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:27:04.811 +07:00 [DBG] The request is a preflight request.
2025-08-12 09:27:04.812 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 9.9525ms
2025-08-12 09:27:04.815 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-12 09:27:04.818 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-12 09:27:04.820 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-12 09:27:04.822 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-12 09:27:04.823 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:27:04.824 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:27:04.825 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:27:04.826 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:27:04.828 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:27:04.829 +07:00 [DBG] Authorization was successful.
2025-08-12 09:27:04.831 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-12 09:27:04.835 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 09:27:04.837 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:27:04.839 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:27:04.840 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:27:04.842 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:27:04.844 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:27:04.845 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:27:04.846 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:27:04.851 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:27:04.854 +07:00 [DBG] Compiling query expression: 
'DbSet<Enrollment>()
    .Where(e => e.StudentId == __studentId_0)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Subject)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Semester)
    .Include(e => e.CourseClass)
    .ThenInclude(cc => cc.Teacher)
    .ThenInclude(t => t.User)
    .Select(e => e.CourseClass)
    .Distinct()'
2025-08-12 09:27:04.859 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-12 09:27:04.860 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-12 09:27:04.863 +07:00 [DBG] Including navigation: 'CourseClass.Teacher'.
2025-08-12 09:27:04.865 +07:00 [DBG] Including navigation: 'Teacher.User'.
2025-08-12 09:27:04.877 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CourseClass>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
            3 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 18], [Property: Teacher.Degree (string) Required, 19], [Property: Teacher.TeacherCode (string) Required, 20] }
            4 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: User.Email (string), 22], [Property: User.FullName (string) Required, 23], [Property: User.PasswordHash (string) Required, 24], [Property: User.Phone (string), 25], [Property: User.Role (string) Required, 26], [Property: User.Username (string) Required, 27] }
        SELECT s0.Id, s0.ClassCode, s0.MaxStudents, s0.Schedule, s0.SemesterId, s0.SubjectId, s0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s1.Id, s1.EndDate, s1.IsOpen, s1.Name, s1.StartDate, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT DISTINCT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM Enrollments AS e
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            WHERE e.StudentId == @__studentId_0
        ) AS s0
        INNER JOIN Subjects AS s ON s0.SubjectId == s.Id
        INNER JOIN Semesters AS s1 ON s0.SemesterId == s1.Id
        INNER JOIN Teachers AS t ON s0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CourseClass.ClassCode (string) Required, 1], [Property: CourseClass.MaxStudents (int?), 2], [Property: CourseClass.Schedule (string), 3], [Property: CourseClass.SemesterId (int) Required FK Index, 4], [Property: CourseClass.SubjectId (int) Required FK Index, 5], [Property: CourseClass.TeacherId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Subject.Credit (int) Required, 8], [Property: Subject.Description (string), 9], [Property: Subject.Name (string) Required, 10], [Property: Subject.SemesterId (int) Required FK Index, 11], [Property: Subject.SubjectCode (string) Required, 12] }
            2 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Semester.EndDate (DateTime) Required, 14], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 15], [Property: Semester.Name (string) Required, 16], [Property: Semester.StartDate (DateTime) Required, 17] }
            3 -> Dictionary<IProperty, int> { [Property: Teacher.Id (int) Required PK FK AfterSave:Throw, 18], [Property: Teacher.Degree (string) Required, 19], [Property: Teacher.TeacherCode (string) Required, 20] }
            4 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: User.Email (string), 22], [Property: User.FullName (string) Required, 23], [Property: User.PasswordHash (string) Required, 24], [Property: User.Phone (string), 25], [Property: User.Role (string) Required, 26], [Property: User.Username (string) Required, 27] }
        SELECT s0.Id, s0.ClassCode, s0.MaxStudents, s0.Schedule, s0.SemesterId, s0.SubjectId, s0.TeacherId, s.Id, s.Credit, s.Description, s.Name, s.SemesterId, s.SubjectCode, s1.Id, s1.EndDate, s1.IsOpen, s1.Name, s1.StartDate, t.Id, t.Degree, t.TeacherCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username
        FROM 
        (
            SELECT DISTINCT c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId
            FROM Enrollments AS e
            INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
            WHERE e.StudentId == @__studentId_0
        ) AS s0
        INNER JOIN Subjects AS s ON s0.SubjectId == s.Id
        INNER JOIN Semesters AS s1 ON s0.SemesterId == s1.Id
        INNER JOIN Teachers AS t ON s0.TeacherId == t.Id
        INNER JOIN Users AS u ON t.Id == u.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CourseClass entity;
        Subject entity;
        Semester entity;
        Teacher entity;
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CourseClass instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CourseClass);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CourseClass)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CourseClass")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(1);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(4);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(5);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Subject instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Subject);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Subject)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(8);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<Name>k__BackingField = dataReader.GetString(10);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(11);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Semester instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Semester);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Semester)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Semester")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(14);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(15);
                                instance.<Name>k__BackingField = dataReader.GetString(16);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(17);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            Teacher instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(Teacher);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Teacher.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(18) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (Teacher)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]: 
                        {
                            return 
                            {
                                Teacher instance;
                                instance = new Teacher();
                                instance.<Id>k__BackingField = dataReader.GetInt32(18);
                                instance.<Degree>k__BackingField = dataReader.GetString(19);
                                instance.<TeacherCode>k__BackingField = dataReader.GetString(20);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Teacher | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Teacher)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            User instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(User);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(21) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (User)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("User")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(21);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<FullName>k__BackingField = dataReader.GetString(23);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(24);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(25) ? default(string) : dataReader.GetString(25);
                                instance.<Role>k__BackingField = dataReader.GetString(26);
                                instance.<Username>k__BackingField = dataReader.GetString(27);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{17}, namelessParameter{18}) => 
            {
                namelessParameter{17}.<Subject>k__BackingField = namelessParameter{18};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{18}, 
                    value: namelessParameter{17}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{22}, namelessParameter{23}) => 
            {
                namelessParameter{22}.<Semester>k__BackingField = namelessParameter{23};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{24} => namelessParameter{24}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{23}, 
                    value: namelessParameter{22}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Teacher, Teacher, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Teacher.User (User) ToPrincipal User Inverse: Teacher | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Teacher (Teacher) ToDependent Teacher Inverse: User | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("User").FindNavigation("Teacher")], 
            fixup: (namelessParameter{27}, namelessParameter{28}) => 
            {
                namelessParameter{27}.<User>k__BackingField = namelessParameter{28};
                return namelessParameter{28}.<Teacher>k__BackingField = namelessParameter{27};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Teacher>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Teacher (Teacher) ToPrincipal Teacher Inverse: CourseClasses | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Teacher")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Teacher.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Teacher | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{31}, namelessParameter{32}) => 
            {
                namelessParameter{31}.<Teacher>k__BackingField = namelessParameter{32};
                return [LIFTABLE Constant: ClrICollectionAccessor<Teacher, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{33} => namelessParameter{33}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Teacher").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{32}, 
                    value: namelessParameter{31}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 09:27:04.886 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:27:04.887 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:27:04.888 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:04.891 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:04.892 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:27:04.894 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:27:04.895 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:27:04.896 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-12 09:27:04.906 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-12 09:27:04.908 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.910 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.912 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.913 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.914 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.915 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.918 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.919 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.921 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.922 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.924 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.926 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.927 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.928 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.929 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.931 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.934 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.936 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.938 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.940 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.942 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.943 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.945 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.948 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.950 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.951 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.953 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.955 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.956 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.958 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.959 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.961 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.962 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.963 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.965 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.967 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.968 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.969 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.971 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.972 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.974 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.975 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.976 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.977 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.979 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.980 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.982 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.984 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.985 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.986 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.988 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.989 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.991 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.992 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.994 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.996 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.997 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.998 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:04.999 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.001 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.003 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.005 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.006 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.008 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.010 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.011 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.012 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.013 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.016 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.017 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.018 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:27:05.019 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 111ms reading results.
2025-08-12 09:27:05.021 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:05.023 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:27:05.025 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:27:05.027 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:27:05.028 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:27:05.029 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:27:05.030 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:27:05.032 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:27:05.035 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 189.8478ms
2025-08-12 09:27:05.037 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-12 09:27:05.038 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:27:05.039 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:05.041 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 09:27:05.043 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 228.2704ms
2025-08-12 09:27:05.254 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Score/grouped-by-semester/7 - null null
2025-08-12 09:27:05.258 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Score/grouped-by-semester/7'
2025-08-12 09:27:05.260 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 09:27:05.261 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:27:05.262 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:27:05.263 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:27:05.264 +07:00 [DBG] The request is a preflight request.
2025-08-12 09:27:05.265 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Score/grouped-by-semester/7 - 204 null null 11.5161ms
2025-08-12 09:27:05.267 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/Score/grouped-by-semester/7 - null null
2025-08-12 09:27:05.272 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Score/grouped-by-semester/7'
2025-08-12 09:27:05.273 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)' with route pattern 'api/Score/grouped-by-semester/{studentId}' is valid for the request path '/api/Score/grouped-by-semester/7'
2025-08-12 09:27:05.275 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-12 09:27:05.276 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:27:05.277 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:27:05.279 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:27:05.280 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:27:05.281 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:27:05.282 +07:00 [DBG] Authorization was successful.
2025-08-12 09:27:05.283 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-12 09:27:05.287 +07:00 [INF] Route matched with {action = "GetScoresGroupedBySemester", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresGroupedBySemester(Int32) on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 09:27:05.289 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:27:05.291 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:27:05.293 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:27:05.295 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:27:05.297 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:27:05.298 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:27:05.300 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:27:05.302 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.Int32' ...
2025-08-12 09:27:05.304 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.Int32' using the name 'studentId' in request data ...
2025-08-12 09:27:05.306 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.Int32'.
2025-08-12 09:27:05.308 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.Int32'.
2025-08-12 09:27:05.309 +07:00 [DBG] Attempting to validate the bound parameter 'studentId' of type 'System.Int32' ...
2025-08-12 09:27:05.311 +07:00 [DBG] Done attempting to validate the bound parameter 'studentId' of type 'System.Int32'.
2025-08-12 09:27:05.316 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:27:05.318 +07:00 [DBG] Compiling query expression: 
'DbSet<Score>()
    .Include(s => s.Enrollment)
    .ThenInclude(e => e.Student)
    .ThenInclude(s => s.User)
    .Include(s => s.Enrollment.CourseClass)
    .ThenInclude(c => c.Subject)
    .Include(s => s.Enrollment.CourseClass.Semester)
    .Where(s => s.Enrollment.StudentId == __studentId_0)'
2025-08-12 09:27:05.321 +07:00 [DBG] Including navigation: 'Score.Enrollment'.
2025-08-12 09:27:05.323 +07:00 [DBG] Including navigation: 'Enrollment.Student'.
2025-08-12 09:27:05.324 +07:00 [DBG] Including navigation: 'Student.User'.
2025-08-12 09:27:05.326 +07:00 [DBG] Including navigation: 'Enrollment.CourseClass'.
2025-08-12 09:27:05.328 +07:00 [DBG] Including navigation: 'CourseClass.Subject'.
2025-08-12 09:27:05.330 +07:00 [DBG] Including navigation: 'CourseClass.Semester'.
2025-08-12 09:27:05.343 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Score>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
            6 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 36], [Property: Semester.EndDate (DateTime) Required, 37], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 38], [Property: Semester.Name (string) Required, 39], [Property: Semester.StartDate (DateTime) Required, 40] }
        SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode, s2.Id, s2.EndDate, s2.IsOpen, s2.Name, s2.StartDate
        FROM Scores AS s
        INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
        INNER JOIN Students AS s0 ON e.StudentId == s0.Id
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
        INNER JOIN Semesters AS s2 ON c.SemesterId == s2.Id
        WHERE e.StudentId == @__studentId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Score.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Score.EnrollmentId (int) Required FK Index, 1], [Property: Score.Final (double?), 2], [Property: Score.Midterm (double?), 3], [Property: Score.Other (double?), 4], [Property: Score.Total (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Enrollment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Enrollment.CourseClassId (int) Required FK Index, 7], [Property: Enrollment.EnrollDate (DateTime) Required, 8], [Property: Enrollment.StudentId (int) Required FK Index, 9] }
            2 -> Dictionary<IProperty, int> { [Property: Student.Id (int) Required PK FK AfterSave:Throw, 10], [Property: Student.DateOfBirth (DateTime) Required, 11], [Property: Student.DepartmentId (int) Required FK Index, 12], [Property: Student.Gender (string) Required, 13], [Property: Student.ProgramId (int) Required FK Index, 14], [Property: Student.StudentCode (string) Required, 15] }
            3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.Email (string), 17], [Property: User.FullName (string) Required, 18], [Property: User.PasswordHash (string) Required, 19], [Property: User.Phone (string), 20], [Property: User.Role (string) Required, 21], [Property: User.Username (string) Required, 22] }
            4 -> Dictionary<IProperty, int> { [Property: CourseClass.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: CourseClass.ClassCode (string) Required, 24], [Property: CourseClass.MaxStudents (int?), 25], [Property: CourseClass.Schedule (string), 26], [Property: CourseClass.SemesterId (int) Required FK Index, 27], [Property: CourseClass.SubjectId (int) Required FK Index, 28], [Property: CourseClass.TeacherId (int) Required FK Index, 29] }
            5 -> Dictionary<IProperty, int> { [Property: Subject.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Subject.Credit (int) Required, 31], [Property: Subject.Description (string), 32], [Property: Subject.Name (string) Required, 33], [Property: Subject.SemesterId (int) Required FK Index, 34], [Property: Subject.SubjectCode (string) Required, 35] }
            6 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 36], [Property: Semester.EndDate (DateTime) Required, 37], [Property: Semester.IsOpen (bool) Required Sentinel:True ValueGenerated.OnAdd, 38], [Property: Semester.Name (string) Required, 39], [Property: Semester.StartDate (DateTime) Required, 40] }
        SELECT s.Id, s.EnrollmentId, s.Final, s.Midterm, s.Other, s.Total, e.Id, e.CourseClassId, e.EnrollDate, e.StudentId, s0.Id, s0.DateOfBirth, s0.DepartmentId, s0.Gender, s0.ProgramId, s0.StudentCode, u.Id, u.Email, u.FullName, u.PasswordHash, u.Phone, u.Role, u.Username, c.Id, c.ClassCode, c.MaxStudents, c.Schedule, c.SemesterId, c.SubjectId, c.TeacherId, s1.Id, s1.Credit, s1.Description, s1.Name, s1.SemesterId, s1.SubjectCode, s2.Id, s2.EndDate, s2.IsOpen, s2.Name, s2.StartDate
        FROM Scores AS s
        INNER JOIN Enrollments AS e ON s.EnrollmentId == e.Id
        INNER JOIN Students AS s0 ON e.StudentId == s0.Id
        INNER JOIN Users AS u ON s0.Id == u.Id
        INNER JOIN CourseClasses AS c ON e.CourseClassId == c.Id
        INNER JOIN Subjects AS s1 ON c.SubjectId == s1.Id
        INNER JOIN Semesters AS s2 ON c.SemesterId == s2.Id
        WHERE e.StudentId == @__studentId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Score entity;
        Enrollment entity;
        Student entity;
        User entity;
        CourseClass entity;
        Subject entity;
        Semester entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Score instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Score);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Score.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Score)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]: 
                        {
                            return 
                            {
                                Score instance;
                                instance = new Score();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<EnrollmentId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Final>k__BackingField = dataReader.IsDBNull(2) ? default(double?) : (double?)dataReader.GetDouble(2);
                                instance.<Midterm>k__BackingField = dataReader.IsDBNull(3) ? default(double?) : (double?)dataReader.GetDouble(3);
                                instance.<Other>k__BackingField = dataReader.IsDBNull(4) ? default(double?) : (double?)dataReader.GetDouble(4);
                                instance.<Total>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Score | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Score)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Enrollment instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Enrollment);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Enrollment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Enrollment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Enrollment)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Enrollment")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Enrollment")]: 
                        {
                            return 
                            {
                                Enrollment instance;
                                instance = new Enrollment();
                                instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                instance.<CourseClassId>k__BackingField = dataReader.GetInt32(7);
                                instance.<EnrollDate>k__BackingField = dataReader.GetDateTime(8);
                                instance.<StudentId>k__BackingField = dataReader.GetInt32(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Enrollment | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Enrollment")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Enrollment)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Student instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Student);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Student.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Student").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(10) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Student)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Student")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Student")]: 
                        {
                            return 
                            {
                                Student instance;
                                instance = new Student();
                                instance.<Id>k__BackingField = dataReader.GetInt32(10);
                                instance.<DateOfBirth>k__BackingField = dataReader.GetDateTime(11);
                                instance.<DepartmentId>k__BackingField = dataReader.GetInt32(12);
                                instance.<Gender>k__BackingField = dataReader.GetString(13);
                                instance.<ProgramId>k__BackingField = dataReader.GetInt32(14);
                                instance.<StudentCode>k__BackingField = dataReader.GetString(15);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Student | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Student")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Student)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            User instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(User);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(16) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (User)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("User")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(16);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<FullName>k__BackingField = dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(19);
                                instance.<Phone>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<Role>k__BackingField = dataReader.GetString(21);
                                instance.<Username>k__BackingField = dataReader.GetString(22);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        entity = 
        {
            MaterializationContext materializationContext5;
            IEntityType entityType5;
            CourseClass instance5;
            InternalEntityEntry entry5;
            bool hasNullKey5;
            materializationContext5 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance5 = default(CourseClass);
            entry5 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CourseClass.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CourseClass").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(23) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey5);
            !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
            {
                entityType5 = entry5.EntityType;
                return instance5 = (CourseClass)entry5.Entity;
            } : 
            {
                ISnapshot shadowSnapshot5;
                shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType5 = [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CourseClass")];
                instance5 = switch (entityType5)
                {
                    case [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CourseClass")]: 
                        {
                            return 
                            {
                                CourseClass instance;
                                instance = new CourseClass();
                                instance.<Id>k__BackingField = dataReader.GetInt32(23);
                                instance.<ClassCode>k__BackingField = dataReader.GetString(24);
                                instance.<MaxStudents>k__BackingField = dataReader.IsDBNull(25) ? default(int?) : (int?)dataReader.GetInt32(25);
                                instance.<Schedule>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(27);
                                instance.<SubjectId>k__BackingField = dataReader.GetInt32(28);
                                instance.<TeacherId>k__BackingField = dataReader.GetInt32(29);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext5.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CourseClass | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CourseClass")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CourseClass)
                }
                ;
                entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType5, 
                    entity: instance5, 
                    snapshot: shadowSnapshot5);
                return instance5;
            } : default(void);
            return instance5;
        };
        entity = 
        {
            MaterializationContext materializationContext6;
            IEntityType entityType6;
            Subject instance6;
            InternalEntityEntry entry6;
            bool hasNullKey6;
            materializationContext6 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance6 = default(Subject);
            entry6 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subject.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(30) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey6);
            !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
            {
                entityType6 = entry6.EntityType;
                return instance6 = (Subject)entry6.Entity;
            } : 
            {
                ISnapshot shadowSnapshot6;
                shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType6 = [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")];
                instance6 = switch (entityType6)
                {
                    case [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]: 
                        {
                            return 
                            {
                                Subject instance;
                                instance = new Subject();
                                instance.<Id>k__BackingField = dataReader.GetInt32(30);
                                instance.<Credit>k__BackingField = dataReader.GetInt32(31);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(32) ? default(string) : dataReader.GetString(32);
                                instance.<Name>k__BackingField = dataReader.GetString(33);
                                instance.<SemesterId>k__BackingField = dataReader.GetInt32(34);
                                instance.<SubjectCode>k__BackingField = dataReader.GetString(35);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext6.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subject | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subject)
                }
                ;
                entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType6, 
                    entity: instance6, 
                    snapshot: shadowSnapshot6);
                return instance6;
            } : default(void);
            return instance6;
        };
        entity = 
        {
            MaterializationContext materializationContext7;
            IEntityType entityType7;
            Semester instance7;
            InternalEntityEntry entry7;
            bool hasNullKey7;
            materializationContext7 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance7 = default(Semester);
            entry7 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Semester.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Semester").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(36) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey7);
            !(hasNullKey7) ? entry7 != default(InternalEntityEntry) ? 
            {
                entityType7 = entry7.EntityType;
                return instance7 = (Semester)entry7.Entity;
            } : 
            {
                ISnapshot shadowSnapshot7;
                shadowSnapshot7 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType7 = [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("Semester")];
                instance7 = switch (entityType7)
                {
                    case [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("Semester")]: 
                        {
                            return 
                            {
                                Semester instance;
                                instance = new Semester();
                                instance.<Id>k__BackingField = dataReader.GetInt32(36);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(37);
                                instance.<IsOpen>k__BackingField = dataReader.GetBoolean(38);
                                instance.<Name>k__BackingField = dataReader.GetString(39);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(40);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext7.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Semester | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Semester")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Semester)
                }
                ;
                entry7 = entityType7 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType7, 
                    entity: instance7, 
                    snapshot: shadowSnapshot7);
                return instance7;
            } : default(void);
            return instance7;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Student, Student, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Student.User (User) ToPrincipal User Inverse: Student | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Student").FindNavigation("User")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.Student (Student) ToDependent Student Inverse: User | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("User").FindNavigation("Student")], 
            fixup: (namelessParameter{23}, namelessParameter{24}) => 
            {
                namelessParameter{23}.<User>k__BackingField = namelessParameter{24};
                return namelessParameter{24}.<Student>k__BackingField = namelessParameter{23};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, Student>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.Student (Student) ToPrincipal Student Inverse: Enrollments | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Student")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Student.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: Student | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{27}, namelessParameter{28}) => 
            {
                namelessParameter{27}.<Student>k__BackingField = namelessParameter{28};
                return [LIFTABLE Constant: ClrICollectionAccessor<Student, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("Student").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{28}, 
                    value: namelessParameter{27}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Subject>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Subject (Subject) ToPrincipal Subject Inverse: CourseClasses | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Subject")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Subject.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Subject | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{32}, namelessParameter{33}) => 
            {
                namelessParameter{32}.<Subject>k__BackingField = namelessParameter{33};
                return [LIFTABLE Constant: ClrICollectionAccessor<Subject, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{34} => namelessParameter{34}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Subject").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{33}, 
                    value: namelessParameter{32}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CourseClass, CourseClass, Semester>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CourseClass.Semester (Semester) ToPrincipal Semester Inverse: CourseClasses | Resolver: namelessParameter{35} => namelessParameter{35}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Semester")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Semester.CourseClasses (ICollection<CourseClass>) Collection ToDependent CourseClass Inverse: Semester | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses")], 
            fixup: (namelessParameter{37}, namelessParameter{38}) => 
            {
                namelessParameter{37}.<Semester>k__BackingField = namelessParameter{38};
                return [LIFTABLE Constant: ClrICollectionAccessor<Semester, ICollection<CourseClass>, CourseClass> | Resolver: namelessParameter{39} => namelessParameter{39}.Dependencies.Model.FindEntityType("Semester").FindNavigation("CourseClasses").GetCollectionAccessor()].Add(
                    entity: namelessParameter{38}, 
                    value: namelessParameter{37}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Enrollment, Enrollment, CourseClass>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Enrollment.CourseClass (CourseClass) ToPrincipal CourseClass Inverse: Enrollments | Resolver: namelessParameter{40} => namelessParameter{40}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("CourseClass")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: CourseClass.Enrollments (ICollection<Enrollment>) Collection ToDependent Enrollment Inverse: CourseClass | Resolver: namelessParameter{41} => namelessParameter{41}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments")], 
            fixup: (namelessParameter{42}, namelessParameter{43}) => 
            {
                namelessParameter{42}.<CourseClass>k__BackingField = namelessParameter{43};
                return [LIFTABLE Constant: ClrICollectionAccessor<CourseClass, ICollection<Enrollment>, Enrollment> | Resolver: namelessParameter{44} => namelessParameter{44}.Dependencies.Model.FindEntityType("CourseClass").FindNavigation("Enrollments").GetCollectionAccessor()].Add(
                    entity: namelessParameter{43}, 
                    value: namelessParameter{42}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Score, Score, Enrollment>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Score.Enrollment (Enrollment) ToPrincipal Enrollment Inverse: Score | Resolver: namelessParameter{45} => namelessParameter{45}.Dependencies.Model.FindEntityType("StudentManagementAPI.Models.Score").FindNavigation("Enrollment")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Enrollment.Score (Score) ToDependent Score Inverse: Enrollment | Resolver: namelessParameter{46} => namelessParameter{46}.Dependencies.Model.FindEntityType("Enrollment").FindNavigation("Score")], 
            fixup: (namelessParameter{47}, namelessParameter{48}) => 
            {
                namelessParameter{47}.<Enrollment>k__BackingField = namelessParameter{48};
                return namelessParameter{48}.<Score>k__BackingField = namelessParameter{47};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: StudentManagementAPI.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-08-12 09:27:05.358 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:27:05.359 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:27:05.361 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:05.362 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:05.364 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:27:05.365 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:27:05.366 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:27:05.367 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-12 09:27:05.378 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-12 09:27:05.380 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.381 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.384 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.385 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.387 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.388 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.390 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.392 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.393 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.394 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.395 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.397 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.399 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.400 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.402 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.404 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.406 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.407 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.408 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.409 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.412 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.413 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.414 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.415 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.417 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.419 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.420 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.422 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.423 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.425 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.426 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.428 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.429 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.430 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.432 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.434 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.435 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.436 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.438 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.440 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.441 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.443 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.444 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.446 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.448 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.449 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.450 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.452 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.454 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.455 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.457 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.458 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.460 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.461 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.463 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.464 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.465 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.467 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.469 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.470 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.471 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.473 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.475 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.476 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.477 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.479 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.480 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.482 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.483 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.485 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.486 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.488 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.490 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.491 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.492 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.494 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.496 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.497 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.498 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.499 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.501 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.503 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.504 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.506 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.507 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.509 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.510 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.512 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.513 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.514 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.516 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.518 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.519 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.520 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.523 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.524 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.526 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.527 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.530 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.531 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.533 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:27:05.534 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 153ms reading results.
2025-08-12 09:27:05.536 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:05.538 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:27:05.539 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:27:05.542 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:27:05.543 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:27:05.545 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:27:05.546 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:27:05.547 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectEnumerableIterator`2[[System.Linq.IGrouping`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[StudentManagementAPI.Models.Score, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Linq, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[StudentManagementAPI.DTOs.Score.SemesterScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:27:05.552 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI) in 253.9926ms
2025-08-12 09:27:05.554 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-12 09:27:05.555 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:27:05.557 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:05.559 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:27:05.561 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/Score/grouped-by-semester/7 - 200 null application/json; charset=utf-8 294.2081ms
2025-08-12 09:27:05.764 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-12 09:27:05.768 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-12 09:27:05.770 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-12 09:27:05.773 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-12 09:27:05.774 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:27:05.775 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:27:05.776 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:27:05.777 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:27:05.778 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:27:05.780 +07:00 [DBG] Authorization was successful.
2025-08-12 09:27:05.781 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-12 09:27:05.782 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 09:27:05.784 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:27:05.786 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:27:05.788 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:27:05.790 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:27:05.791 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:27:05.793 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:27:05.795 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:27:05.797 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:27:05.800 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:27:05.801 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:27:05.803 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:05.805 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:05.806 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:27:05.808 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:27:05.809 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:27:05.810 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-12 09:27:05.813 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-12 09:27:05.817 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.818 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.820 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.822 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.824 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.825 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.826 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.828 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.830 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.831 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.832 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.833 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.835 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.836 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.837 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.838 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.839 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.841 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.843 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.844 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.845 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.846 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.848 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.850 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.851 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.852 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.853 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.854 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.856 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.857 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.858 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.859 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.860 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.862 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.864 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.865 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.866 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.867 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.868 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.870 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.871 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.872 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.873 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.874 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.876 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.878 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.879 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.880 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.881 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.882 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.884 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.885 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.886 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.887 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.888 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.890 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.892 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.893 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.894 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.896 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.900 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.901 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.902 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.903 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.905 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.907 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.908 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.909 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.911 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.913 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:27:05.914 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:27:05.915 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 98ms reading results.
2025-08-12 09:27:05.916 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:05.919 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:27:05.920 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:27:05.922 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:27:05.923 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:27:05.924 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:27:05.925 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:27:05.927 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:27:05.928 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 134.3477ms
2025-08-12 09:27:05.929 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-12 09:27:05.930 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:27:05.932 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:05.934 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 09:27:05.935 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 171.8554ms
2025-08-12 09:27:33.231 +07:00 [DBG] Connection id "0HNEP89VK0AUV" accepted.
2025-08-12 09:27:33.232 +07:00 [DBG] Connection id "0HNEP89VK0AUV" started.
2025-08-12 09:27:33.236 +07:00 [DBG] Connection 0HNEP89VK0AUV established using the following protocol: "Tls13"
2025-08-12 09:27:33.238 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:27:33.241 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:27:33.242 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:27:33.244 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:27:33.245 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:27:33.246 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:27:33.247 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:27:33.248 +07:00 [DBG] Authorization was successful.
2025-08-12 09:27:33.249 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:27:33.250 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:27:33.252 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:27:33.254 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:27:33.256 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:27:33.258 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:27:33.260 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:27:33.261 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:27:33.263 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:27:33.265 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:27:33.267 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:27:33.269 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:27:33.271 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:27:33.274 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:27:33.276 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:27:33.278 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:27:33.279 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:27:33.281 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:27:33.283 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:27:33.285 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:27:33.287 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:27:33.288 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:27:33.289 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:33.290 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:33.291 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:27:33.292 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:27:33.294 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:27:33.296 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:27:33.300 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:27:33.303 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:27:33.304 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:27:33.305 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:33.306 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:27:33.309 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:33.311 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:33.312 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:27:33.313 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:27:33.315 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:27:33.317 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:27:33.322 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:27:33.325 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:27:33.327 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:27:33.329 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:33.331 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:27:33.332 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:27:33.335 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:27:33.336 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:27:33.337 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:27:33.338 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:27:33.339 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:27:33.341 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 79.2065ms
2025-08-12 09:27:33.343 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:27:33.344 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:27:33.345 +07:00 [DBG] Connection id "0HNEP89VK0AUV" received FIN.
2025-08-12 09:27:33.349 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:27:33.352 +07:00 [DBG] Connection id "0HNEP89VK0AUV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:27:33.353 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 09:27:33.354 +07:00 [DBG] Connection id "0HNEP89VK0AUV" disconnecting.
2025-08-12 09:27:33.355 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 116.8567ms
2025-08-12 09:27:33.360 +07:00 [DBG] Connection id "0HNEP89VK0AUV" stopped.
2025-08-12 09:28:03.232 +07:00 [DBG] Connection id "0HNEP89VK0AV0" accepted.
2025-08-12 09:28:03.238 +07:00 [DBG] Connection id "0HNEP89VK0AV0" started.
2025-08-12 09:28:03.242 +07:00 [DBG] Connection 0HNEP89VK0AV0 established using the following protocol: "Tls13"
2025-08-12 09:28:03.243 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:28:03.245 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:28:03.247 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:28:03.249 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:28:03.250 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:28:03.251 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:28:03.252 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:28:03.253 +07:00 [DBG] Authorization was successful.
2025-08-12 09:28:03.254 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:28:03.256 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:28:03.258 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:28:03.260 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:28:03.262 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:28:03.264 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:28:03.266 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:28:03.268 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:28:03.269 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:28:03.270 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:28:03.272 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:28:03.273 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:28:03.275 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:28:03.277 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:28:03.278 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:28:03.280 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:28:03.281 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:28:03.283 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:28:03.284 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:28:03.286 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:28:03.287 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:28:03.289 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:28:03.291 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:03.292 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:03.293 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:28:03.293 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:28:03.295 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:28:03.296 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:28:03.300 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:28:03.303 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:28:03.305 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:28:03.306 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:03.307 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (0ms).
2025-08-12 09:28:03.309 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:03.311 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:03.313 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:28:03.313 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:28:03.315 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:28:03.317 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:28:03.321 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:28:03.325 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:28:03.326 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:28:03.328 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:03.330 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:28:03.332 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:28:03.334 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:28:03.335 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:28:03.336 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:28:03.337 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:28:03.339 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:28:03.340 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 72.0641ms
2025-08-12 09:28:03.341 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:28:03.342 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:28:03.343 +07:00 [DBG] Connection id "0HNEP89VK0AV0" received FIN.
2025-08-12 09:28:03.347 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:03.350 +07:00 [DBG] Connection id "0HNEP89VK0AV0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:28:03.351 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 09:28:03.353 +07:00 [DBG] Connection id "0HNEP89VK0AV0" disconnecting.
2025-08-12 09:28:03.354 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 110.996ms
2025-08-12 09:28:03.359 +07:00 [DBG] Connection id "0HNEP89VK0AV0" stopped.
2025-08-12 09:28:23.680 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Score/grouped-by-semester/7 - null null
2025-08-12 09:28:23.690 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Score/grouped-by-semester/7'
2025-08-12 09:28:23.692 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 09:28:23.693 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:28:23.696 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:28:23.698 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:28:23.699 +07:00 [DBG] The request is a preflight request.
2025-08-12 09:28:23.700 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Score/grouped-by-semester/7 - 204 null null 20.1924ms
2025-08-12 09:28:23.703 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/Score/grouped-by-semester/7 - null null
2025-08-12 09:28:23.709 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Score/grouped-by-semester/7'
2025-08-12 09:28:23.710 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)' with route pattern 'api/Score/grouped-by-semester/{studentId}' is valid for the request path '/api/Score/grouped-by-semester/7'
2025-08-12 09:28:23.711 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-12 09:28:23.713 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:28:23.714 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:28:23.716 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:28:23.717 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:28:23.718 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:28:23.720 +07:00 [DBG] Authorization was successful.
2025-08-12 09:28:23.721 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-12 09:28:23.722 +07:00 [INF] Route matched with {action = "GetScoresGroupedBySemester", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresGroupedBySemester(Int32) on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 09:28:23.724 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:28:23.726 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:28:23.729 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:28:23.731 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:28:23.733 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:28:23.735 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:28:23.737 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:28:23.739 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.Int32' ...
2025-08-12 09:28:23.741 +07:00 [DBG] Attempting to bind parameter 'studentId' of type 'System.Int32' using the name 'studentId' in request data ...
2025-08-12 09:28:23.743 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.Int32'.
2025-08-12 09:28:23.744 +07:00 [DBG] Done attempting to bind parameter 'studentId' of type 'System.Int32'.
2025-08-12 09:28:23.745 +07:00 [DBG] Attempting to validate the bound parameter 'studentId' of type 'System.Int32' ...
2025-08-12 09:28:23.746 +07:00 [DBG] Done attempting to validate the bound parameter 'studentId' of type 'System.Int32'.
2025-08-12 09:28:23.749 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:28:23.752 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:28:23.753 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:28:23.754 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:23.756 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:23.757 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:28:23.758 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:28:23.759 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:28:23.760 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-12 09:28:23.779 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [e].[StudentId] = @__studentId_0
2025-08-12 09:28:23.782 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.784 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.786 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.788 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.789 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.791 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.792 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.794 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.795 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.797 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.799 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.800 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.801 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.803 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.805 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.806 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.807 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.808 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.810 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.812 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.814 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.815 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.816 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.818 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.820 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.821 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.822 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.823 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.825 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.827 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.828 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.829 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.830 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.831 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.833 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.834 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.836 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.838 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.840 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.841 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.843 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.844 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.846 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.848 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.850 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.851 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.853 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.855 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.856 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.857 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.859 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.860 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.862 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.863 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.865 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.866 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.868 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.870 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.872 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.873 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.875 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.876 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.877 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.878 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.880 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.882 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.883 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.884 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.885 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.888 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.889 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.890 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.891 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.893 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.895 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.896 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.897 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.899 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.900 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.902 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.904 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.905 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.906 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.908 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.909 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.910 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.912 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.913 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.915 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.917 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.918 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.919 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.920 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.922 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.924 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.925 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.926 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.927 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.929 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.931 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:28:23.932 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:28:23.933 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 151ms reading results.
2025-08-12 09:28:23.935 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:23.937 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:28:23.938 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:28:23.940 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:28:23.941 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:28:23.942 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:28:23.943 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:28:23.945 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectEnumerableIterator`2[[System.Linq.IGrouping`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[StudentManagementAPI.Models.Score, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Linq, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a],[StudentManagementAPI.DTOs.Score.SemesterScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:28:23.946 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI) in 210.8655ms
2025-08-12 09:28:23.948 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresGroupedBySemester (StudentManagementAPI)'
2025-08-12 09:28:23.949 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:28:23.951 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:23.953 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 09:28:23.954 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/Score/grouped-by-semester/7 - 200 null application/json; charset=utf-8 251.0405ms
2025-08-12 09:28:33.230 +07:00 [DBG] Connection id "0HNEP89VK0AV1" accepted.
2025-08-12 09:28:33.231 +07:00 [DBG] Connection id "0HNEP89VK0AV1" started.
2025-08-12 09:28:33.236 +07:00 [DBG] Connection 0HNEP89VK0AV1 established using the following protocol: "Tls13"
2025-08-12 09:28:33.237 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:28:33.241 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:28:33.243 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:28:33.245 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:28:33.246 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:28:33.247 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:28:33.247 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:28:33.249 +07:00 [DBG] Authorization was successful.
2025-08-12 09:28:33.250 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:28:33.250 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:28:33.252 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:28:33.254 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:28:33.256 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:28:33.257 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:28:33.258 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:28:33.260 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:28:33.262 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:28:33.263 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:28:33.264 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:28:33.266 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:28:33.267 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:28:33.269 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:28:33.271 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:28:33.273 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:28:33.274 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:28:33.275 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:28:33.277 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:28:33.278 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:28:33.281 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:28:33.282 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:28:33.283 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:33.284 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:33.285 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:28:33.287 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:28:33.288 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:28:33.290 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:28:33.294 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:28:33.297 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:28:33.298 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:28:33.300 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:33.301 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:28:33.303 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:33.305 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:33.306 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:28:33.307 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:28:33.309 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:28:33.310 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:28:33.315 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:28:33.317 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:28:33.319 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:28:33.320 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:33.322 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:28:33.323 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:28:33.326 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:28:33.326 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:28:33.327 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:28:33.328 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:28:33.330 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:28:33.332 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 72.0154ms
2025-08-12 09:28:33.334 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:28:33.335 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:28:33.335 +07:00 [DBG] Connection id "0HNEP89VK0AV1" received FIN.
2025-08-12 09:28:33.336 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:28:33.338 +07:00 [DBG] Connection id "0HNEP89VK0AV1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:28:33.339 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:28:33.340 +07:00 [DBG] Connection id "0HNEP89VK0AV1" disconnecting.
2025-08-12 09:28:33.342 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 104.4199ms
2025-08-12 09:28:33.346 +07:00 [DBG] Connection id "0HNEP89VK0AV1" stopped.
2025-08-12 09:29:00.130 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - null null
2025-08-12 09:29:00.138 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-12 09:29:00.139 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 09:29:00.141 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:00.142 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:29:00.144 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:29:00.145 +07:00 [DBG] The request is a preflight request.
2025-08-12 09:29:00.146 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/schedule - 204 null null 17.1602ms
2025-08-12 09:29:00.148 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/schedule - null null
2025-08-12 09:29:00.155 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/schedule'
2025-08-12 09:29:00.156 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)' with route pattern 'api/student/schedule' is valid for the request path '/api/student/schedule'
2025-08-12 09:29:00.157 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-12 09:29:00.158 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:00.160 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:29:00.161 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:29:00.163 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:29:00.164 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:29:00.166 +07:00 [DBG] Authorization was successful.
2025-08-12 09:29:00.167 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-12 09:29:00.168 +07:00 [INF] Route matched with {action = "GetSchedule", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchedule() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 09:29:00.170 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:29:00.172 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:29:00.174 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:29:00.176 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:29:00.178 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:29:00.179 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:29:00.182 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:29:00.184 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:29:00.187 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:29:00.188 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:29:00.190 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.191 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.193 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:00.194 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:29:00.196 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:29:00.198 +07:00 [DBG] Executing DbCommand [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-12 09:29:00.209 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[ClassCode], [s0].[MaxStudents], [s0].[Schedule], [s0].[SemesterId], [s0].[SubjectId], [s0].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s1].[Id], [s1].[EndDate], [s1].[IsOpen], [s1].[Name], [s1].[StartDate], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM (
    SELECT DISTINCT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId]
    FROM [Enrollments] AS [e]
    INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
    WHERE [e].[StudentId] = @__studentId_0
) AS [s0]
INNER JOIN [Subjects] AS [s] ON [s0].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s1] ON [s0].[SemesterId] = [s1].[Id]
INNER JOIN [Teachers] AS [t] ON [s0].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
2025-08-12 09:29:00.212 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.213 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.215 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.217 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.219 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.220 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.221 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.224 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.226 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.227 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.229 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.231 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.233 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.234 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.237 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.239 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.241 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.242 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.244 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.245 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.246 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.247 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.249 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.250 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.252 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.254 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.255 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.257 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.259 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.260 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.261 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.262 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.264 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.266 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.267 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.268 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.269 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.272 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.274 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.275 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.276 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.278 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.280 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.281 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.283 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.285 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.287 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.289 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.290 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.293 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.294 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.296 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.297 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.299 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.300 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.301 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.303 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.304 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.306 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.308 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.309 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.310 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.311 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.313 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.315 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.316 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.317 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.319 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.321 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.322 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.324 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.325 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 112ms reading results.
2025-08-12 09:29:00.327 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.328 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:29:00.330 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:29:00.332 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:29:00.332 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:29:00.334 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:29:00.335 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:29:00.336 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[CourseClass, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Schedule.ScheduleDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:29:00.337 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI) in 157.8688ms
2025-08-12 09:29:00.339 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetSchedule (StudentManagementAPI)'
2025-08-12 09:29:00.340 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:29:00.342 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.343 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 09:29:00.344 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/schedule - 200 null application/json; charset=utf-8 195.948ms
2025-08-12 09:29:00.476 +07:00 [DBG] Connection id "0HNEP89VK0AV2" accepted.
2025-08-12 09:29:00.477 +07:00 [DBG] Connection id "0HNEP89VK0AV2" started.
2025-08-12 09:29:00.478 +07:00 [DBG] Connection id "0HNEP89VK0AV3" accepted.
2025-08-12 09:29:00.485 +07:00 [DBG] Connection id "0HNEP89VK0AV3" started.
2025-08-12 09:29:00.488 +07:00 [DBG] Connection 0HNEP89VK0AV2 established using the following protocol: "Tls13"
2025-08-12 09:29:00.490 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/semesters - null null
2025-08-12 09:29:00.491 +07:00 [DBG] Connection 0HNEP89VK0AV3 established using the following protocol: "Tls13"
2025-08-12 09:29:00.494 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:29:00.496 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - null null
2025-08-12 09:29:00.497 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 09:29:00.501 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/my-subjects'
2025-08-12 09:29:00.503 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:29:00.505 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)' with route pattern 'api/student/my-subjects' is valid for the request path '/api/student/my-subjects'
2025-08-12 09:29:00.506 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:00.508 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:29:00.509 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:29:00.510 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:00.511 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:29:00.513 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:29:00.514 +07:00 [DBG] Authorization was successful.
2025-08-12 09:29:00.515 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:29:00.516 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:29:00.517 +07:00 [DBG] Authorization was successful.
2025-08-12 09:29:00.518 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 09:29:00.519 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:29:00.521 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:29:00.523 +07:00 [INF] Route matched with {action = "GetMySubjects", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySubjects() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 09:29:00.524 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:29:00.526 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:29:00.528 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:29:00.530 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:29:00.532 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:29:00.534 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:29:00.536 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:29:00.538 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:29:00.539 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:29:00.541 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:29:00.543 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:29:00.545 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:29:00.546 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:29:00.547 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:29:00.550 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:29:00.551 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:29:00.552 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:29:00.553 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:29:00.554 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.555 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:29:00.557 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.558 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.559 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:00.560 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.561 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:29:00.563 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:00.565 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:29:00.566 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:29:00.567 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:29:00.568 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-08-12 09:29:00.573 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:29:00.573 +07:00 [DBG] Executing DbCommand [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7
2025-08-12 09:29:00.575 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.580 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.581 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.582 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.583 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']

SELECT DISTINCT
    s.Id, s.SubjectCode, s.Name, s.Description, s.Credit,
    sem.Id AS SemesterId, sem.Name AS SemesterName
FROM Enrollments e
JOIN CourseClasses cc ON e.CourseClassId = cc.Id
JOIN Subjects s ON cc.SubjectId = s.Id
JOIN Semesters sem ON cc.SemesterId = sem.Id
WHERE e.StudentId = 7
2025-08-12 09:29:00.584 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 9ms reading results.
2025-08-12 09:29:00.587 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.588 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.589 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 09:29:00.592 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (3ms).
2025-08-12 09:29:00.593 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.595 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:29:00.596 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:29:00.599 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:29:00.601 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:29:00.601 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:29:00.604 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:29:00.605 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:29:00.606 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:29:00.607 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:29:00.608 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:29:00.609 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:29:00.610 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:29:00.611 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 72.1408ms
2025-08-12 09:29:00.613 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:29:00.615 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:29:00.616 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI) in 71.1759ms
2025-08-12 09:29:00.617 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:29:00.618 +07:00 [DBG] Connection id "0HNEP89VK0AV2" received FIN.
2025-08-12 09:29:00.619 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetMySubjects (StudentManagementAPI)'
2025-08-12 09:29:00.621 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.625 +07:00 [DBG] Connection id "0HNEP89VK0AV3" received FIN.
2025-08-12 09:29:00.622 +07:00 [DBG] Connection id "0HNEP89VK0AV2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:29:00.634 +07:00 [DBG] Connection id "0HNEP89VK0AV3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:29:00.623 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:29:00.625 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 09:29:00.629 +07:00 [DBG] Connection id "0HNEP89VK0AV4" accepted.
2025-08-12 09:29:00.637 +07:00 [DBG] Connection id "0HNEP89VK0AV2" disconnecting.
2025-08-12 09:29:00.638 +07:00 [DBG] Connection id "0HNEP89VK0AV3" disconnecting.
2025-08-12 09:29:00.640 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.642 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 151.2677ms
2025-08-12 09:29:00.643 +07:00 [DBG] Connection id "0HNEP89VK0AV4" started.
2025-08-12 09:29:00.647 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-12 09:29:00.650 +07:00 [DBG] Connection id "0HNEP89VK0AV2" stopped.
2025-08-12 09:29:00.652 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/student/my-subjects - 200 null application/json; charset=utf-8 156.5875ms
2025-08-12 09:29:00.654 +07:00 [DBG] Connection 0HNEP89VK0AV4 established using the following protocol: "Tls13"
2025-08-12 09:29:00.658 +07:00 [DBG] Connection id "0HNEP89VK0AV3" stopped.
2025-08-12 09:29:00.659 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/subjects/available - null null
2025-08-12 09:29:00.663 +07:00 [DBG] 2 candidate(s) found for the request path '/api/subjects/available'
2025-08-12 09:29:00.664 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)' with route pattern 'api/subjects/available' is valid for the request path '/api/subjects/available'
2025-08-12 09:29:00.667 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SubjectController.GetById (StudentManagementAPI)' with route pattern 'api/subjects/{id}' is valid for the request path '/api/subjects/available'
2025-08-12 09:29:00.669 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:29:00.670 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:00.671 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:29:00.671 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:29:00.672 +07:00 [DBG] Authorization was successful.
2025-08-12 09:29:00.674 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:29:00.675 +07:00 [INF] Route matched with {action = "GetAvailableSubjectsBySemester", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSubjectsBySemester(Int32) on controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI).
2025-08-12 09:29:00.677 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:29:00.678 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:29:00.680 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:29:00.682 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:29:00.684 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:29:00.685 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:29:00.686 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SubjectController (StudentManagementAPI)
2025-08-12 09:29:00.689 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:29:00.690 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name '' in request data ...
2025-08-12 09:29:00.692 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:29:00.693 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:29:00.695 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:29:00.696 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-08-12 09:29:00.698 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-08-12 09:29:00.699 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:29:00.702 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:29:00.703 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:29:00.704 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.706 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.707 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:00.709 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:29:00.711 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:29:00.712 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:29:00.720 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
WHERE [c].[SemesterId] = @__semesterId_0
2025-08-12 09:29:00.722 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.724 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:29:00.726 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.727 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:29:00.729 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:29:00.732 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:29:00.733 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:29:00.733 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:29:00.734 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:29:00.736 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Subject.SubjectDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:29:00.738 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI) in 52.6907ms
2025-08-12 09:29:00.739 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SubjectController.GetAvailableSubjectsBySemester (StudentManagementAPI)'
2025-08-12 09:29:00.740 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:29:00.741 +07:00 [DBG] Connection id "0HNEP89VK0AV4" received FIN.
2025-08-12 09:29:00.741 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.743 +07:00 [DBG] Connection id "0HNEP89VK0AV4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:29:00.744 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:29:00.746 +07:00 [DBG] Connection id "0HNEP89VK0AV4" disconnecting.
2025-08-12 09:29:00.747 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/subjects/available - 200 null application/json; charset=utf-8 88.2744ms
2025-08-12 09:29:00.753 +07:00 [DBG] Connection id "0HNEP89VK0AV4" stopped.
2025-08-12 09:29:00.883 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/student/me - null null
2025-08-12 09:29:00.886 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-12 09:29:00.887 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 09:29:00.889 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:00.890 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:29:00.891 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:29:00.892 +07:00 [DBG] The request is a preflight request.
2025-08-12 09:29:00.893 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/student/me - 204 null null 9.6336ms
2025-08-12 09:29:00.895 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/student/me - null null
2025-08-12 09:29:00.900 +07:00 [DBG] 1 candidate(s) found for the request path '/api/student/me'
2025-08-12 09:29:00.901 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)' with route pattern 'api/student/me' is valid for the request path '/api/student/me'
2025-08-12 09:29:00.903 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-12 09:29:00.904 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:00.906 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:29:00.907 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:29:00.908 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:29:00.909 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:29:00.910 +07:00 [DBG] Authorization was successful.
2025-08-12 09:29:00.912 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-12 09:29:00.913 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI).
2025-08-12 09:29:00.916 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:29:00.918 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:29:00.921 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:29:00.923 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:29:00.925 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:29:00.928 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:29:00.929 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.StudentController (StudentManagementAPI)
2025-08-12 09:29:00.932 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:29:00.934 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:29:00.935 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:29:00.936 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.938 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.939 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:00.941 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:29:00.942 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:29:00.944 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-12 09:29:00.952 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[DateOfBirth], [s].[DepartmentId], [s].[Gender], [s].[ProgramId], [s].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [d].[Id], [d].[Name], [e].[Id], [e].[Name]
FROM [Students] AS [s]
INNER JOIN [Users] AS [u] ON [s].[Id] = [u].[Id]
INNER JOIN [Departments] AS [d] ON [s].[DepartmentId] = [d].[Id]
INNER JOIN [EducationPrograms] AS [e] ON [s].[ProgramId] = [e].[Id]
WHERE [s].[Id] = @__id_0
2025-08-12 09:29:00.955 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.956 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.957 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.959 +07:00 [DBG] The navigation 'Student.Department' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.961 +07:00 [DBG] Context 'AppDbContext' started tracking 'Department' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.963 +07:00 [DBG] The navigation 'Student.Program' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.964 +07:00 [DBG] Context 'AppDbContext' started tracking 'EducationProgram' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:00.966 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.967 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 12ms reading results.
2025-08-12 09:29:00.969 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.970 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:29:00.972 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:29:00.975 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:29:00.976 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:29:00.977 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:29:00.978 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:29:00.980 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentDto'.
2025-08-12 09:29:00.981 +07:00 [INF] Executed action StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI) in 53.4898ms
2025-08-12 09:29:00.983 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.StudentController.GetProfile (StudentManagementAPI)'
2025-08-12 09:29:00.984 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:29:00.985 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:00.987 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:29:00.989 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/student/me - 200 null application/json; charset=utf-8 94.5015ms
2025-08-12 09:29:03.230 +07:00 [DBG] Connection id "0HNEP89VK0AV5" accepted.
2025-08-12 09:29:03.231 +07:00 [DBG] Connection id "0HNEP89VK0AV5" started.
2025-08-12 09:29:03.234 +07:00 [DBG] Connection 0HNEP89VK0AV5 established using the following protocol: "Tls13"
2025-08-12 09:29:03.236 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - null null
2025-08-12 09:29:03.238 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:29:03.239 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:29:03.240 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:29:03.241 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:03.242 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:29:03.242 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:29:03.243 +07:00 [DBG] Authorization was successful.
2025-08-12 09:29:03.244 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:29:03.245 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:29:03.247 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:29:03.248 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:29:03.249 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:29:03.251 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:29:03.252 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:29:03.253 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:29:03.254 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:29:03.256 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:29:03.257 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:29:03.258 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:29:03.260 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:29:03.261 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:29:03.262 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:29:03.264 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:29:03.265 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:29:03.266 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:29:03.267 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:29:03.268 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:29:03.270 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:29:03.271 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:29:03.272 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:03.273 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:03.274 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:03.275 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:29:03.276 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:29:03.277 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:29:03.280 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:29:03.283 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:03.284 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:29:03.286 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:03.287 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:29:03.289 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:03.290 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:03.291 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:03.292 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:29:03.293 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:29:03.294 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:29:03.297 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:29:03.300 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:03.301 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:29:03.302 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:03.303 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:29:03.305 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:29:03.307 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:29:03.308 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:29:03.309 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:29:03.309 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:29:03.310 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:29:03.312 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 58.6449ms
2025-08-12 09:29:03.314 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:29:03.315 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:29:03.316 +07:00 [DBG] Connection id "0HNEP89VK0AV5" received FIN.
2025-08-12 09:29:03.317 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:03.318 +07:00 [DBG] Connection id "0HNEP89VK0AV5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:29:03.319 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:29:03.320 +07:00 [DBG] Connection id "0HNEP89VK0AV5" disconnecting.
2025-08-12 09:29:03.322 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=100 - 200 null application/json; charset=utf-8 85.9101ms
2025-08-12 09:29:03.327 +07:00 [DBG] Connection id "0HNEP89VK0AV5" stopped.
2025-08-12 09:29:24.190 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - null null
2025-08-12 09:29:24.193 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 09:29:24.194 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 09:29:24.195 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:24.196 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:29:24.198 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:29:24.198 +07:00 [DBG] The request is a preflight request.
2025-08-12 09:29:24.199 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/Auth/login - 204 null null 9.4413ms
2025-08-12 09:29:24.202 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7172/api/Auth/login - application/json 48
2025-08-12 09:29:24.211 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-08-12 09:29:24.212 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)' with route pattern 'api/auth/login' is valid for the request path '/api/Auth/login'
2025-08-12 09:29:24.213 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 09:29:24.214 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:24.215 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:29:24.216 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:29:24.217 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-12 09:29:24.219 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 09:29:24.220 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StudentManagementAPI.DTOs.Auth.LoginRequest) on controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI).
2025-08-12 09:29:24.222 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:29:24.223 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:29:24.225 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:29:24.227 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:29:24.229 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:29:24.231 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 09:29:24.233 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.AuthController (StudentManagementAPI)
2025-08-12 09:29:24.234 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 09:29:24.236 +07:00 [DBG] Attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' using the name '' in request data ...
2025-08-12 09:29:24.237 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-08-12 09:29:24.239 +07:00 [DBG] Connection id "0HNEP89VK0AUU", Request id "0HNEP89VK0AUU:0000001D": started reading request body.
2025-08-12 09:29:24.240 +07:00 [DBG] Connection id "0HNEP89VK0AUU", Request id "0HNEP89VK0AUU:0000001D": done reading request body.
2025-08-12 09:29:24.241 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'StudentManagementAPI.DTOs.Auth.LoginRequest'
2025-08-12 09:29:24.242 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 09:29:24.244 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 09:29:24.245 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest' ...
2025-08-12 09:29:24.247 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'StudentManagementAPI.DTOs.Auth.LoginRequest'.
2025-08-12 09:29:24.248 +07:00 [INF] 🔑 Đang xử lý đăng nhập cho user: teacher1
2025-08-12 09:29:24.249 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:29:24.252 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:29:24.253 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:29:24.254 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.255 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.256 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:24.257 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:29:24.259 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:29:24.260 +07:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 09:29:24.265 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2025-08-12 09:29:24.267 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:24.268 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.269 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 2ms reading results.
2025-08-12 09:29:24.270 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.271 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:29:24.273 +07:00 [INF] 🔓 Login successful for user: teacher1
2025-08-12 09:29:24.274 +07:00 [INF] ✅ Đăng nhập thành công cho user: teacher1
2025-08-12 09:29:24.275 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:29:24.277 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:29:24.277 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:29:24.278 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:29:24.279 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:29:24.280 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Auth.AuthResponse'.
2025-08-12 09:29:24.282 +07:00 [INF] Executed action StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI) in 50.3376ms
2025-08-12 09:29:24.283 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.AuthController.Login (StudentManagementAPI)'
2025-08-12 09:29:24.284 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:29:24.285 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.286 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-12 09:29:24.288 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7172/api/Auth/login - 200 null application/json; charset=utf-8 86.0431ms
2025-08-12 09:29:24.325 +07:00 [DBG] Connection id "0HNEP89VK0AV6" accepted.
2025-08-12 09:29:24.326 +07:00 [DBG] Connection id "0HNEP89VK0AV6" started.
2025-08-12 09:29:24.330 +07:00 [DBG] Connection id "0HNEP89VK0AV7" accepted.
2025-08-12 09:29:24.332 +07:00 [DBG] Connection id "0HNEP89VK0AV7" started.
2025-08-12 09:29:24.332 +07:00 [DBG] Connection 0HNEP89VK0AV6 established using the following protocol: "Tls13"
2025-08-12 09:29:24.335 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 09:29:24.337 +07:00 [DBG] Connection 0HNEP89VK0AV7 established using the following protocol: "Tls13"
2025-08-12 09:29:24.338 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 09:29:24.340 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 09:29:24.341 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 09:29:24.345 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:29:24.346 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 09:29:24.348 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:29:24.350 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:29:24.352 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:29:24.353 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:24.355 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:24.356 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:29:24.357 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:29:24.358 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:29:24.359 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:29:24.360 +07:00 [DBG] Authorization was successful.
2025-08-12 09:29:24.361 +07:00 [DBG] Authorization was successful.
2025-08-12 09:29:24.363 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:29:24.364 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:29:24.365 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 09:29:24.366 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:29:24.369 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:29:24.371 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:29:24.373 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:29:24.375 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:29:24.377 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:29:24.380 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:29:24.382 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:29:24.384 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:29:24.386 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:29:24.388 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:29:24.390 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:29:24.391 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:29:24.393 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:29:24.394 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:29:24.396 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:29:24.397 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:29:24.399 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:29:24.400 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:29:24.401 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 09:29:24.402 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:29:24.403 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.405 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:29:24.406 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.407 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:29:24.409 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:24.410 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:29:24.411 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:29:24.413 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:29:24.414 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:29:24.415 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:29:24.416 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:29:24.417 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:29:24.422 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:29:24.422 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:29:24.423 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:29:24.425 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:24.428 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:29:24.429 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:24.430 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:29:24.432 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:24.433 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.435 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.436 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.437 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 11ms reading results.
2025-08-12 09:29:24.438 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:24.440 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.441 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:29:24.442 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:29:24.443 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:29:24.445 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:29:24.446 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:29:24.448 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:29:24.452 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:29:24.452 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:29:24.454 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.455 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:29:24.456 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:29:24.457 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:29:24.458 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.459 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 09:29:24.460 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:29:24.462 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 72.3547ms
2025-08-12 09:29:24.464 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.464 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:29:24.466 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.467 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:29:24.467 +07:00 [DBG] Connection id "0HNEP89VK0AV6" received FIN.
2025-08-12 09:29:24.468 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:24.469 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.471 +07:00 [DBG] Connection id "0HNEP89VK0AV6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:29:24.472 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-08-12 09:29:24.473 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:29:24.475 +07:00 [DBG] Connection id "0HNEP89VK0AV6" disconnecting.
2025-08-12 09:29:24.476 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-08-12 09:29:24.477 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 142.5447ms
2025-08-12 09:29:24.480 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:29:24.484 +07:00 [DBG] Connection id "0HNEP89VK0AV6" stopped.
2025-08-12 09:29:24.489 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:29:24.491 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.492 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 1ms reading results.
2025-08-12 09:29:24.494 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.495 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:29:24.497 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:29:24.499 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:29:24.499 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:29:24.500 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:29:24.501 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:29:24.503 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:29:24.504 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 112.2241ms
2025-08-12 09:29:24.505 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:29:24.506 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:29:24.506 +07:00 [DBG] Connection id "0HNEP89VK0AV7" received FIN.
2025-08-12 09:29:24.507 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:24.509 +07:00 [DBG] Connection id "0HNEP89VK0AV7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:29:24.510 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:29:24.511 +07:00 [DBG] Connection id "0HNEP89VK0AV7" disconnecting.
2025-08-12 09:29:24.512 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 172.3174ms
2025-08-12 09:29:24.517 +07:00 [DBG] Connection id "0HNEP89VK0AV7" stopped.
2025-08-12 09:29:43.719 +07:00 [DBG] Connection id "0HNEP89VK0AV8" accepted.
2025-08-12 09:29:43.720 +07:00 [DBG] Connection id "0HNEP89VK0AV8" started.
2025-08-12 09:29:43.725 +07:00 [DBG] Connection 0HNEP89VK0AV8 established using the following protocol: "Tls13"
2025-08-12 09:29:43.726 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 09:29:43.729 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 09:29:43.730 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 09:29:43.732 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 09:29:43.734 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:29:43.736 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:43.737 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:29:43.739 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:29:43.741 +07:00 [DBG] Authorization was successful.
2025-08-12 09:29:43.742 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:29:43.744 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 09:29:43.747 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:29:43.749 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:29:43.751 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:29:43.756 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:29:43.759 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:29:43.762 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:29:43.763 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:29:43.765 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:29:43.768 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:29:43.769 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:29:43.770 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:43.772 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:43.774 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:43.775 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:29:43.777 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:29:43.778 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:29:43.784 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:29:43.787 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:43.788 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:43.789 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:43.791 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:43.792 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 09:29:43.794 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:43.796 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:29:43.798 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:29:43.800 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:29:43.801 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:29:43.802 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:29:43.803 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:29:43.804 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 09:29:43.805 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 43.9426ms
2025-08-12 09:29:43.807 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:29:43.808 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:29:43.809 +07:00 [DBG] Connection id "0HNEP89VK0AV8" received FIN.
2025-08-12 09:29:43.810 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:43.811 +07:00 [DBG] Connection id "0HNEP89VK0AV8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:29:43.812 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:29:43.813 +07:00 [DBG] Connection id "0HNEP89VK0AV8" disconnecting.
2025-08-12 09:29:43.815 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 88.8806ms
2025-08-12 09:29:43.820 +07:00 [DBG] Connection id "0HNEP89VK0AV8" stopped.
2025-08-12 09:29:45.008 +07:00 [DBG] Connection id "0HNEP89VK0AV9" accepted.
2025-08-12 09:29:45.010 +07:00 [DBG] Connection id "0HNEP89VK0AV9" started.
2025-08-12 09:29:45.014 +07:00 [DBG] Connection 0HNEP89VK0AV9 established using the following protocol: "Tls13"
2025-08-12 09:29:45.015 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-12 09:29:45.018 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:29:45.020 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:29:45.021 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:29:45.022 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:45.024 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:29:45.025 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:29:45.026 +07:00 [DBG] Authorization was successful.
2025-08-12 09:29:45.027 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:29:45.028 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 09:29:45.031 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:29:45.032 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:29:45.034 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:29:45.035 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:29:45.037 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:29:45.039 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:29:45.041 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:29:45.043 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:29:45.045 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-12 09:29:45.046 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:29:45.048 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:29:45.049 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:29:45.051 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:29:45.053 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:29:45.056 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:29:45.056 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:29:45.058 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:45.060 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:45.061 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:45.062 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:29:45.063 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:29:45.065 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:29:45.075 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:29:45.077 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.079 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.080 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.082 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.083 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.084 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.087 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.088 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.089 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.091 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.092 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.094 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.096 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.097 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.098 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.100 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.102 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.103 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.104 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.105 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.108 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.109 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.110 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.112 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.114 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.116 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.117 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:45.118 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:45.120 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 42ms reading results.
2025-08-12 09:29:45.122 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:45.123 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:29:45.125 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:29:45.128 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:29:45.129 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:29:45.130 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:29:45.130 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:29:45.132 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:29:45.133 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 94.0832ms
2025-08-12 09:29:45.135 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:29:45.137 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:29:45.138 +07:00 [DBG] Connection id "0HNEP89VK0AV9" received FIN.
2025-08-12 09:29:45.138 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:45.139 +07:00 [DBG] Connection id "0HNEP89VK0AV9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:29:45.141 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:29:45.142 +07:00 [DBG] Connection id "0HNEP89VK0AV9" disconnecting.
2025-08-12 09:29:45.144 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 128.7158ms
2025-08-12 09:29:45.148 +07:00 [DBG] Connection id "0HNEP89VK0AV9" stopped.
2025-08-12 09:29:46.252 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-12 09:29:46.255 +07:00 [DBG] Connection id "0HNEP89VK0AVA" accepted.
2025-08-12 09:29:46.256 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:29:46.257 +07:00 [DBG] Connection id "0HNEP89VK0AVA" started.
2025-08-12 09:29:46.258 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 09:29:46.261 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:46.262 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:29:46.263 +07:00 [DBG] Connection 0HNEP89VK0AVA established using the following protocol: "Tls13"
2025-08-12 09:29:46.263 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:29:46.264 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 09:29:46.265 +07:00 [DBG] The request is a preflight request.
2025-08-12 09:29:46.268 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 09:29:46.269 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 17.0163ms
2025-08-12 09:29:46.270 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 09:29:46.271 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 09:29:46.276 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:29:46.279 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:29:46.280 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:46.282 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 09:29:46.282 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:29:46.284 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:29:46.285 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:29:46.286 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:29:46.287 +07:00 [DBG] Authorization was successful.
2025-08-12 09:29:46.287 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:29:46.289 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:29:46.290 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:29:46.291 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 09:29:46.292 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:29:46.294 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:29:46.295 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:29:46.296 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:29:46.297 +07:00 [DBG] Authorization was successful.
2025-08-12 09:29:46.299 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:29:46.300 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:29:46.304 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:29:46.305 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 09:29:46.307 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:29:46.309 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:29:46.311 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:29:46.313 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:29:46.314 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:29:46.316 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:29:46.317 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:29:46.319 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:29:46.321 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:29:46.323 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:29:46.323 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 09:29:46.325 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:29:46.326 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:46.327 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:29:46.330 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:46.331 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:29:46.332 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:46.334 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:29:46.335 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:29:46.336 +07:00 [DBG] Created DbConnection. (2ms).
2025-08-12 09:29:46.338 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:29:46.339 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:46.340 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 09:29:46.341 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:46.347 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:29:46.348 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-12 09:29:46.350 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:29:46.351 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:29:46.355 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:29:46.355 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 09:29:46.357 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.359 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.360 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.362 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.363 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.364 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.365 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:46.367 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.368 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 10ms reading results.
2025-08-12 09:29:46.369 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.371 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:46.372 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.373 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:29:46.374 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.376 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:29:46.377 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.379 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:29:46.380 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.381 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:29:46.382 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.382 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:29:46.384 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.385 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:29:46.386 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.387 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:29:46.388 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.389 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 64.1573ms
2025-08-12 09:29:46.391 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.392 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:29:46.393 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.394 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:29:46.396 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.396 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:46.398 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.399 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:29:46.401 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.402 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 131.0304ms
2025-08-12 09:29:46.403 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.408 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.409 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.410 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.413 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.414 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.415 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.417 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.418 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.420 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.422 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.423 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.424 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.426 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.428 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.429 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.431 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.433 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.435 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.436 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.438 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.441 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.442 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.444 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.445 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.446 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.448 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.449 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.451 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.452 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.453 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.455 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.456 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.458 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.459 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.461 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.462 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.463 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.465 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.466 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.468 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.470 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.471 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.472 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.473 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.475 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.476 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:29:46.478 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:29:46.479 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 119ms reading results.
2025-08-12 09:29:46.480 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:46.482 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (2ms).
2025-08-12 09:29:46.484 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:29:46.486 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:29:46.487 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:29:46.488 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:29:46.489 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:29:46.491 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:29:46.492 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 180.8025ms
2025-08-12 09:29:46.493 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:29:46.494 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:29:46.495 +07:00 [DBG] Connection id "0HNEP89VK0AVA" received FIN.
2025-08-12 09:29:46.496 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:29:46.497 +07:00 [DBG] Connection id "0HNEP89VK0AVA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:29:46.498 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:29:46.499 +07:00 [DBG] Connection id "0HNEP89VK0AVA" disconnecting.
2025-08-12 09:29:46.501 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 236.1911ms
2025-08-12 09:29:46.505 +07:00 [DBG] Connection id "0HNEP89VK0AVA" stopped.
2025-08-12 09:33:02.330 +07:00 [DBG] Connection id "0HNEP89VK0AVB" accepted.
2025-08-12 09:33:02.335 +07:00 [DBG] Connection id "0HNEP89VK0AVB" started.
2025-08-12 09:33:02.336 +07:00 [DBG] Connection id "0HNEP89VK0AVC" accepted.
2025-08-12 09:33:02.343 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7172/api/semesters - null null
2025-08-12 09:33:02.349 +07:00 [DBG] Connection 0HNEP89VK0AVB established using the following protocol: "Tls13"
2025-08-12 09:33:02.349 +07:00 [DBG] Connection id "0HNEP89VK0AVC" started.
2025-08-12 09:33:02.349 +07:00 [DBG] Connection id "0HNEP89VK0AVD" accepted.
2025-08-12 09:33:02.356 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:33:02.357 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 09:33:02.358 +07:00 [DBG] Connection id "0HNEP89VK0AVD" started.
2025-08-12 09:33:02.361 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-08-12 09:33:02.362 +07:00 [DBG] Connection 0HNEP89VK0AVC established using the following protocol: "Tls13"
2025-08-12 09:33:02.364 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 09:33:02.365 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:33:02.367 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - null null
2025-08-12 09:33:02.368 +07:00 [DBG] Connection 0HNEP89VK0AVD established using the following protocol: "Tls13"
2025-08-12 09:33:02.369 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 09:33:02.369 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:33:02.371 +07:00 [DBG] 1 candidate(s) found for the request path '/api/notifications'
2025-08-12 09:33:02.372 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/score/my-class - null null
2025-08-12 09:33:02.375 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 09:33:02.376 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:33:02.377 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)' with route pattern 'api/notifications' is valid for the request path '/api/notifications'
2025-08-12 09:33:02.378 +07:00 [DBG] 1 candidate(s) found for the request path '/api/score/my-class'
2025-08-12 09:33:02.380 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:33:02.382 +07:00 [DBG] The request is a preflight request.
2025-08-12 09:33:02.383 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:33:02.385 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:33:02.391 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7172/api/semesters - null null
2025-08-12 09:33:02.390 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:33:02.386 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7172/api/semesters - 204 null null 43.5628ms
2025-08-12 09:33:02.385 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)' with route pattern 'api/Score/my-class' is valid for the request path '/api/score/my-class'
2025-08-12 09:33:02.393 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:33:02.395 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semesters'
2025-08-12 09:33:02.396 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:33:02.400 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:33:02.402 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:33:02.403 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)' with route pattern 'api/semesters' is valid for the request path '/api/semesters'
2025-08-12 09:33:02.404 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:33:02.405 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:33:02.406 +07:00 [DBG] Authorization was successful.
2025-08-12 09:33:02.407 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:33:02.409 +07:00 [DBG] Authorization was successful.
2025-08-12 09:33:02.410 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:33:02.411 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:33:02.411 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:33:02.412 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:33:02.413 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:33:02.414 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 09:33:02.414 +07:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2025-08-12 09:33:02.416 +07:00 [INF] Route matched with {action = "GetPagedNotifications", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedNotifications(StudentManagementAPI.DTOs.Common.PaginationQueryDto) on controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI).
2025-08-12 09:33:02.417 +07:00 [DBG] Authorization was successful.
2025-08-12 09:33:02.419 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:33:02.420 +07:00 [INF] CORS policy execution successful.
2025-08-12 09:33:02.422 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:33:02.423 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:33:02.425 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:33:02.425 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:33:02.427 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:33:02.428 +07:00 [INF] Route matched with {action = "GetScoresForMyClasses", controller = "Score"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScoresForMyClasses() on controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI).
2025-08-12 09:33:02.430 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:33:02.431 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:33:02.432 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:33:02.434 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:33:02.435 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:33:02.437 +07:00 [DBG] Authorization was successful.
2025-08-12 09:33:02.438 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:33:02.440 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:33:02.441 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:33:02.442 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:33:02.443 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:33:02.445 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:33:02.447 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:33:02.448 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI).
2025-08-12 09:33:02.450 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:33:02.453 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:33:02.454 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:33:02.456 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:33:02.458 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.NotificationController (StudentManagementAPI)
2025-08-12 09:33:02.459 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:33:02.460 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:33:02.461 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:33:02.462 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:33:02.464 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:33:02.467 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:33:02.468 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:33:02.469 +07:00 [DBG] Attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' using the name '' in request data ...
2025-08-12 09:33:02.470 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.ScoreController (StudentManagementAPI)
2025-08-12 09:33:02.471 +07:00 [DBG] Created DbConnection. (4ms).
2025-08-12 09:33:02.473 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:33:02.474 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32' using the name 'Page' in request data ...
2025-08-12 09:33:02.476 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:33:02.476 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.478 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:33:02.480 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.Page' of type 'System.Int32'.
2025-08-12 09:33:02.482 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:33:02.483 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.484 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:33:02.486 +07:00 [DBG] Attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-08-12 09:33:02.487 +07:00 [DBG] Created DbConnection. (4ms).
2025-08-12 09:33:02.488 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:33:02.489 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.SemesterController (StudentManagementAPI)
2025-08-12 09:33:02.490 +07:00 [DBG] Done attempting to bind property 'StudentManagementAPI.DTOs.Common.PaginationQueryDto.PageSize' of type 'System.Int32'.
2025-08-12 09:33:02.492 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.493 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:33:02.495 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:33:02.497 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:33:02.499 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.500 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-08-12 09:33:02.503 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:33:02.504 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:33:02.506 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:33:02.508 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:33:02.509 +07:00 [DBG] Created DbConnection. (6ms).
2025-08-12 09:33:02.510 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto' ...
2025-08-12 09:33:02.511 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-08-12 09:33:02.516 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.518 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'StudentManagementAPI.DTOs.Common.PaginationQueryDto'.
2025-08-12 09:33:02.518 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:33:02.519 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-08-12 09:33:02.528 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:33:02.534 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.530 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.532 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 09:33:02.537 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:33:02.538 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:33:02.540 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.544 +07:00 [DBG] Created DbConnection. (7ms).
2025-08-12 09:33:02.546 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-12 09:33:02.547 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.548 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.549 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-08-12 09:33:02.551 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.556 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:33:02.559 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EnrollmentId], [s].[Final], [s].[Midterm], [s].[Other], [s].[Total], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId], [s0].[Id], [s0].[DateOfBirth], [s0].[DepartmentId], [s0].[Gender], [s0].[ProgramId], [s0].[StudentCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s1].[Id], [s1].[Credit], [s1].[Description], [s1].[Name], [s1].[SemesterId], [s1].[SubjectCode], [s2].[Id], [s2].[EndDate], [s2].[IsOpen], [s2].[Name], [s2].[StartDate]
FROM [Scores] AS [s]
INNER JOIN [Enrollments] AS [e] ON [s].[EnrollmentId] = [e].[Id]
INNER JOIN [CourseClasses] AS [c] ON [e].[CourseClassId] = [c].[Id]
INNER JOIN [Students] AS [s0] ON [e].[StudentId] = [s0].[Id]
INNER JOIN [Users] AS [u] ON [s0].[Id] = [u].[Id]
INNER JOIN [Subjects] AS [s1] ON [c].[SubjectId] = [s1].[Id]
INNER JOIN [Semesters] AS [s2] ON [c].[SemesterId] = [s2].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-08-12 09:33:02.564 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.560 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 29ms reading results.
2025-08-12 09:33:02.564 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[EndDate], [s].[IsOpen], [s].[Name], [s].[StartDate]
FROM [Semesters] AS [s]
ORDER BY [s].[StartDate] DESC
2025-08-12 09:33:02.568 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.570 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:33:02.572 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.575 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.578 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.579 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-08-12 09:33:02.580 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-12 09:33:02.582 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.583 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.585 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-12 09:33:02.587 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:33:02.588 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.590 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.592 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:33:02.594 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:33:02.596 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.598 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.602 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:33:02.604 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 28ms reading results.
2025-08-12 09:33:02.606 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__role_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
2025-08-12 09:33:02.606 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.607 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:33:02.609 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.611 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.612 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.613 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:33:02.615 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (6ms).
2025-08-12 09:33:02.617 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 6ms reading results.
2025-08-12 09:33:02.619 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.620 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 09:33:02.621 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:33:02.623 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.625 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.626 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 179.434ms
2025-08-12 09:33:02.629 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:33:02.631 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (7ms).
2025-08-12 09:33:02.633 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.634 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:33:02.635 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:33:02.637 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.638 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.639 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:33:02.640 +07:00 [DBG] Connection id "0HNEP89VK0AVB" received FIN.
2025-08-12 09:33:02.640 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:33:02.642 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.644 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.645 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.647 +07:00 [DBG] Connection id "0HNEP89VK0AVB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:33:02.648 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:33:02.650 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:33:02.651 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.653 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-12 09:33:02.655 +07:00 [DBG] Connection id "0HNEP89VK0AVB" disconnecting.
2025-08-12 09:33:02.656 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.Semester.SemesterDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:33:02.657 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-08-12 09:33:02.660 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 302.8961ms
2025-08-12 09:33:02.659 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.663 +07:00 [INF] Executed action StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI) in 178.2178ms
2025-08-12 09:33:02.664 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-08-12 09:33:02.669 +07:00 [DBG] Connection id "0HNEP89VK0AVB" stopped.
2025-08-12 09:33:02.670 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.671 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.SemesterController.GetAll (StudentManagementAPI)'
2025-08-12 09:33:02.672 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:33:02.675 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.676 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:33:02.681 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.682 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n0].[Id], [n0].[Title], [n0].[Content], [u].[FullName] AS [CreatorName], [n0].[CreatedAt], [n0].[TargetRole]
FROM (
    SELECT [n].[Id], [n].[Content], [n].[CreatedAt], [n].[CreatedBy], [n].[TargetRole], [n].[Title]
    FROM [Notifications] AS [n]
    WHERE [n].[TargetRole] = @__role_0 OR [n].[TargetRole] = N'All'
    ORDER BY [n].[Id] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [n0]
INNER JOIN [Users] AS [u] ON [n0].[CreatedBy] = [u].[Id]
ORDER BY [n0].[Id] DESC
2025-08-12 09:33:02.682 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.683 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.685 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.686 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 09:33:02.688 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.689 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 4ms reading results.
2025-08-12 09:33:02.691 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7172/api/semesters - 200 null application/json; charset=utf-8 300.3869ms
2025-08-12 09:33:02.692 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.694 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.698 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.699 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (4ms).
2025-08-12 09:33:02.701 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.702 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:33:02.703 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.705 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:33:02.707 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.708 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:33:02.709 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.710 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:33:02.711 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.711 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:33:02.712 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.714 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.Models.Common.PaginatedResult`1[[StudentManagementAPI.DTOs.Notification.NotificationDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:33:02.715 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.717 +07:00 [INF] Executed action StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI) in 266.5016ms
2025-08-12 09:33:02.718 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.719 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.NotificationController.GetPagedNotifications (StudentManagementAPI)'
2025-08-12 09:33:02.720 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.722 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:33:02.722 +07:00 [DBG] Connection id "0HNEP89VK0AVC" received FIN.
2025-08-12 09:33:02.723 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.724 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.725 +07:00 [DBG] Connection id "0HNEP89VK0AVC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:33:02.726 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.727 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-08-12 09:33:02.729 +07:00 [DBG] Connection id "0HNEP89VK0AVC" disconnecting.
2025-08-12 09:33:02.730 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.731 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/notifications?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 363.9443ms
2025-08-12 09:33:02.733 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.737 +07:00 [DBG] Connection id "0HNEP89VK0AVC" stopped.
2025-08-12 09:33:02.738 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.740 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.741 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.743 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.744 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.745 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.746 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.747 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.748 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.750 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.751 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.752 +07:00 [DBG] The navigation 'Enrollment.CourseClass' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.753 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.754 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.756 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.758 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.760 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.761 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.763 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.765 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.766 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.767 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.768 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.770 +07:00 [DBG] Context 'AppDbContext' started tracking 'Student' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.771 +07:00 [DBG] The navigation 'Student.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.772 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.773 +07:00 [DBG] Context 'AppDbContext' started tracking 'Score' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.774 +07:00 [DBG] The navigation 'Enrollment.Student' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.775 +07:00 [DBG] The navigation 'Enrollment.Score' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.778 +07:00 [DBG] The navigation 'Score.Enrollment' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.779 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:33:02.780 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.781 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 212ms reading results.
2025-08-12 09:33:02.782 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.784 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:33:02.785 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:33:02.787 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:33:02.788 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:33:02.789 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:33:02.790 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:33:02.791 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ScoreDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:33:02.793 +07:00 [INF] Executed action StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI) in 328.4866ms
2025-08-12 09:33:02.794 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.ScoreController.GetScoresForMyClasses (StudentManagementAPI)'
2025-08-12 09:33:02.795 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:33:02.796 +07:00 [DBG] Connection id "0HNEP89VK0AVD" received FIN.
2025-08-12 09:33:02.796 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:33:02.797 +07:00 [DBG] Connection id "0HNEP89VK0AVD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:33:02.798 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-08-12 09:33:02.800 +07:00 [DBG] Connection id "0HNEP89VK0AVD" disconnecting.
2025-08-12 09:33:02.801 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/score/my-class - 200 null application/json; charset=utf-8 428.4798ms
2025-08-12 09:33:02.805 +07:00 [DBG] Connection id "0HNEP89VK0AVD" stopped.
2025-08-12 09:34:08.104 +07:00 [DBG] Connection id "0HNEP89VK0AVE" accepted.
2025-08-12 09:34:08.110 +07:00 [DBG] Connection id "0HNEP89VK0AVE" started.
2025-08-12 09:34:08.115 +07:00 [DBG] Connection 0HNEP89VK0AVE established using the following protocol: "Tls13"
2025-08-12 09:34:08.117 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - null null
2025-08-12 09:34:08.120 +07:00 [DBG] 1 candidate(s) found for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:34:08.122 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)' with route pattern 'api/CourseClass/teacher/{teacherId}' is valid for the request path '/api/CourseClass/teacher/2'
2025-08-12 09:34:08.124 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:34:08.125 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:34:08.126 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:34:08.127 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:34:08.128 +07:00 [DBG] Authorization was successful.
2025-08-12 09:34:08.129 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:34:08.130 +07:00 [INF] Route matched with {action = "GetByTeacher", controller = "CourseClass"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByTeacher(Int32) on controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI).
2025-08-12 09:34:08.132 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:34:08.133 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:34:08.136 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:34:08.138 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:34:08.139 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:34:08.140 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:34:08.142 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.CourseClassController (StudentManagementAPI)
2025-08-12 09:34:08.144 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:34:08.145 +07:00 [DBG] Attempting to bind parameter 'teacherId' of type 'System.Int32' using the name 'teacherId' in request data ...
2025-08-12 09:34:08.147 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:34:08.149 +07:00 [DBG] Done attempting to bind parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:34:08.151 +07:00 [DBG] Attempting to validate the bound parameter 'teacherId' of type 'System.Int32' ...
2025-08-12 09:34:08.152 +07:00 [DBG] Done attempting to validate the bound parameter 'teacherId' of type 'System.Int32'.
2025-08-12 09:34:08.154 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:34:08.157 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:34:08.158 +07:00 [DBG] Created DbConnection. (0ms).
2025-08-12 09:34:08.159 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:34:08.160 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:34:08.161 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:34:08.162 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:34:08.164 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:34:08.165 +07:00 [DBG] Executing DbCommand [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:34:08.175 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassCode], [c].[MaxStudents], [c].[Schedule], [c].[SemesterId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[Credit], [s].[Description], [s].[Name], [s].[SemesterId], [s].[SubjectCode], [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username], [s0].[Id], [s0].[EndDate], [s0].[IsOpen], [s0].[Name], [s0].[StartDate], [e].[Id], [e].[CourseClassId], [e].[EnrollDate], [e].[StudentId]
FROM [CourseClasses] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
INNER JOIN [Semesters] AS [s0] ON [c].[SemesterId] = [s0].[Id]
LEFT JOIN [Enrollments] AS [e] ON [c].[Id] = [e].[CourseClassId]
WHERE [c].[TeacherId] = @__teacherId_0
ORDER BY [c].[Id], [s].[Id], [t].[Id], [u].[Id], [s0].[Id]
2025-08-12 09:34:08.178 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.179 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.180 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.181 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.183 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.184 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.185 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.186 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.187 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.188 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.191 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.192 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.193 +07:00 [DBG] The navigation 'CourseClass.Teacher' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.194 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.195 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.198 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.199 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.200 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.201 +07:00 [DBG] Context 'AppDbContext' started tracking 'CourseClass' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.202 +07:00 [DBG] The navigation 'CourseClass.Subject' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.204 +07:00 [DBG] Context 'AppDbContext' started tracking 'Subject' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.205 +07:00 [DBG] The navigation 'CourseClass.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.206 +07:00 [DBG] The navigation 'Subject.Semester' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.207 +07:00 [DBG] Context 'AppDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.208 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.209 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.212 +07:00 [DBG] Context 'AppDbContext' started tracking 'Enrollment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:08.213 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:34:08.215 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 36ms reading results.
2025-08-12 09:34:08.216 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:34:08.218 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:34:08.220 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:34:08.223 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:34:08.223 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:34:08.225 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:34:08.226 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:34:08.228 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[StudentManagementAPI.DTOs.CourseClass.CourseClassDto, StudentManagementAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:34:08.229 +07:00 [INF] Executed action StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI) in 88.7166ms
2025-08-12 09:34:08.230 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.CourseClassController.GetByTeacher (StudentManagementAPI)'
2025-08-12 09:34:08.232 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:34:08.233 +07:00 [DBG] Connection id "0HNEP89VK0AVE" received FIN.
2025-08-12 09:34:08.236 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:34:08.239 +07:00 [DBG] Connection id "0HNEP89VK0AVE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:34:08.241 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-08-12 09:34:08.242 +07:00 [DBG] Connection id "0HNEP89VK0AVE" disconnecting.
2025-08-12 09:34:08.244 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/CourseClass/teacher/2 - 200 null application/json; charset=utf-8 127.1582ms
2025-08-12 09:34:08.250 +07:00 [DBG] Connection id "0HNEP89VK0AVE" stopped.
2025-08-12 09:34:32.176 +07:00 [DBG] Connection id "0HNEP89VK0AVF" accepted.
2025-08-12 09:34:32.183 +07:00 [DBG] Connection id "0HNEP89VK0AVF" started.
2025-08-12 09:34:32.188 +07:00 [DBG] Connection 0HNEP89VK0AVF established using the following protocol: "Tls13"
2025-08-12 09:34:32.189 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7172/api/teachers/me - null null
2025-08-12 09:34:32.192 +07:00 [DBG] 2 candidate(s) found for the request path '/api/teachers/me'
2025-08-12 09:34:32.194 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)' with route pattern 'api/teachers/me' is valid for the request path '/api/teachers/me'
2025-08-12 09:34:32.196 +07:00 [DBG] Endpoint 'StudentManagementAPI.Controllers.TeacherController.GetById (StudentManagementAPI)' with route pattern 'api/teachers/{id}' is valid for the request path '/api/teachers/me'
2025-08-12 09:34:32.198 +07:00 [DBG] Request matched endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:34:32.199 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-08-12 09:34:32.200 +07:00 [DBG] Successfully validated the token.
2025-08-12 09:34:32.201 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-08-12 09:34:32.202 +07:00 [DBG] Authorization was successful.
2025-08-12 09:34:32.203 +07:00 [INF] Executing endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:34:32.204 +07:00 [INF] Route matched with {action = "GetMe", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI).
2025-08-12 09:34:32.206 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-08-12 09:34:32.208 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-08-12 09:34:32.210 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-08-12 09:34:32.212 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-08-12 09:34:32.214 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-08-12 09:34:32.216 +07:00 [DBG] Executing controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:34:32.217 +07:00 [DBG] Executed controller factory for controller StudentManagementAPI.Controllers.TeacherController (StudentManagementAPI)
2025-08-12 09:34:32.219 +07:00 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.7' with options: EngineType=SqlServer 
2025-08-12 09:34:32.222 +07:00 [DBG] Creating DbConnection.
2025-08-12 09:34:32.223 +07:00 [DBG] Created DbConnection. (1ms).
2025-08-12 09:34:32.224 +07:00 [DBG] Opening connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:34:32.227 +07:00 [DBG] Opened connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:34:32.228 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-12 09:34:32.230 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-08-12 09:34:32.231 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-08-12 09:34:32.233 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:34:32.237 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Degree], [t].[TeacherCode], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[Username]
FROM [Teachers] AS [t]
INNER JOIN [Users] AS [u] ON [t].[Id] = [u].[Id]
WHERE [t].[Id] = @__id_0
2025-08-12 09:34:32.240 +07:00 [DBG] Context 'AppDbContext' started tracking 'Teacher' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:32.241 +07:00 [DBG] The navigation 'Teacher.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:32.243 +07:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-08-12 09:34:32.244 +07:00 [DBG] Closing data reader to 'StudentManagementDB' on server '.'.
2025-08-12 09:34:32.245 +07:00 [DBG] A data reader for 'StudentManagementDB' on server '.' is being disposed after spending 5ms reading results.
2025-08-12 09:34:32.247 +07:00 [DBG] Closing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:34:32.249 +07:00 [DBG] Closed connection to database 'StudentManagementDB' on server '.' (1ms).
2025-08-12 09:34:32.251 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-08-12 09:34:32.253 +07:00 [DBG] No information found on request to perform content negotiation.
2025-08-12 09:34:32.254 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-08-12 09:34:32.255 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-08-12 09:34:32.256 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-08-12 09:34:32.257 +07:00 [INF] Executing OkObjectResult, writing value of type 'StudentManagementAPI.DTOs.Teacher.TeacherDto'.
2025-08-12 09:34:32.258 +07:00 [INF] Executed action StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI) in 42.7862ms
2025-08-12 09:34:32.260 +07:00 [INF] Executed endpoint 'StudentManagementAPI.Controllers.TeacherController.GetMe (StudentManagementAPI)'
2025-08-12 09:34:32.262 +07:00 [DBG] 'AppDbContext' disposed.
2025-08-12 09:34:32.263 +07:00 [DBG] Connection id "0HNEP89VK0AVF" received FIN.
2025-08-12 09:34:32.264 +07:00 [DBG] Disposing connection to database 'StudentManagementDB' on server '.'.
2025-08-12 09:34:32.270 +07:00 [DBG] Connection id "0HNEP89VK0AVF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-12 09:34:32.271 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-08-12 09:34:32.272 +07:00 [DBG] Connection id "0HNEP89VK0AVF" disconnecting.
2025-08-12 09:34:32.274 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7172/api/teachers/me - 200 null application/json; charset=utf-8 84.9332ms
2025-08-12 09:34:32.279 +07:00 [DBG] Connection id "0HNEP89VK0AVF" stopped.
